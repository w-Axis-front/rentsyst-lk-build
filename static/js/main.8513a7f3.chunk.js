(this["webpackJsonprentsyst-personal"]=this["webpackJsonprentsyst-personal"]||[]).push([[0],{115:function(e,a,t){e.exports={btns:"actions_btns__1clPp",todo:"actions_todo__3GdFG"}},122:function(e,a,t){e.exports={select:"select_select__2P1jo"}},15:function(e,a,t){e.exports={container:"ae_container__1tuoI","account-wrap":"ae_account-wrap__2ub0g",account__button:"ae_account__button__3uOkN","account__personal-data-wrapper":"ae_account__personal-data-wrapper__34jVc","account__form-row":"ae_account__form-row__18uAc","account__form-group":"ae_account__form-group__1MMOE","account__form-group-m":"ae_account__form-group-m__1BXgB","account__form-group-s":"ae_account__form-group-s__3Czwv",account:"ae_account__yJ4Ry","account__help-block":"ae_account__help-block__ckEDr",avatar:"ae_avatar__7YEqb",avatar__preview:"ae_avatar__preview__1R0CF",avatar__btn:"ae_avatar__btn__20dwi","avatar__btn-edit":"ae_avatar__btn-edit__3iHSI",avatar__file:"ae_avatar__file__10_IF","avatar__btn-remove":"ae_avatar__btn-remove__-2hZ8",documents__title:"ae_documents__title__pz6rI",document:"ae_document__2Qqsi",document__styled:"ae_document__styled__1Mag_",document__label:"ae_document__label__33h3a",document__text:"ae_document__text__3bYGa",document__thumb:"ae_document__thumb__2FCmt","document__thumb-unpointed":"ae_document__thumb-unpointed__1SM-z","document__photo-remove":"ae_document__photo-remove__WgbLP",document__photo:"ae_document__photo__2KIHT","document__item-remove":"ae_document__item-remove__2GhKn",document__upload:"ae_document__upload__1wLa_","document__form-photo-input":"ae_document__form-photo-input__2D-MT",document__btn:"ae_document__btn__3fg1k",document__select:"ae_document__select__EDFsj",modal:"ae_modal__16jV2",modal__content:"ae_modal__content__es1fg"}},168:function(e,a,t){e.exports={icon:"infotip_icon__3PSzt"}},17:function(e,a,t){e.exports={vc:"vc_vc__3ejtQ","reserve-num":"vc_reserve-num__2TXWz","reserve-type":"vc_reserve-type__1eZtE","reserve-status":"vc_reserve-status__n6ZDo","reserve-info":"vc_reserve-info__3-Qxk","reserve-info--status":"vc_reserve-info--status__OY5OA","dl-cotainer":"vc_dl-cotainer__g0GSV","dl-item":"vc_dl-item__3_RLb",actions:"vc_actions__27LLg","map-place":"vc_map-place__ifYYG","map-place--mt":"vc_map-place--mt__1x1-O",vehicle:"vc_vehicle__w8bFA",vehicle__img:"vc_vehicle__img__1CiVF",vehicle__group:"vc_vehicle__group__2elUH",vehicle__title:"vc_vehicle__title__2JVaI",vehicle__similar:"vc_vehicle__similar__3LxTj",vehicle__info:"vc_vehicle__info__3ES05","ld-edit":"vc_ld-edit__2_mYL","ld-edit__row":"vc_ld-edit__row__2jQgP","map-row":"vc_map-row__A-JPb","ld-edit__dates":"vc_ld-edit__dates__2jtzE"}},170:function(e,a,t){e.exports={pagination:"pagination_pagination__362JL"}},171:function(e,a,t){e.exports={"time-left":"rt_time-left__23DXm"}},173:function(e,a,t){e.exports={reservation:"pages_reservation__3iWWp"}},179:function(e,a,t){e.exports=t(325)},18:function(e,a,t){e.exports={bc:"billing_bc__1KK5d","links-list":"billing_links-list__lPUvp",payments:"billing_payments__3eM8r",payments__method:"billing_payments__method__1e9GD",discount:"billing_discount__1cUlN",discount__label:"billing_discount__label__1FoC2",discount__details:"billing_discount__details__3xz-e",discount__form:"billing_discount__form__1z2fG",discount__icon:"billing_discount__icon__LYxUu",discount__input:"billing_discount__input__2_k_N","discount__input-info":"billing_discount__input-info__3QmMK","discount__input-error":"billing_discount__input-error__O_RFP",discount__btn:"billing_discount__btn__MVEOx",discount__remove:"billing_discount__remove__1YJUz","is-loading":"billing_is-loading__46T61",prices:"billing_prices__2U9vS","label-discount":"billing_label-discount__1ViWh","total-row":"billing_total-row__1GOQd",sign__place:"billing_sign__place__2ae6-",sign__modal:"billing_sign__modal__3Iev6",sign__btn:"billing_sign__btn__36j_c","sign__btn-skelet":"billing_sign__btn-skelet__2uHN9",sign__create:"billing_sign__create__3cHng","sign__create-text":"billing_sign__create-text__3m5v-",sign__content:"billing_sign__content__Q-jNl"}},24:function(e,a,t){e.exports={card:"extras_card__2G3r6",item:"extras_item__RY1LA",data:"extras_data__3P4bd","hidden-input":"extras_hidden-input__msZTy",label:"extras_label__2fLFV","label--radio":"extras_label--radio__2zBrR","label--check":"extras_label--check__3xB5n",quantity:"extras_quantity__2w6WZ",quantity__input:"extras_quantity__input__3LVfk",quantity__button:"extras_quantity__button__3hD9h",left:"extras_left__1-8pj",right:"extras_right__wGPSE","i-desc":"extras_i-desc__U6Dlc"}},29:function(e,a,t){e.exports={dc:"dc_dc__1iUE2",driver:"dc_driver__1wbNC",driver__name:"dc_driver__name__2tNG8",driver__docs:"dc_driver__docs__39aPZ",driver__doc:"dc_driver__doc__1Ljs8","driver__doc-label":"dc_driver__doc-label__3ICGt","driver__doc-num":"dc_driver__doc-num__XL3dX","driver__license-btn":"dc_driver__license-btn__3SROf","btn-skeleton":"dc_btn-skeleton__2Kqsb","driver__license-error":"dc_driver__license-error__2Xf4O","column--drivers":"dc_column--drivers__1kQQ8"}},324:function(e,a,t){},325:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(32),l=t.n(c),o=t(7),i=t(56),s=t(165),u=t(1),m={isLoggedIn:localStorage&&"true"===localStorage.getItem("rsIsLogged"),loading:!1,mailIsSended:!1,message:""};var d={filters:{type:null,reserved_status:null,period:null},loading:!1,data:{reservations:[],pagination:{begin:0,count_pages:0,end:0,page:1,per_page:1,total_count:0}},reservation:null};var _=t(41),v=function(e,a,t){var n=e.findIndex((function(e){return e.id===t})),r=e.find((function(e){return e.id===t}));return r?[].concat(Object(_.a)(e.slice(0,n)),[Object(u.a)(Object(u.a)({},r),{},{photos:r.photos?r.photos.filter((function(e){return e.id!==a})):[]})],Object(_.a)(e.slice(n+1))):Object(_.a)(e)},p={loading:!1,data:{first_name:"",last_name:"",email:"",phone:"",birthday:"",country:null,zip:"",state:"",city:"",street:"",building:"",documents:[],avatar:null}};var f=Object(i.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN":return localStorage&&localStorage.setItem("rsIsLogged","true"),Object(u.a)(Object(u.a)({},e),{},{isLoggedIn:!0});case"LOGOUT":return localStorage&&localStorage.removeItem("rsIsLogged"),Object(u.a)(Object(u.a)({},e),{},{isLoggedIn:!1});case"SET_AUTH_LOADING":return Object(u.a)(Object(u.a)({},e),{},{loading:a.payload});case"SET_MAIL_SENDED":return Object(u.a)(Object(u.a)({},e),{},{mailIsSended:a.payload.status,message:a.payload.message||""});default:return e}},reservations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_RESERVATION_LOADING":return Object(u.a)(Object(u.a)({},e),{},{loading:a.payload});case"SET_RESERVATIONS":return Object(u.a)(Object(u.a)({},e),{},{data:a.payload});case"UPDATE_FILTERS":var t=Object(u.a)({},e.filters);return Object.keys(t).forEach((function(e){var n=a.payload[e],r=Array.isArray(n)?n[0]:n;t[e]=r||null})),Object(u.a)(Object(u.a)({},e),{},{filters:Object(u.a)(Object(u.a)({},e.filters),t)});case"SET_RESERVATION":return Object(u.a)(Object(u.a)({},e),{},{reservation:a.payload});case"UPDATE_RESERVATION":var n=Object(u.a)({},e.reservation);return Object(u.a)(Object(u.a)({},e),{},{reservation:Object(u.a)(Object(u.a)({},n),a.payload)});default:return e}},driver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_DRIVER_LOADING":return Object(u.a)(Object(u.a)({},e),{},{loading:a.payload});case"UPDATE_DRIVER":return Object(u.a)(Object(u.a)({},e),{},{data:Object(u.a)(Object(u.a)({},e.data),a.payload)});case"UPDATE_DRIVER_AVATAR":return Object(u.a)(Object(u.a)({},e),{},{data:Object(u.a)(Object(u.a)({},e.data),{},{avatar:a.payload})});case"UPDATE_DRIVER_DOCUMENTS":return Object(u.a)(Object(u.a)({},e),{},{data:Object(u.a)(Object(u.a)({},e.data),{},{documents:e.data.documents.filter((function(e){return e.id!==a.payload}))})});case"UPDATE_DRIVER_DOCUMENT_PHOTO":return Object(u.a)(Object(u.a)({},e),{},{data:Object(u.a)(Object(u.a)({},e.data),{},{documents:v(e.data.documents,a.payload.photoId,a.payload.docId)})});default:return e}}}),b=i.d,g=Object(i.e)(f,b(Object(i.a)(s.a))),h=t(50),E=(t(188),o.e),y=t(37),N=t(27),O=t(115),j=t.n(O),w=function(){var e=E((function(e){return e.reservations.reservation})),a=e.status,t=e.type.toLowerCase(),n=a.toLowerCase(),c="reject"===n||"cancel"===n,l=Object(N.g)(),o=function(e){l.goBack()};return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"column"}),r.a.createElement("div",{className:"column column--2"},r.a.createElement("div",{className:"column__row jc-fe ai-fs ".concat(j.a.btns)},r.a.createElement(ot,{text:"Back",onClick:o}),!c&&"done"!==n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(et,{className:j.a.todo,actions:e.necessary_actions}),r.a.createElement(ot,{text:"Confirm",color:"keyless"===t?"green":"standard"===t?"blue":"black",onClick:o})))))},x=t(4),k=t(34),C=t.n(k),D=t(3),S=t.n(D),R=t(14),T=t(66),L=t.n(T),I="https://api-cabinet-test.rentsyst.com/v1",A=new Date(Date.now()-567648e6),F=function(){var e="",a=localStorage.getItem("refreshToken")||"",t=0;function n(e){var a=e.accessToken,t=e.exp,n=e.refreshToken;F.setRefreshToken(n),F.setBearer(a),F.setAccessTokenExp(t)}function r(e){return{accessToken:e.access_token,exp:(new Date).getTime()+(e.expires_in||0),refreshToken:e.refresh_token}}return{makeLogin:function(){var e=Object(R.a)(S.a.mark((function e(a){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.post("".concat(I,"/auth"),{"one-time-token":a});case 2:return n(r((t=e.sent).data.data)),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),refreshTokens:function(){var e=Object(R.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.post("".concat(I,"/auth/refresh"),{"refresh-token":a});case 3:return n(r((t=e.sent).data.data)),e.abrupt("return",t);case 8:throw e.prev=8,e.t0=e.catch(0),F.setRefreshToken(""),F.setBearer(""),F.setAccessTokenExp(0),localStorage.removeItem("rsIsLogged"),g.dispatch({type:"LOGOUT"}),new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),debounceRefreshTokens:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=null,n=[];return function(){return null!==t&&(clearTimeout(t),t=null),t=setTimeout((function(){var a=e();n.forEach((function(e){return e(a)})),n=[]}),a),new Promise((function(e){return n.push(e)}))}}((function(){return F.refreshTokens()}),100),setBearer:function(a){e="Bearer ".concat(a)},getBearer:function(){return e},setAccessTokenExp:function(e){t=e},getAccessTokenExp:function(){return t},isAccessTokenExpired:function(){return t-5e3<=(new Date).getTime()},hasRefreshToken:function(){return Boolean(localStorage.getItem("refreshToken"))},setRefreshToken:function(e){a=e,localStorage.setItem("refreshToken",e)}}}(),P=F,M=function(){var e=L.a.create({baseURL:I});return{init:function(){return e.interceptors.request.use(function(){var e=Object(R.a)(S.a.mark((function e(a){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.headers.authorization=P.getBearer(),!P.isAccessTokenExpired()){e.next=14;break}return e.prev=2,e.next=5,P.debounceRefreshTokens();case 5:return a.headers.authorization=P.getBearer(),e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",Promise.reject(e.t0));case 12:e.next=15;break;case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(a){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),e}}}().init(),U=L.a.create({baseURL:I}),B={deleteReservationCoupon:function(e){return M({method:"delete",url:"/reservations/".concat(e,"/coupon")})},deleteReservationLoyalty:function(e){return M({method:"delete",url:"/reservations/".concat(e,"/loyalty")})},getDriverInfo:function(){return M({method:"get",url:"/account"})},getReservation:function(e){return M({method:"get",url:"/reservations/".concat(e)})},getReservationExtras:function(e){return M({method:"get",url:"/reservations/".concat(e,"/extras")})},getReservations:function(e){return M({method:"get",url:"/reservations".concat(e)})},getVehicleBusyDates:function(e){return M({method:"get",url:"/vehicles/".concat(e,"/busy-dates")})},getVehicleOffice:function(e,a){return M({method:"get",url:"/vehicles/".concat(e,"/reservation-times"),params:a})},postLogin:function(e){return P.makeLogin(e)},postReservationCoupon:function(e,a){return M({method:"post",url:"/reservations/".concat(e,"/coupon"),data:{coupon:a}})},postReservationLoyalty:function(e,a){return M({method:"post",url:"/reservations/".concat(e,"/loyalty"),data:{amount:a}})},postSendEmail:function(e){return U({method:"post",url:"/auth/request-login",data:{email:e}})},postSignature:function(e,a){var t=new FormData;return t.append("signature",a),M({method:"post",url:"/reservations/".concat(e,"/signature"),data:t})},putReservation:function(e,a){return M({method:"put",url:"/reservations/".concat(e),data:a})},putReservationExtras:function(e,a){return M({method:"put",url:"/reservations/".concat(e,"/extras"),data:a})},putReservationReject:function(e,a){return M({method:"put",url:"/reservations/".concat(e,"/annul"),data:a})},postAvatar:function(e){var a=new FormData;return a.append("avatar",e),M({method:"post",url:"/account/avatar",data:a})},deleteAvatar:function(e){return M({method:"delete",url:"/account/avatar/".concat(e)})},deleteDocument:function(e){return M({method:"delete",url:"/account/documents/".concat(e)})},deleteDocumentPhoto:function(e,a){return M({method:"delete",url:"/account/documents/".concat(a,"/photos/").concat(e)})},postSendAccountData:function(e){return M({method:"put",url:"/account",data:e})},postDocumentFile:function(e){var a=new FormData;return a.append("file",e),M({method:"post",url:"/account/documents/photos",data:a})},postSendDocument:function(e){return M({method:"post",url:"/account/documents",data:e})},updateDocument:function(e,a){return M({method:"put",url:"/account/documents/".concat(e),data:a})},getAccountCountries:function(){return M({method:"get",url:"/account/countries"})}},q=function(e){return{type:"SET_AUTH_LOADING",payload:e}},G=function(e,a){return{type:"SET_MAIL_SENDED",payload:{status:e,message:a}}},V=t(48),z=t(57),H=t.n(z),Y=function(e){return{type:"SET_RESERVATION_LOADING",payload:e}},W=function(e){return{type:"SET_RESERVATION",payload:e}},Q=function(e){return{type:"UPDATE_RESERVATION",payload:e}},Z=function(e,a){return function(){var t=Object(R.a)(S.a.mark((function t(n,r){var c,l,i,s,u,m,d,_,v,p,f;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r().reservations,l=c.reservation,i=c.loading,l&&!i){t.next=3;break}return t.abrupt("return");case 3:return n(Y(!0)),s={insurance:e.filter((function(e){return!0===e.checked}))[0].id,extras:a.reduce((function(e,a){return a.quantity>0&&e.push({quantity:a.quantity,id:a.id}),e}),[])},t.prev=5,t.next=8,B.putReservationExtras(l.id,s);case 8:(u=t.sent).data.status&&(m=u.data.data,d=m.extras,_=m.insurances,v=m.taxes,p=m.prices,f=m.delivery_data,Object(o.b)((function(){n(Q({extras_data:{extras:d,insurances:_,taxes:v,delivery_data:f},prices:p})),n(Y(!1))})),V.a.rebuild()),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(5),console.error("Update extras server error"),n(Y(!1));case 16:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,a){return t.apply(this,arguments)}}()},K=function(e,a,t){return function(){var n=Object(R.a)(S.a.mark((function n(r,c){var l,i,s;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=c().reservations,i=l.reservation,!l.loading&&i){n.next=3;break}return n.abrupt("return");case 3:return r(Y(!0)),n.prev=4,n.next=7,B.postReservationCoupon(i.id,e);case 7:(s=n.sent).status&&(Object(o.b)((function(){r(Q(s.data.data)),r(Y(!1))})),a&&a()),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(4),console.error("Send coupon server error"),r(Y(!1)),t&&t(n.t0.response.data);case 16:case"end":return n.stop()}}),n,null,[[4,11]])})));return function(e,a){return n.apply(this,arguments)}}()},J=function(e,a,t){return function(){var n=Object(R.a)(S.a.mark((function n(r,c){var l,i,s;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=c().reservations,i=l.reservation,!l.loading&&i){n.next=3;break}return n.abrupt("return");case 3:return r(Y(!0)),n.prev=4,n.next=7,B.postReservationLoyalty(i.id,e);case 7:(s=n.sent).status&&(Object(o.b)((function(){r(Q(s.data.data)),r(Y(!1))})),a&&a()),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(4),console.error("Send loyalty points server error"),r(Y(!1)),t&&t(n.t0.response.data);case 16:case"end":return n.stop()}}),n,null,[[4,11]])})));return function(e,a){return n.apply(this,arguments)}}()},X=function(e,a){return function(){var t=Object(R.a)(S.a.mark((function t(n,r){var c,l,i;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r().reservations,l=c.reservation,!c.loading&&l){t.next=3;break}return t.abrupt("return");case 3:return n(Y(!0)),t.prev=4,t.next=7,B.deleteReservationCoupon(l.id);case 7:(i=t.sent).status&&(Object(o.b)((function(){n(Q(i.data.data)),n(Y(!1))})),e&&e()),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(4),console.error("Remove coupon server error"),n(Y(!1)),a&&a(t.t0.response.data);case 16:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e,a){return t.apply(this,arguments)}}()},$=function(e,a){return function(){var t=Object(R.a)(S.a.mark((function t(n,r){var c,l,i;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r().reservations,l=c.reservation,!c.loading&&l){t.next=3;break}return t.abrupt("return");case 3:return n(Y(!0)),t.prev=4,t.next=7,B.deleteReservationLoyalty(l.id);case 7:(i=t.sent).status&&(Object(o.b)((function(){n(Q(i.data.data)),n(Y(!1))})),e&&e()),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(4),console.error("Remove loyalty server error"),n(Y(!1)),a&&a(t.t0.response.data);case 16:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e,a){return t.apply(this,arguments)}}()},ee=function(e){return{type:"SET_DRIVER_LOADING",payload:e}},ae=function(e){return{type:"UPDATE_DRIVER",payload:e}},te=function(e){return{type:"UPDATE_DRIVER_AVATAR",payload:e}},ne=function(e,a){return function(){var t=Object(R.a)(S.a.mark((function t(n,r){var c,l,i,s,u;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r().driver.loading){t.next=3;break}return t.abrupt("return");case 3:return n(ee(!0)),t.prev=4,t.next=7,Promise.all([B.getDriverInfo(),B.getAccountCountries()]);case 7:c=t.sent,l=Object(x.a)(c,2),i=l[0],s=l[1],i.data.status&&s.data.status&&(u=i.data.data,Object(o.b)((function(){n(ae(u)),n(ee(!1))})),e(s.data.data)),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(4),console.error("Get driver info server error"),n(ee(!1)),a&&a(t.t0.response.data);case 19:case"end":return t.stop()}}),t,null,[[4,14]])})));return function(e,a){return t.apply(this,arguments)}}()},re=t(62),ce=t.n(re),le=function(e){var a=e||{},t=a.isOpen,r=void 0!==t&&t,c=a.onOpen,l=a.onClose,o=Object(n.useState)(r),i=Object(x.a)(o,2),s=i[0],u=i[1];return{open:s,toggleCard:function(e){void 0!==e?(u(e),e&&(c?c():l&&l())):u((function(e){return!e}))},openCard:function(){u(!0),c&&c()},closeCard:function(){u(!1),l&&l()}}},oe=t(20),ie=function(e){var a=Object(n.useState)(e),t=Object(x.a)(a,2),r=t[0],c=t[1],l=E((function(e){return e.auth}),o.c),i=l.loading,s=l.mailIsSended,m=l.message,d=Object(o.d)();return{hasError:!s&&!!m,loading:i,onSubmitForm:function(e){var a;e.preventDefault(),d((a=r.email,function(){var e=Object(R.a)(S.a.mark((function e(t,n){var r,c,l,i,s,u,m;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n().auth.loading){e.next=3;break}return e.abrupt("return");case 3:return t(q(!0)),e.prev=4,e.next=7,B.postSendEmail(a);case 7:r=e.sent,c=r.data,l=c.status,i=c.data,Object(o.b)((function(){t(G(l,i)),t(q(!1))})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),s=e.t0.response.data,u=s.status,m=s.error,Object(o.b)((function(){t(G(u,m)),t(q(!1))}));case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(a,t){return e.apply(this,arguments)}}()))},onValueChange:function(e){var a=e.target,t=a.name,n=a.value;c((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(oe.a)({},t,n))}))},values:r}},se=function(e,a,t){var r=e.map((function(e){return window.matchMedia(e)})),c=function(){var e=r.findIndex((function(e){return e.matches}));return(null===a||void 0===a?void 0:a[e])||t},l=Object(n.useState)(c),o=Object(x.a)(l,2),i=o[0],s=o[1];return Object(n.useEffect)((function(){var e=function(){return s(c)};return r.forEach((function(a){return a.addListener(e)})),function(){return r.forEach((function(a){return a.removeListener(e)}))}}),[]),i},ue=function(e){var a=e||{},t=a.isOpen,r=a.onOpen,c=a.onClose,l=Object(n.useState)(t||!1),o=Object(x.a)(l,2),i=o[0],s=o[1];return[i,function(e){void 0!==e?(s(e),e&&(r?r():c&&c())):s((function(e){return!e}))}]},me=function(e){var a=E((function(e){return e.reservations})),t=a.reservation,r=a.loading,c=Object(o.d)();return Object(n.useEffect)((function(){c(function(e){return function(){var a=Object(R.a)(S.a.mark((function a(t,n){var r,c,l,i,s,m,d,_,v,p,f,b;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=n().reservations,c=r.data,!r.loading){a.next=3;break}return a.abrupt("return");case 3:return l=c.reservations.filter((function(a){return a.id===e}))[0],Object(o.b)((function(){t(Y(!0)),l&&t(W(l))})),a.prev=5,a.next=8,Promise.all([B.getReservation(e),B.getReservationExtras(e)]);case 8:i=a.sent,s=Object(x.a)(i,2),m=s[0],d=s[1],m.data.status&&d.data.status&&(_=d.data.data,v=_.extras,p=_.insurances,f=_.taxes,b=_.delivery_data,Object(o.b)((function(){t(W(Object(u.a)(Object(u.a)({},m.data.data),{},{extras_data:{extras:v,insurances:p,taxes:f,delivery_data:b}}))),t(Y(!1))})),V.a.rebuild()),a.next=19;break;case 15:a.prev=15,a.t0=a.catch(5),console.error("Get reservation server error"),t(Y(!1));case 19:case"end":return a.stop()}}),a,null,[[5,15]])})));return function(e,t){return a.apply(this,arguments)}}()}(+e))}),[e,c]),{reservation:t,loading:r}},de=function(){var e=Object(N.h)().search,a=Object(N.g)().push,t=function(e){var a={};return e.forEach((function(e){var t=e.name,n=e.value;a=Object(u.a)(Object(u.a)({},a),{},Object(oe.a)({},t,n))})),a};return{setLocationSearch:function(e){var n=t(e);a({search:H.a.stringify(n)})},updateLocationSearch:function(n){var r=H.a.parse(e),c=t(n);a({search:H.a.stringify(Object(u.a)(Object(u.a)({},r),c))})}}},_e=t(178),ve=function(e){var a="";a=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var t=e.split(",")[0].split(":")[1].split(";")[0],n=new Uint8Array(a.length),r=0;r<a.length;r++)n[r]=a.charCodeAt(r);return new Blob([n],{type:t})},pe=function(e){return e?e[0].toUpperCase()+e.slice(1).toLowerCase():e},fe=function(e){return e.replace(/\s/,"T")},be=function(e){return e?new Date(fe(e)):null},ge=function(e){return e<0||e>=10?e:"0".concat(e)},he=function(e){var a=Object(n.useRef)(null),t=Object(n.useRef)(null),r=function(){t.current&&t.current.clear()},c=function(){a.current&&(a.current.width=a.current.offsetWidth||700,a.current.height=a.current.offsetHeight||400),r()};return Object(n.useEffect)((function(){return a.current&&(t.current=new _e.a(a.current,{maxWidth:1.5,backgroundColor:"rgba(255, 255, 255, 0)",penColor:"#000000",onBegin:e&&(e.onDraw||void 0)}),c(),window.addEventListener("resize",c)),function(){window.removeEventListener("resize",c)}}),[]),{signRef:a,clearSignature:r,confirmSignature:function(e){if(a.current&&t.current&&!t.current.isEmpty()){var n=function(e){var a=e.getContext("2d"),t=document.createElement("canvas").getContext("2d");if(!a||!t)return"";var n,r,c,l=a.getImageData(0,0,e.width,e.height),o=l.data.length,i={top:0,left:0,right:0,bottom:0};for(n=0;n<o;n+=4)0!==l.data[n+3]&&(r=n/4%e.width,c=~~(n/4/e.width),0===i.top&&(i.top=c),(0===i.left||r<i.left)&&(i.left=r),(0===i.right||i.right<r)&&(i.right=r),(0===i.bottom||i.bottom<c)&&(i.bottom=c));var s=i.bottom-i.top,u=i.right-i.left,m=a.getImageData(i.left,i.top,u,s);return t.canvas.width=u,t.canvas.height=s,t.putImageData(m,0,0),t.canvas.toDataURL()}(a.current),r=ve(n);e&&e(n,r)}}}},Ee=function(){var e=Object(o.d)(),a=ue(),t=Object(x.a)(a,2),c=t[0],l=t[1],i=Object(n.useState)(""),s=Object(x.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(""),_=Object(x.a)(d,2),v=_[0],p=_[1],f=function(e){l(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ot,{text:"Annual",size:"small",onClick:function(e){l(!0)}}),r.a.createElement(C.a,{className:"rs-modal ".concat(ce.a.annual__modal),isOpen:c,contentLabel:"Sign Modal",onRequestClose:f},r.a.createElement("div",{className:"rs-modal__header"},r.a.createElement("span",{className:"rs-modal__title"},"Why Annul?"),r.a.createElement("button",{className:"rs-modal__close",onClick:f},r.a.createElement("span",null,"\xd7"))),r.a.createElement("div",{className:"rs-modal__body"},r.a.createElement("textarea",{className:ce.a.message,value:u,onChange:function(e){m(e.target.value)},rows:5}),v&&r.a.createElement("p",{className:ce.a.annual__error},v)),r.a.createElement("div",{className:"rs-modal__footer rs-modal__controls"},r.a.createElement(ot,{text:"Cancel",onClick:f}),r.a.createElement(ot,{text:"Annual",onClick:function(a){u.length<20?p("Needed more than 20 symbols"):(p(""),e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;return function(){var n=Object(R.a)(S.a.mark((function n(r,c){var l,i,s;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=c().reservations,i=l.reservation,!l.loading&&i){n.next=3;break}return n.abrupt("return");case 3:return r(Y(!0)),n.prev=4,n.next=7,B.putReservationReject(i.id,{message:e});case 7:(s=n.sent).data.status&&(Object(o.b)((function(){r(Q({status:s.data.data.status,annul:s.data.data.message})),r(Y(!1))})),V.a.rebuild(),a&&a()),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(4),console.error("Reject reservation server error"),r(Y(!1)),t&&t(n.t0.response.data);case 16:case"end":return n.stop()}}),n,null,[[4,11]])})));return function(e,a){return n.apply(this,arguments)}}()}(u)),l(!1))}}))))},ye=function(){var e=E((function(e){return e.reservations.reservation})).annul;return e?r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"card__title ".concat(ce.a.annual__title)},"Annul")),r.a.createElement("div",{className:"column column--2 ".concat(ce.a["text-column"])},r.a.createElement("p",{className:ce.a.annual__text},e))):null},Ne=t(18),Oe=t.n(Ne),je=function(e){var a=e.links;return r.a.createElement("ul",{className:"".concat(Oe.a["links-list"]," links-list")},r.a.createElement("li",null,r.a.createElement("a",{href:a.agreement_url,rel:"noopener noreferrer",target:"_blank"},"Agreement")),r.a.createElement("li",null,r.a.createElement("a",{href:a.invoice_url,rel:"noopener noreferrer",target:"_blank"},"Invoice")))},we=t(166),xe=t.n(we),ke=t(89),Ce=t.n(ke),De=function(e){var a=e.image,t=e.info,c=e.name,l=(e.number,e.value),o=e.mask,i=e.error,s=e.loading,u=e.onApply,m=Object(n.useState)(!1),d=Object(x.a)(m,2),_=d[0],v=d[1],p=Object(n.useState)(""),f=Object(x.a)(p,2),b=f[0],g=f[1],h=Object(n.useRef)(null),E=function(e){g(e.currentTarget.value)};return r.a.createElement("div",{className:Oe.a.discount},r.a.createElement(ut,{labelClassName:Oe.a.discount__label,check:_,name:"payment_".concat(l),onCheck:function(e){v((function(e){return!e}))},labelContent:r.a.createElement(r.a.Fragment,null,a&&r.a.createElement("img",{className:Oe.a.discount__icon,src:a,alt:""}),c)}),_&&r.a.createElement("div",{className:Oe.a.discount__details},t&&r.a.createElement("span",{className:Oe.a["discount__input-info"]},t),r.a.createElement("div",{className:Oe.a.discount__form},o?r.a.createElement(Ce.a,{ref:h,className:Oe.a.discount__input,type:"text",mask:o,value:b,onChange:E}):r.a.createElement("input",{ref:h,className:Oe.a.discount__input,type:"text",value:b,onChange:E}),r.a.createElement(ot,{className:Oe.a.discount__btn,text:"Apply",size:"small",onClick:function(e){b?u(b):h.current&&(h.current.inputElement?h.current.inputElement.focus():h.current.focus())},loading:s})),i&&r.a.createElement("span",{className:Oe.a["discount__input-error"]},i)))},Se=t(22),Re=t.n(Se),Te=function(e){var a=e.value,t=e.icon,n=e.onRemove,c=e.loading,l=void 0!==c&&c;return r.a.createElement("div",{className:"".concat(Oe.a.discount," ").concat(Oe.a.discount__form)},r.a.createElement("div",{className:Oe.a.discount__label},t&&r.a.createElement("img",{className:Oe.a.discount__icon,src:t,alt:""}),a),r.a.createElement("button",{className:Re()(Oe.a.discount__remove,Object(oe.a)({},Oe.a["is-loading"],l)),type:"button",onClick:function(e){n()}},r.a.createElement("i",{className:"fico fico-delete"})))},Le=xe()({prefix:"",suffix:"",includeThousandsSeparator:!1,allowDecimal:!0,decimalSymbol:".",decimalLimit:2,allowNegative:!1,allowLeadingZeroes:!1}),Ie=function(){var e=E((function(e){return e.reservations})),a=e.reservation,t=e.loading,c=a,l=c.payment_methods,i=c.discounts,s=c.status.toLowerCase(),u="reject"===s||"cancel"===s||"done"===s,m=Object(n.useState)(null),d=Object(x.a)(m,2),v=d[0],p=d[1],f=Object(n.useState)(""),b=Object(x.a)(f,2),g=b[0],h=b[1],y=Object(n.useState)(""),N=Object(x.a)(y,2),O=N[0],j=N[1],w=Object(o.d)(),k=l.reduce((function(e,a){var t=Object(x.a)(e,3),n=t[0],r=t[1],c=t[2];return"Coupon"===a.value?[n,a,c]:"Loyalty system"===a.value?[n,r,a]:[[].concat(Object(_.a)(n),[{value:a.value,label:a.name,icon:a.image}]),r,c]}),[[],{},{}]),C=Object(x.a)(k,3),D=C[0],T=C[1],L=C[2],I=function(){var e=Object(R.a)(S.a.mark((function e(a){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(""),w(K(a,void 0,(function(e){h(e.error)})));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),A=function(){var e=Object(R.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(X());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(R.a)(S.a.mark((function e(a){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(""),w(J(a,void 0,(function(e){j(e.error)})));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),P=function(){var e=Object(R.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w($());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:Oe.a.payments},r.a.createElement(pt,{className:Oe.a.payments__method,name:"payments",onChange:function(e){p(e)},options:D,placeholder:"Payment method",value:v,withIcon:!0}),i.coupon.name&&T.value?r.a.createElement(Te,{value:i.coupon.name,icon:T.image,onRemove:A,loading:t}):!u&&T.value?r.a.createElement(De,Object.assign({},T,{onApply:I,error:g,loading:t})):null,i.loyalty.used&&L.value?r.a.createElement(Te,{value:i.loyalty.used,icon:L.image,onRemove:P,loading:t}):!u&&L.value?r.a.createElement(De,Object.assign({},L,{mask:Le,onApply:F,info:"Available ".concat(i.loyalty.available," point(s)"),error:O,loading:t})):null)},Ae=t(2),Fe=t.n(Ae),Pe=t(67),Me=t.n(Pe);C.a.setAppElement("#rentsyst_personal");var Ue=function(){var e=E((function(e){return e.reservations})),a=e.reservation,t=e.loading,n=a&&a.signature.url?a.signature.url:"",c=a&&a.status.toLowerCase(),l="reject"===c||"cancel"===c,i=ue(),s=Object(x.a)(i,2),u=s[0],m=s[1],d=Object(o.d)(),_=function(){m(!1)};return r.a.createElement("div",{className:Oe.a.sign__modal},n?r.a.createElement("img",{className:Me.a.sign__preview,src:n,alt:""}):r.a.createElement("div",{className:Oe.a.sign__create},r.a.createElement("i",{className:"fico fico-contract"}),r.a.createElement("span",{className:Oe.a["sign__create-text"]},"Sign an agreement")),t?r.a.createElement(Fe.a,{width:"100%",height:"100%",className:Oe.a["sign__btn-skelet"]}):!l&&"done"!==c&&r.a.createElement("button",{type:"button",className:Oe.a.sign__btn,onClick:function(e){m(!0)}}),r.a.createElement(C.a,{className:"rs-modal rs-modal--lg ".concat(Oe.a.sign__content),isOpen:u,contentLabel:"Sign Modal",onRequestClose:_},r.a.createElement("div",{className:"sign-modal__content"},r.a.createElement("div",{className:"rs-modal__header"},r.a.createElement("span",{className:"rs-modal__title"},"Signature"),r.a.createElement("button",{className:"rs-modal__close",onClick:_},r.a.createElement("span",null,"\xd7"))),r.a.createElement("div",{className:"rs-modal__body"},r.a.createElement(Qa,{preview:n,onConfirm:function(e,a){m(!1),d(function(){var e=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,t=arguments.length>3?arguments[3]:void 0;return function(){var n=Object(R.a)(S.a.mark((function n(r,c){var l,i,s;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=c().reservations,i=l.reservation,!l.loading&&i){n.next=3;break}return n.abrupt("return");case 3:return r(Y(!0)),n.prev=4,n.next=7,B.postSignature(i.id,e);case 7:if(!n.sent.data.status){n.next=13;break}return n.next=11,B.getReservation(i.id);case 11:(s=n.sent).data.status&&(Object(o.b)((function(){r(Q(s.data.data)),r(Y(!1))})),V.a.rebuild(),a&&a());case 13:n.next=20;break;case 15:n.prev=15,n.t0=n.catch(4),console.error("Upload signature server error"),r(Y(!1)),t&&t(n.t0.response.data);case 20:case"end":return n.stop()}}),n,null,[[4,15]])})));return function(e,a){return n.apply(this,arguments)}}()}(e,a))}})))))},Be=function(){var e=E((function(e){return e.reservations.reservation})),a=e.agreement_url,t=e.currency,n=e.discounts,c=e.invoice_url,l=e.prices;return r.a.createElement("div",{className:"card ".concat(Oe.a.bc)},r.a.createElement("div",{className:"column column--title"},r.a.createElement("div",{className:"card__title"},"Billing information"),r.a.createElement(je,{links:{agreement_url:a,invoice_url:c}}),r.a.createElement("div",{className:Oe.a.sign__place},r.a.createElement(Ue,null))),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"label-title ".concat(Oe.a.payment__label)},"Payment type"),r.a.createElement(Ie,null)),r.a.createElement("div",{className:"column column--last ".concat(Oe.a.prices)},r.a.createElement("div",{className:"column__row jc-sb ai-b"},r.a.createElement("div",{className:"label-title"},"Paid:"),r.a.createElement("div",{className:"price bold"},l.paid,"\xa0",t.symbol)),n.coupon.price&&r.a.createElement("div",{className:"column__row jc-sb ai-b"},r.a.createElement("div",{className:"label-title ".concat(Oe.a["label-discount"])},"Coupon:"),r.a.createElement("div",{className:"price"},n.coupon.price,"\xa0",t.symbol)),n.loyalty.used&&r.a.createElement("div",{className:"column__row jc-sb ai-b"},r.a.createElement("div",{className:"label-title ".concat(Oe.a["label-discount"])},"Loyalty:"),r.a.createElement("div",{className:"price"},n.loyalty.used,"\xa0point(s)")),r.a.createElement("div",{className:"column__row jc-sb ai-b ".concat(Oe.a["total-row"])},r.a.createElement("div",{className:"label-title"},"Due\xa0balance:"),r.a.createElement("div",{className:"price bold"},l.balance,"\xa0",t.symbol))))},qe=t(47),Ge=t.n(qe),Ve=t(78),ze=t(95),He=t(120),Ye=t(121),We=(t(231),t(53)),Qe=t.n(We),Ze=Object(n.forwardRef)((function(e,a){var t=e.value,n=e.onClick,c=t?t.split(" || "):["--- | -- | ----","--:--"],l=Object(x.a)(c,2),o=l[0],i=l[1];return r.a.createElement("div",{className:Qe.a["control-wrap"],ref:a,onClick:n},r.a.createElement("i",{className:"fico fico-calendar"}),r.a.createElement("div",{className:Qe.a["date-val"]},r.a.createElement("div",{className:Qe.a.date},o),r.a.createElement("div",{className:"".concat(Qe.a.time," date-val-time")},i)))}));Object(qe.registerLocale)("en-GB",ze.a);var Ke=function(e){var a=e.initialDates,t=e.availableTimes,c=e.disabledDates,l=e.onChange,o=Object(n.useState)(t),i=Object(x.a)(o,2),s=i[0],u=i[1],m=function(e){return e?"".concat(e.getFullYear(),"-").concat(ge(e.getMonth()+1),"-").concat(ge(e.getDate())," ").concat(ge(e.getHours()),":").concat(ge(e.getMinutes())):""},d=function(e,a,n){if(e){var r=(e.getDay()+6)%7,c=t[a];if(c){var l=c[r][n];return l?function(e,a){var t=a.split(":"),n=Object(x.a)(t,2),r=n[0],c=n[1];return Object(He.a)(Object(Ye.a)(e,+c),+r)}(e,l):Object(He.a)(Object(Ye.a)(e,0),0)}}},_=function(e,a){var t=e,n=d(e,a,"from"),r=d(e,a,"to");return n&&n.getTime()>e.getTime()?t=n:r&&r.getTime()<e.getTime()&&(t=r),{min:n,max:r,selected:t}},v=Object(n.useState)(new Date(fe(a[0]))),p=Object(x.a)(v,2),f=p[0],b=p[1],g=Object(n.useState)(new Date(fe(a[1]))),h=Object(x.a)(g,2),E=h[0],y=h[1],N=Object(n.useState)((function(){return d(f,0,"from")})),O=Object(x.a)(N,2),j=O[0],w=O[1],k=Object(n.useState)((function(){return d(f,0,"to")})),C=Object(x.a)(k,2),D=C[0],S=C[1],R=Object(n.useState)((function(){return d(E,1,"from")})),T=Object(x.a)(R,2),L=T[0],I=T[1],A=Object(n.useState)((function(){return d(E,1,"to")})),F=Object(x.a)(A,2),P=F[0],M=F[1],U=function(e,a){if(!e||!a)return!1;for(var t=e.getTime(),n=a.getTime(),r=0;r<c.length;r++){var l=new Date(fe(c[r].from)).getTime(),o=new Date(fe(c[r].to)).getTime();if(t>l&&t<=o)return!0;if(n>l&&n<=o)return!0;if(l>t&&n>=o)return!0}return!1},B=function(e){var a=_(e,0);a.min&&a.max&&a.min.getTime()===a.max.getTime()||((E&&a.selected.getTime()>E.getTime()||U(a.selected,E))&&y(void 0),b(a.selected),w(a.min),S(a.max),l(m(a.selected),m(E)))},q=function(e){var a=_(e,1);a.min&&a.max&&a.min.getTime()===a.max.getTime()||f&&a.selected.getTime()<=f.getTime()||U(f,a.selected)||(y(a.selected),I(a.min),M(a.max),l(m(f),m(a.selected)))},G=function(e){var a=e.getTime();if(!c.length)return!0;for(var t=0;t<c.length;t++){var n=new Date(fe(c[t].from)).getTime(),r=new Date(fe(c[t].to)).getTime();if(a>=n&&a<=r)return!1}return!0};return Object(n.useEffect)((function(){Object(Ve.a)(t[0],s[0])||(u((function(e){return[t[0],e[1]]})),function(){if(f){var e=_(f,0);b(void 0),w(e.min),S(e.max)}}()),Object(Ve.a)(t[1],s[1])||(u((function(e){return[e[0],t[1]]})),function(){if(E){var e=_(E,1);y(void 0),I(e.min),M(e.max)}}())}),[t]),r.a.createElement("div",{className:Qe.a.container},r.a.createElement("div",{className:Qe.a.item},r.a.createElement("div",{className:"label"},"Pick Up"),r.a.createElement(Ge.a,{onChange:function(e){return B(e)},selected:f,startDate:f,endDate:E,filterDate:G,selectsStart:!0,showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,minTime:j,maxTime:D,customInput:r.a.createElement(Ze,null),dateFormat:"MMM | dd | yyyy || HH:mm",locale:"en-GB"})),r.a.createElement("div",{className:Qe.a.item},r.a.createElement("div",{className:"label"},"Return"),r.a.createElement(Ge.a,{onChange:function(e){return q(e)},selected:E,startDate:f,minDate:f,endDate:E,filterDate:G,selectsEnd:!0,showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,minTime:L,maxTime:P,customInput:r.a.createElement(Ze,null),dateFormat:"MMM | dd | yyyy || HH:mm",locale:"en-GB"})))},Je=t(35),Xe=t.n(Je),$e=function(e){var a=e.date,t=e.location,n=e.onLocationClick,c=function(e){if(!e)return null;var a=new Date(fe(e)),t=a.getHours(),n=a.getMinutes();return{day:a.getDate(),month:a.toLocaleString("en",{month:"short"}),year:a.getFullYear(),time:"".concat(t<10?"0".concat(t):t,":").concat(n<10?"0".concat(n):n)}}(a);if(!c)return null;return r.a.createElement("div",{className:Xe.a.container},r.a.createElement("div",{className:Xe.a.date},r.a.createElement("div",{className:Xe.a.month},c.month),r.a.createElement("div",{className:Xe.a.day},c.day),r.a.createElement("div",{className:Xe.a.year},c.year)),r.a.createElement("div",null,r.a.createElement("div",{className:Xe.a.location,onClick:function(e){n&&n()}},t),r.a.createElement("div",{className:Xe.a.time},c.time)))},ea=t(93),aa=t(29),ta=t.n(aa),na=function(e){var a=e.driver,t=Object(n.useState)(!1),c=Object(x.a)(t,2),l=c[0],i=c[1],s=E((function(e){return e.driver})).loading,u=a.first_name,m=a.last_name,d=a.documents,_=Object(o.d)(),v=d.filter((function(e){return"Driver license"===e.type})).length>0;return r.a.createElement("div",{className:ta.a.driver},r.a.createElement("div",{className:ta.a.driver__name},u," ",m),!v&&r.a.createElement("div",{className:ta.a.driver__docs},r.a.createElement("button",{type:"button",className:"".concat(ta.a.driver__doc," ").concat(ta.a["driver__license-btn"]),onClick:function(e){i(!1),_(ne((function(){i(!0)})))}},"Add driver license",s&&r.a.createElement(Fe.a,{className:ta.a["btn-skeleton"]})),l&&r.a.createElement("p",{className:ta.a["driver__license-error"]},"Please, add driver license in"," ",r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"/account"},"your\xa0account"))),v&&r.a.createElement("div",{className:ta.a.driver__docs},d.map((function(e){return r.a.createElement("div",{className:ta.a.driver__doc,key:e.num},r.a.createElement("div",{className:ta.a["driver__doc-label"]},e.title),r.a.createElement("div",{className:ta.a["driver__doc-num"]},e.num))}))))},ra=function(e){var a=e.drivers,t=e.reservation;return r.a.createElement("div",{className:"card ".concat(ta.a.dc)},r.a.createElement("div",{className:"column column--title"},r.a.createElement("div",{className:"column__row ai-c"},r.a.createElement("span",{className:"card__title"},"Drivers"))),r.a.createElement("div",{className:"column ".concat(ta.a["column--drivers"])},a[0].first_name?a.map((function(e,a){return r.a.createElement(na,{key:a,driver:e})})):r.a.createElement(jt,null)),r.a.createElement("div",{className:"column column--last"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"label-title"},"Rental period"," ",Object(ea.a)(new Date(fe(t.date_to)),new Date(fe(t.date_from)),{unit:"day",roundingMethod:"ceil"})),r.a.createElement("div",{className:"price"},t.prices.vehicle,"\xa0",t.currency.symbol)):r.a.createElement(xt,null)))},ca=function(){var e=E((function(e){return e.reservations.reservation})),a=function(){var e=E((function(e){return e.driver})),a=e.data,t=e.loading,r=Object(o.d)();return Object(n.useEffect)((function(){r(ne((function(e){})))}),[r]),{driver:a,loading:t}}().driver;return r.a.createElement(ra,{drivers:[a],reservation:e})},la=t(24),oa=t.n(la),ia=function(e){var a=e.blocked,t=e.checked,n=void 0!==t&&t,c=e.currency,l=e.damage_access,o=(e.damage,e.deposit_price),i=(e.deposit,e.editable),s=void 0!==i&&i,u=e.icon,m=e.id,d=e.price,_=e.title,v=e.value,p=e.onChange;return r.a.createElement("div",{className:oa.a.item},r.a.createElement("div",{className:oa.a.data},s&&r.a.createElement("input",{className:oa.a["hidden-input"],type:"radio",name:"insurance",defaultValue:v,id:String(m),defaultChecked:n,onChange:function(e){p(m)},disabled:a}),r.a.createElement("label",{className:Re()(oa.a.label,Object(oe.a)({},oa.a["label--radio"],s)),htmlFor:s?String(m):void 0},r.a.createElement("i",{className:"fico fico-".concat(u)}),_),r.a.createElement("ul",{className:oa.a["i-desc"]},r.a.createElement("li",null,"Damage access ",l,"\xa0",c),r.a.createElement("li",null,"Security deposit ",o,"\xa0",c))),r.a.createElement("div",{className:"price"},d,"\xa0",c))},sa=function(e){var a=e.blocked,t=e.currency,c=e.editable,l=e.icon,o=e.id,i=e.max_quantity,s=(e.price_day,e.price),u=e.quantity,m=void 0===u?0:u,d=e.title,_=(e.type,e.onChange),v=Object(n.useState)(m>0),p=Object(x.a)(v,2),f=p[0],b=p[1],g=Object(n.useState)(m),h=Object(x.a)(g,2),E=h[0],y=h[1],N=Object(n.useState)(m),O=Object(x.a)(N,2),j=O[0],w=O[1],k=function(e){return e<=0?0:i&&e>i?i:e},C=function(e){b(e>0)};return r.a.createElement("div",{className:oa.a.item},r.a.createElement("div",{className:oa.a.data},c&&r.a.createElement("input",{className:oa.a["hidden-input"],type:"checkbox",name:"extra_".concat(o),value:E,id:"extra_".concat(o),checked:f,onChange:function(e){var a=!f;a?(y(1),_(o,1),w(1)):(y(0),_(o,0),w(0)),b(a)},disabled:a}),r.a.createElement("label",{className:Re()(oa.a.label,Object(oe.a)({},oa.a["label--check"],c)),htmlFor:c?"extra_".concat(o):void 0},"".concat(c?"":"".concat(E," x ")),r.a.createElement("i",{className:"fico fico-".concat(l)}),d),c&&r.a.createElement("div",{className:oa.a.quantity},r.a.createElement("button",{className:"".concat(oa.a.quantity__button," ").concat(oa.a.left),type:"button",onClick:function(e){var a=k(E-1);a!==E&&(y(a),C(a),w(a),_(o,a))},disabled:a}),r.a.createElement("input",{className:oa.a.quantity__input,type:"text",value:j,onChange:function(e){var a=e.target.value.replace(/\D+/gi,""),t=k(+a);w(""===a?a:t),C(t)},onBlur:function(e){j!==E&&(""===j?(_(o,0),y(0),w(0)):(_(o,j),y(j)))},disabled:a}),r.a.createElement("button",{className:"".concat(oa.a.quantity__button," ").concat(oa.a.right),type:"button",onClick:function(e){var a=k(E+1);a!==E&&(y(a),C(a),w(a),_(o,a))},disabled:a}))),r.a.createElement("div",{className:"price"},s,"\xa0",t))},ua=function(){var e=le(),a=e.open,t=e.toggleCard,n=E((function(e){return e.reservations})),c=n.reservation,l=function(e,a){var t=Object(o.d)(),n=e.extras_data,r=e.currency,c=a?Object(_.a)(n.insurances):n.insurances.filter((function(e){return!0===e.checked})),l=a?Object(_.a)(n.extras):n.extras.filter((function(e){return e.quantity>0}));return{insurances:c,extras:l,currency:r,changeInsurance:function(e){t(Z(c.map((function(a){return a.checked=a.id===e,a})),l))},changeExtras:function(e,a){t(Z(c,l.map((function(t){return t.id===e&&(t.quantity=a),t}))))}}}(c,a),i=l.insurances,s=l.extras,u=l.currency,m=l.changeInsurance,d=l.changeExtras,v=c.status.toLowerCase(),p="cancel"!==v&&"reject"!==v&&"done"!==v,f=function(e){t()};return r.a.createElement("div",{className:"card ".concat(oa.a.card)},r.a.createElement("div",{className:"column column--title"},r.a.createElement("div",{className:"column__row ai-c"},r.a.createElement("span",{className:"card__title"},"Extras"),p&&!a&&r.a.createElement(ot,{text:"Change",size:"small",onClick:f}))),r.a.createElement("div",{className:"column column--2"},r.a.createElement("div",{className:"label-title"},"Insurance"),r.a.createElement("div",null,i.map((function(e){return r.a.createElement(ia,Object.assign({key:e.id,editable:a,blocked:n.loading},e,{currency:u.symbol,onChange:m}))}))),s.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"label-title"},"Extras"),r.a.createElement("div",null,s.map((function(e){return r.a.createElement(sa,Object.assign({key:e.id,editable:a,blocked:n.loading},e,{currency:u.symbol,onChange:d}))}))))),a&&r.a.createElement("button",{type:"button",className:"card__close",onClick:f},r.a.createElement("i",{className:"fico fico-right"})))},ma=(t(168),t(51)),da=t.n(ma),_a=function(e){var a,t=e.className,n=void 0===t?"":t,c=e.text,l=e.color,o=void 0===l?"":l,i=e.to,s=e.size,u=e.disabled,m=void 0!==u&&u;return r.a.createElement(y.b,{className:Re()(da.a.button,(a={},Object(oe.a)(a,da.a.small,"small"===s),Object(oe.a)(a,da.a[o],!!o),Object(oe.a)(a,da.a["is-disabled"],m),Object(oe.a)(a,n,!!n),a)),to:i},c)},va=t(72),pa=t.n(va),fa={type:{options:[{value:"",label:"All"},{value:"keyless",label:"Keyless"},{value:"standard",label:"Standard"}],placeholder:"Rental type"},reserved_status:{options:[{value:"",label:"All"},{value:"booking",label:"Booking"},{value:"reserved",label:"Reserved"},{value:"rental",label:"Rental"},{value:"done",label:"Done"},{value:"cancel",label:"Cancel"},{value:"reject",label:"Reject"}],placeholder:"Status"},period:{options:[{value:"",label:"All"},{value:"future",label:"Future"},{value:"past",label:"Past"}],placeholder:""}},ba=function(e){var a=e.filters,t=e.total,n=de().updateLocationSearch,c=function(e,a){n([{name:a,value:e.value}])};return r.a.createElement("div",{className:pa.a.container},r.a.createElement("span",{className:pa.a.total},function(e){switch(e){case 0:case void 0:return"Not found";case 1:return"1 Reservation";default:return"".concat(e," Reservations")}}(t)),r.a.createElement("div",{className:pa.a.filters},Object.keys(fa).map((function(e){var t=fa[e],n=t.options,l=t.placeholder;return r.a.createElement(pt,{key:e,name:e,options:n,value:n.filter((function(t){return t.value===a[e]}))[0]||null,placeholder:l,onChange:c})}))))},ga=t(68),ha=t.n(ga),Ea=function(){return r.a.createElement("div",{className:ha.a.overlay},r.a.createElement("div",{className:ha.a.loader},r.a.createElement("div",{className:ha.a.circle}),r.a.createElement("div",{className:ha.a.circle}),r.a.createElement("div",{className:ha.a.circle}),r.a.createElement("div",{className:ha.a.circle})))},ya=t(45),Na=t.n(ya),Oa=function(e){var a=e.name,t=e.value,n=e.onChange,c=e.options;return r.a.createElement("div",{className:"".concat(Na.a["control-wrap"]," ").concat(Na.a["control-wrap--select"])},r.a.createElement("i",{className:"fico fico-place"}),r.a.createElement(pt,{className:Na.a.select,name:a,options:c,value:t,placeholder:"Choose location",onChange:n}))},ja=function(e){var a=e.name,t=e.value,c=e.onChange,l=e.placeholder,o=void 0===l?"":l,i=Object(n.useRef)(null),s=Object(n.useState)(t||""),u=Object(x.a)(s,2),m=u[0],d=u[1];Object(n.useEffect)((function(){if(null!==i.current){var e=new google.maps.places.Autocomplete(i.current);window.google.maps.event.addListener(e,"place_changed",(function(){var a=e.getPlace();a.geometry&&(d(a.formatted_address||""),c(a.geometry.location.lat(),a.geometry.location.lng(),a.formatted_address||""))}))}}),[]);return r.a.createElement("div",{className:"".concat(Na.a["control-wrap"]," ").concat(Na.a["control-wrap--input"])},r.a.createElement("i",{className:"fico fico-place is-active",onClick:function(e){if(e.preventDefault(),window.google){var a=new google.maps.Geocoder;"geolocation"in navigator&&navigator.geolocation.getCurrentPosition((function(e){a.geocode({location:{lat:e.coords.latitude,lng:e.coords.longitude}},(function(e,a){if("OK"===a){var t=e[0];t&&t.geometry?(d(t.formatted_address||""),c(t.geometry.location.lat(),t.geometry.location.lng(),t.formatted_address||"")):console.error("No results found")}else console.error("Geocoder failed due to: "+a)}))}))}}}),r.a.createElement("input",{className:Na.a.input,ref:i,type:"text",name:a,value:m,placeholder:o,onChange:function(e){d(e.target.value)}}))},wa=function(e){var a=e.vehicleID,t=e.initialLocations,c=e.availableLocations,l=e.sameReturn,o=e.customLocation,i=e.onChange,s=Object(n.useState)(t[0]),m=Object(x.a)(s,2),d=m[0],_=m[1],v=Object(n.useState)(t[1]),p=Object(x.a)(v,2),f=p[0],b=p[1],g=Object(n.useRef)(l),h=Object(n.useRef)(o),E=Object(n.useState)("system"===d.type),y=Object(x.a)(E,2),N=y[0],O=y[1],j=Object(n.useState)(l),w=Object(x.a)(j,2),k=w[0],C=w[1],D=Object(n.useMemo)((function(){return c.map((function(e){return{value:e.id,label:e.title}}))}),[]),T=function(){var e=Object(R.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",B.getVehicleOffice(a,t));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),L=function(e,a,t,n){var r=n&&a?c.filter((function(e){return e.id===a}))[0]:e.office;return t&&void 0!==t.work_time_enabled&&void 0!==t.working_time&&(r=Object(u.a)(Object(u.a)({},r),t)),Object(u.a)(Object(u.a)({},e),{},{office:r,address:n&&r.address?r.address:e.address,lat:n&&r.lat?r.lat:e.lat,lng:n&&r.lng?r.lng:e.lng})},I=function(){var e=Object(R.a)(S.a.mark((function e(a){var t,n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.value){e.next=3;break}return e.abrupt("return");case 3:return n=Object(u.a)({},d),e.prev=4,e.next=7,T({office_id:+t});case 7:r=e.sent,n=L(d,+t,r.data.data,N),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.warn("Office working times are not received"),n=L(d,+t,null,N);case 15:_(n),k?(b(n),i(n,n)):i(n,f);case 17:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(a){return e.apply(this,arguments)}}(),A=function(){var e=Object(R.a)(S.a.mark((function e(a){var t,n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=a.value)&&!k){e.next=3;break}return e.abrupt("return");case 3:return n=Object(u.a)({},f),e.prev=4,e.next=7,T({office_id:+t});case 7:r=e.sent,n=L(f,+t,r.data.data,N),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.warn("Office working times are not received"),n=L(f,+t,null,N);case 15:b(n),i(d,n);case 17:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(a){return e.apply(this,arguments)}}(),F=function(){var e=Object(R.a)(S.a.mark((function e(a,t,n){var r,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(u.a)(Object(u.a)({},d),{},{address:n,lat:a,lng:t}),e.prev=1,e.next=4,T({lat:a,lng:t,address:n});case 4:c=e.sent,r=L(r,null,c.data.data,N),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.warn("Office working times are not received"),r=L(r,null,null,N);case 12:_(r),k?(b(r),i(r,r)):i(r,f);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a,t,n){return e.apply(this,arguments)}}(),P=function(){var e=Object(R.a)(S.a.mark((function e(a,t,n){var r,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=2;break}return e.abrupt("return");case 2:return r=Object(u.a)(Object(u.a)({},f),{},{address:n,lat:a,lng:t}),e.prev=3,e.next=6,T({lat:a,lng:t,address:n});case 6:c=e.sent,r=L(r,null,c.data.data,N),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.warn("Office working times are not received"),r=L(r,null,null,N);case 14:b(r),i(d,r);case 16:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(a,t,n){return e.apply(this,arguments)}}(),M=function(){var e=Object(R.a)(S.a.mark((function e(a){var t,n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O((function(e){return!e})),t=Object(u.a)({},d),n=Object(u.a)({},f),e.prev=3,e.next=6,Promise.all([T(N?{lat:t.lat,lng:t.lng,addres:t.address}:{office_id:String(t.office.id)}),T(N?{lat:n.lat,lng:n.lng,addres:n.address}:{office_id:String(n.office.id)})]);case 6:r=e.sent,t=L(t,t.office.id,r[0].data.data,!N),n=L(n,n.office.id,r[1].data.data,!N),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),console.warn("Office working times are not received"),t=L(t,t.office.id,null,!N),n=L(n,n.office.id,null,!N);case 16:_(t),b(n),i(t,n);case 19:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:Na.a.container},N?r.a.createElement(Oa,{name:"location_from",value:{value:d.office.id,label:d.office.title},onChange:I,options:D}):r.a.createElement(ja,{name:"location_from",value:d.address,onChange:F}),r.a.createElement("div",{className:"column__row"},h.current&&r.a.createElement(ut,{check:!N,labelContent:"Custom location",labelClassName:Na.a.checkbox__label,name:"custom_location",disabled:!h.current,onCheck:M}),r.a.createElement(ut,{check:k,labelContent:"Same return",labelClassName:Na.a.checkbox__label,name:"same_return",disabled:g.current,onCheck:function(e){C((function(e){return!e})),i(d,k?f:d)}})),!k&&(N?r.a.createElement(Oa,{name:"location_to",value:{value:f.office.id,label:f.office.title},onChange:A,options:D}):r.a.createElement(ja,{name:"location_to",value:f.address,onChange:P})))},xa=function(e){var a=e.center,t=e.marker,c=void 0!==t&&t,l=Object(n.useRef)(null),o=Object(n.useRef)(null),i=Object(n.useRef)(null);return Object(n.useEffect)((function(){null!==l.current&&(o.current=new google.maps.Map(l.current,{zoom:15,center:{lat:0,lng:0}}),c&&(i.current=new google.maps.Marker({position:{lat:0,lng:0}}),i.current.setMap(o.current)))}),[]),Object(n.useEffect)((function(){null!==o.current&&a&&(o.current.setCenter(a),c&&i.current&&i.current.setPosition(a))}),[a,c]),a?r.a.createElement("div",{ref:l,style:{width:"100%",height:"100%"}}):null},ka=t(79),Ca=t.n(ka),Da=[{title:"Reservation",link:"/reservations"},{title:"Payments",link:"/payments"},{title:"My account",link:"/account"}],Sa=function(){var e=Object(o.d)();return r.a.createElement("ul",{className:Ca.a.list},Da.map((function(e){var a=e.title,t=e.link;return r.a.createElement("li",{key:a},r.a.createElement(y.c,{to:t,className:Ca.a.link,activeClassName:Ca.a.active},a))})),r.a.createElement("li",{key:"Exit"},r.a.createElement("button",{type:"button",className:Ca.a.link,onClick:function(a){e({type:"LOGOUT"})}},"Exit")))},Ra=t(169),Ta=t.n(Ra),La=t(170),Ia=t.n(La),Aa=function(e){var a=e.count_pages,t=e.per_page,n=e.page,c=de().updateLocationSearch;return a?r.a.createElement("div",{className:Ia.a.pagination},r.a.createElement(Ta.a,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",pageCount:a,forcePage:--n,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){c([{name:"page",value:++e.selected},{name:"per_page",value:t}])},containerClassName:"pagination",activeClassName:"active"})):null},Fa=t(177),Pa=t(172),Ma=t(171),Ua=t.n(Ma),Ba=function(e){var a=e.date,t=e.className,n=!!a,c=!!n&&Object(Pa.a)(new Date(fe(a)));return r.a.createElement("div",{className:t},r.a.createElement("div",{className:"label"},c?"Your order has started: ":"Time to start rental: "),r.a.createElement("div",{className:Re()("".concat(Ua.a["time-left"]," time-left"),{"time-left--red":c})},n?Object(Fa.a)(new Date(fe(a)),{addSuffix:!0}):"---"))},qa=t(70),Ga=t.n(qa),Va=function(e){var a=e.icon,t=e.value,n=e.isTransmission,c=null;return void 0!==n&&n&&(c=String(t).match(/^([\s\S]*?)\s*\(([\s\S]*?)\)/i)),r.a.createElement("div",{className:Ga.a.param,"data-tip":c?c[1]:null},r.a.createElement("i",{className:"fico fico-".concat(a)}),c?c[2]:t)},za=t(8),Ha=t.n(za),Ya=function(e){var a=e.reservation,t=e.loading,n=de().setLocationSearch,c=a.currency,l=a.date_from,o=a.date_to,i=a.id,s=a.insurance,u=a.location_from,m=a.location_to,d=a.mileage_limit,_=a.necessary_actions,v=a.prices,p=a.status,f=a.type,b=a.unique_number,g=a.vehicle,h=f.toLowerCase(),E=p.toLowerCase(),y="reject"===E||"cancel"===E,N=g.brand,O=g.mark,j=g.group,w=g.large_bags,x=g.number_seats,k=g.refill,C=g.transmission;return r.a.createElement("div",{className:Re()(Ha.a.reservation,{"is-rejected":y,"is-keyless":"keyless"===h,"is-standard":"standard"===h})},r.a.createElement("div",{className:Ha.a.reservation__header},r.a.createElement("span",{className:Ha.a.label},"Reservation: ",r.a.createElement("span",{className:Ha.a.number},b)),r.a.createElement("div",{className:Ha.a.status},r.a.createElement("span",{className:Ha.a.label},"Rental type:"," ",r.a.createElement("span",{className:Ha.a["type-val"],onClick:function(e){n([{name:"type",value:h}])}},pe(f))),r.a.createElement("span",{className:Ha.a.label},"Status:"," ",r.a.createElement("span",{className:Ha.a["status-val"],onClick:function(e){n([{name:"reserved_status",value:E}])}},pe(p))))),r.a.createElement("div",{className:Ha.a.reservation__body},r.a.createElement("div",{className:Ha.a.side},r.a.createElement("div",{className:Ha.a.vehicle},r.a.createElement("div",{className:Ha.a.vehicle__info},r.a.createElement("div",{className:Ha.a.vehicle__img},r.a.createElement("img",{src:g.thumbnail,alt:""})),r.a.createElement("div",{className:Ha.a.vehicle__group},j),r.a.createElement("div",{className:Ha.a.vehicle__title},N," ",O),r.a.createElement("div",{className:Ha.a.vehicle__similar},"or similar")),r.a.createElement("div",{className:Ha.a.vehicle__info},(x||w)&&r.a.createElement("div",{className:Ga.a.vp__group},x&&r.a.createElement(Va,{icon:"driver",value:x}),w&&r.a.createElement(Va,{icon:"profile",value:w})),C.name&&r.a.createElement(Va,{icon:"transmission",value:C.name,isTransmission:!0}),d&&r.a.createElement(Va,{icon:"gauge",value:d}),k&&r.a.createElement(Va,{icon:"gas-station2",value:k})))),r.a.createElement("div",{className:Ha.a.side},r.a.createElement("div",{className:Ha.a.details},r.a.createElement("div",{className:"".concat(Ha.a.details__column," ").concat(Ha.a["details__column--mob"])},r.a.createElement("div",{className:Ha.a["mob-flex"]},r.a.createElement("div",{className:Ha.a.label},"Pick Up"),r.a.createElement($e,{date:l,location:"custom"===u.type?u.address:u.office.title})),r.a.createElement("div",{className:Ha.a["mob-flex"]},r.a.createElement("div",{className:Ha.a.label},"Return"),r.a.createElement($e,{date:o,location:"custom"===m.type?m.address:m.office.title}))),r.a.createElement("div",{className:Ha.a.details__column},r.a.createElement("div",{className:Ha.a.label},"Rental period"," ",Object(ea.a)(new Date(fe(o)),new Date(fe(l)),{unit:"day",roundingMethod:"ceil"})),r.a.createElement("div",{className:Ha.a.insurance},r.a.createElement("div",{className:Ha.a.label},"Insurnce"),s.name," with Damage access:"," ",r.a.createElement("span",{className:Ha.a.price},s.damage_excess,"\xa0",c.symbol)),r.a.createElement("div",{className:Ha.a.details__group},r.a.createElement("div",{className:Ha.a["details__group-item"]},r.a.createElement("div",{className:Ha.a.label},"Due balance:"),r.a.createElement("div",{className:"".concat(Ha.a.price," ").concat(Ha.a.bold)},v.balance,"\xa0",c.symbol)))))),t&&r.a.createElement(Fe.a,{width:"100%",height:"100%",className:Ha.a.reservation__loading})),r.a.createElement("div",{className:Ha.a.reservation__footer},!y&&"done"!==E&&r.a.createElement("div",{className:Ha.a["reservation__bottom-info"]},r.a.createElement(Ba,{date:l,className:Ha.a["rental-time"]}),r.a.createElement(et,{className:Ha.a.reservation__todo,actions:_})),r.a.createElement("div",{className:Ha.a.reservation__btns},r.a.createElement(_a,{text:"Detail",to:"/reservations/".concat(i),disabled:t}),!y&&"done"!==E&&"keyless"===h&&r.a.createElement(ot,{text:"Start rental",color:"green",disabled:t,onClick:function(){}}))),r.a.createElement(V.a,null))},Wa=function(e){var a=e.loading,t=void 0!==a&&a,n=e.reservations;return r.a.createElement("div",{className:pa.a.list},t&&0===n.length?r.a.createElement(kt,null):n.map((function(e){return r.a.createElement(Ya,{key:e.id,reservation:e,loading:t})})))},Qa=function(e){var a=e.preview,t=void 0===a?"":a,c=e.onConfirm,l=Object(n.useState)(!!t),o=Object(x.a)(l,2),i=o[0],s=o[1],u=function(){s(!1)},m=he({onDraw:u}),d=m.signRef,_=m.clearSignature,v=m.confirmSignature;return r.a.createElement("div",{className:Me.a.sign},r.a.createElement("div",{className:Me.a.sign__field},i&&r.a.createElement("img",{className:Me.a.sign__preview,src:t,alt:""}),r.a.createElement("canvas",{ref:d})),r.a.createElement("div",{className:"".concat(Me.a.sign__controls," rs-modal__controls")},r.a.createElement(ot,{text:"Clear",onClick:function(e){_(),u()}}),r.a.createElement(ot,{text:"Confirm",onClick:function(e){v((function(e,a){c&&c(e,a)}))}})))},Za=t(54),Ka=t.n(Za),Ja=function(){var e=E((function(e){return e.reservations.reservation})),a=e.extras_data,t=e.prices,n=e.currency,c=a.taxes,l=c.vehicle,o=c.taxesTotal;return r.a.createElement("div",{className:"card ai-end"},r.a.createElement("div",{className:"column column--last ".concat(Ka.a.column)},r.a.createElement("div",{className:"column__row jc-sb ai-c ".concat(Ka.a.row)},r.a.createElement("span",null,l.name),r.a.createElement("div",{className:"price"},o,"\xa0",n.symbol)),r.a.createElement("div",{className:"column__row jc-sb ai-c ".concat(Ka.a.row)},r.a.createElement("span",{className:"label-title ".concat(Ka.a["label-title"])},"Subtotal:"),r.a.createElement("div",{className:"price bold"},t.total,"\xa0",n.symbol))))},Xa=t(80),$a=t.n(Xa),et=function(e){var a=e.actions,t=e.className,n=Object.keys(a);return r.a.createElement("div",{className:"".concat($a.a.container).concat(t?" ".concat(t):"")},r.a.createElement("div",{className:"".concat($a.a.label," todo__label")},function(e){switch(e){case 0:case void 0:return"";case 1:return"Necessary 1 action:";default:return"Necessary ".concat(e," actions:")}}(n.length)),r.a.createElement("div",{className:"".concat($a.a.actions," todo__actions")},n.map((function(e,t){return r.a.createElement("span",{key:e,className:$a.a.action},a[e])}))))},at=t(17),tt=t.n(at),nt=function(e){var a=e.vehicle,t=e.mileage_limit,n=a.large_bags,c=a.number_seats,l=a.refill,o=a.transmission,i=a.group,s=a.brand,u=a.mark,m=a.thumbnail;return r.a.createElement("div",{className:"column ".concat(tt.a.vehicle)},r.a.createElement("div",{className:tt.a.vehicle__info},r.a.createElement("div",{className:tt.a.vehicle__img},r.a.createElement("img",{src:m,alt:"".concat(s," ").concat(u)})),r.a.createElement("div",{className:tt.a.vehicle__group},i),r.a.createElement("span",{className:tt.a.vehicle__title},"".concat(s," ").concat(u," "),r.a.createElement("span",{className:tt.a.vehicle__similar},"or similar"))),r.a.createElement("div",{className:tt.a.vehicle__info},(o.name||n||c)&&r.a.createElement("div",{className:Ga.a.vp__group},o.name&&r.a.createElement(Va,{icon:"transmission",value:o.name,isTransmission:!0}),c&&r.a.createElement(Va,{icon:"driver",value:c}),n&&r.a.createElement(Va,{icon:"profile",value:n})),t&&r.a.createElement(Va,{icon:"gauge",value:t}),l&&r.a.createElement(Va,{icon:"gas-station2",value:l})))},rt=function(e){var a=e.reservation,t=e.onSave,c=Object(o.d)(),l=Object(n.useState)(!1),i=Object(x.a)(l,2),s=i[0],u=i[1],m=a.location_from,d=a.location_to,_=a.date_from,v=a.date_to,p=a.vehicle,f=Object(n.useState)([m,d]),b=Object(x.a)(f,2),g=b[0],h=b[1],E=Object(n.useState)([_,v]),y=Object(x.a)(E,2),N=y[0],O=y[1],j=Object(n.useState)([]),w=Object(x.a)(j,2),k=w[0],C=w[1];Object(n.useEffect)((function(){Object(R.a)(S.a.mark((function e(){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.getVehicleBusyDates(p.id);case 3:(a=e.sent).data.status&&C(a.data.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[p.id]);return r.a.createElement("div",{className:"".concat(tt.a["ld-edit"]," column__body")},r.a.createElement("div",{className:"column__row"},r.a.createElement("div",{className:tt.a["ld-edit__dates"]},r.a.createElement(Ke,{initialDates:N,availableTimes:[g[0].office.work_time_enabled?g[0].office.working_time:null,g[1].office.work_time_enabled?g[1].office.working_time:null],disabledDates:k,onChange:function(e,a){O([e,a])}})),r.a.createElement("div",{className:"column"},r.a.createElement(wa,{vehicleID:p.id,initialLocations:g,availableLocations:p.available_locations,sameReturn:p.same_return,customLocation:!1,onChange:function(e,a){h([e,a])}}))),r.a.createElement("div",{className:"column__row ".concat(tt.a["map-row"])},r.a.createElement("div",{className:"column"},r.a.createElement(Ba,{date:N[0]})),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:tt.a["map-place"]},r.a.createElement(xa,{center:{lat:g[0].lat,lng:g[0].lng},marker:!0})))),r.a.createElement("div",{className:"card__actions ".concat(tt.a.actions)},r.a.createElement(ot,{text:"Save",size:"small",onClick:function(e){if(!s){u(!0);var a,n,r,l=Object(x.a)(N,2),i=l[0],m=l[1],d=Object(x.a)(g,2),_=d[0],v=d[1];c((a={date_from:i,date_to:m,pickup_location:_.address,return_location:v.address},n=function(){u(!1),t()},r=function(){u(!1)},function(){var e=Object(R.a)(S.a.mark((function e(t,c){var l,i,s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=c().reservations,i=l.reservation,!l.loading&&i){e.next=3;break}return e.abrupt("return");case 3:return t(Y(!0)),e.prev=4,e.next=7,B.putReservation(i.id,a);case 7:(s=e.sent).data.status&&(Object(o.b)((function(){t(Q(s.data.data)),t(Y(!1))})),V.a.rebuild(),n&&n()),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("Update reservation server errror"),t(Y(!1)),r&&r(e.t0.response.data);case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(a,t){return e.apply(this,arguments)}}()))}},loading:s})))},ct=function(e){var a=e.reservation,t=e.changeLocation,c=se(["(max-width: 575px)"],["xs"],"l"),l=a.location_from,o=a.location_to,i=a.date_from,s=a.date_to,u=a.status.toLowerCase(),m="cancel"!==u&&"reject"!==u&&"done"!==u,d=function(e){var a=e.location_from,t=e.location_to,r=Object(n.useState)(!1),c=Object(x.a)(r,2),l=c[0],o=c[1],i=l?t:a,s=i.lat,u=i.lng;return{mapCenter:s&&u?{lat:s,lng:u}:void 0,showPickupLocation:function(){o(!1)},showReturnLocation:function(){o(!0)}}}(a),_=d.mapCenter,v=d.showPickupLocation,p=d.showReturnLocation,f=function(e){t()},b=function(){return r.a.createElement("div",{className:"card__actions ".concat(tt.a.actions)},r.a.createElement(ot,{text:"Change",size:"small",onClick:f}),r.a.createElement(Ee,null))};return r.a.createElement("div",{className:"column__row jc-fs ai-fs column__body"},r.a.createElement("div",{className:tt.a["dl-cotainer"]},r.a.createElement("div",{className:tt.a["dl-item"]},r.a.createElement("div",{className:"label"},"Pick Up"),r.a.createElement($e,{date:i,location:"custom"===l.type?l.address:l.office.title,onLocationClick:v})),r.a.createElement("div",{className:tt.a["dl-item"]},r.a.createElement("div",{className:"label"},"Return"),r.a.createElement($e,{date:s,location:"custom"===o.type?o.address:o.office.title,onLocationClick:p})),m&&"l"===c&&b()),r.a.createElement("div",{className:"column column--last"},m&&r.a.createElement(Ba,{date:i}),r.a.createElement("div",{className:Re()(tt.a["map-place"],Object(oe.a)({},tt.a["map-place--mt"],m))},r.a.createElement(xa,{center:_,marker:!0}))),m&&"xs"===c&&b())},lt=function(){var e=E((function(e){return e.reservations.reservation})),a=se(["(max-width: 767px)"],["s"],"l"),t=le(),n=t.open,c=t.openCard,l=t.closeCard,o=e.unique_number,i=e.status,s=e.type,u=e.vehicle,m=e.mileage_limit,d=function(){return r.a.createElement("div",{className:"".concat(tt.a["reserve-info"]," mob-full")},r.a.createElement("div",{className:"label"},"Reservation:"),r.a.createElement("div",{className:tt.a["reserve-num"]},o))};return r.a.createElement("div",{className:"card ".concat(tt.a.vc)},"s"===a&&d(),r.a.createElement(nt,{vehicle:u,mileage_limit:m}),r.a.createElement("div",{className:"column column--2"},r.a.createElement("div",{className:"column__row jc-fs ai-fs column__head"},"l"===a&&d(),r.a.createElement("div",{className:tt.a["reserve-info"]},r.a.createElement("div",{className:"label"},"Retal type:"),r.a.createElement("div",{className:tt.a["reserve-type"]},pe(s))),r.a.createElement("div",{className:Re()(tt.a["reserve-info"],Object(oe.a)({},tt.a["reserve-info--status"],"l"===a))},r.a.createElement("div",{className:"label"},"Status:"),r.a.createElement("div",{className:tt.a["reserve-status"]},pe(i)))),n?r.a.createElement(rt,{reservation:e,onSave:l}):r.a.createElement(ct,{reservation:e,changeLocation:c})))},ot=function(e){var a,t=e.className,n=void 0===t?"":t,c=e.text,l=e.color,o=void 0===l?"":l,i=e.size,s=e.onClick,u=e.disabled,m=void 0!==u&&u,d=e.type,_=void 0===d?"button":d,v=e.loading,p=void 0!==v&&v;return r.a.createElement("button",{className:Re()(da.a.button,(a={},Object(oe.a)(a,da.a.small,"small"===i),Object(oe.a)(a,da.a[o],!!o),Object(oe.a)(a,n,!!n),a)),type:_,onClick:s,disabled:m},c,p&&r.a.createElement(Fe.a,{className:da.a.button__loader}))},it=t(98),st=t.n(it),ut=function(e){var a=e.check,t=e.className,n=e.disabled,c=void 0!==n&&n,l=e.labelClassName,o=e.labelContent,i=e.name,s=e.onCheck;return r.a.createElement("div",{className:"".concat(st.a.container).concat(t?" ".concat(t):"")},r.a.createElement("input",{className:st.a.checkbox,type:"checkbox",name:i,id:i,disabled:c,checked:a,onChange:s}),r.a.createElement("label",{htmlFor:i,className:"".concat(st.a.label).concat(l?" ".concat(l):"")},o))},mt=t(21),dt=t(123),_t=t(122),vt=t.n(_t),pt=function(e){var a=e.className,t=void 0===a?"":a,n=e.id,c=e.isSearchable,l=void 0!==c&&c,o=e.name,i=e.onChange,s=e.options,u=e.placeholder,m=void 0===u?"":u,d=e.value,_=e.withIcon,v=void 0!==_&&_,p=e.onFocus,f=function(e){return r.a.createElement(mt.f.SingleValue,e,r.a.createElement("img",{src:e.data.icon,alt:""}),e.data.label)},b=function(e){return r.a.createElement(mt.f.Option,e,r.a.createElement("img",{src:e.data.icon,alt:""}),e.data.label)},g=function(e){i(e,o)};return r.a.createElement(r.a.Fragment,null,p?r.a.createElement(dt.a,{className:"".concat(vt.a.select," ").concat(t),classNamePrefix:"rs",isSearchable:l,onChange:g,components:v?{SingleValue:f,Option:b}:void 0,options:s,placeholder:m,value:d,inputProps:{id:n},onFocus:p}):r.a.createElement(dt.a,{className:"".concat(vt.a.select," ").concat(t),classNamePrefix:"rs",isSearchable:l,onChange:g,components:v?{SingleValue:f,Option:b}:void 0,options:s,placeholder:m,value:d,inputProps:{id:n}}))},ft=t(55),bt=t.n(ft);C.a.setAppElement("#rentsyst_personal");var gt=function(e){var a=e.question,t=e.text,n=e.onConfirm,c=e.children,l=e.modalOpen,o=e.toggleModal,i=function(){o(!1)};return r.a.createElement("div",{className:bt.a.modal},c,r.a.createElement(C.a,{className:"rs-modal rs-modal--md ".concat(bt.a.modal__content),isOpen:l,contentLabel:"Confirmation Modal",onRequestClose:i,style:{overlay:{backgroundColor:"rgba(0, 0, 0, .5)"}}},r.a.createElement("div",{className:"rs-modal__body"},r.a.createElement("p",{className:bt.a["modal__icon-wrapper"]},r.a.createElement("span",{className:bt.a.modal__icon},"?")),r.a.createElement("p",{className:bt.a.modal__title},a),t&&r.a.createElement("p",null,t),r.a.createElement("div",{className:bt.a.modal__controls},r.a.createElement(ot,{text:"No",color:"red",onClick:i,className:bt.a.modal__btn}),r.a.createElement(ot,{text:"Yes",color:"green",onClick:n,className:bt.a.modal__btn})))))},ht=t(81),Et=t.n(ht);C.a.setAppElement("#rentsyst_personal");var yt=function(e){var a=e.imageURL,t=e.modalOpen,n=e.toggleModal,c=e.children,l=function(){n(!1)};return r.a.createElement("div",{className:Et.a.modal},c,r.a.createElement(C.a,{className:"rs-modal rs-modal--lg ".concat(Et.a.modal__content),isOpen:t,contentLabel:"Images Modal",onRequestClose:l,style:{overlay:{backgroundColor:"rgba(30, 30, 30, .9)"}}},r.a.createElement("button",{className:"rs-modal__close ".concat(Et.a.modal__close),onClick:l},r.a.createElement("span",null,"\xd7")),r.a.createElement("img",{className:Et.a.modal__image,src:a,alt:"Pic"})))},Nt=function(){return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"column"}),r.a.createElement("div",{className:"column column--2"},r.a.createElement("div",{className:"column__row jc-fe ai-fs ".concat(tt.a.btns)},r.a.createElement(Fe.a,{width:120,height:37}),r.a.createElement(Fe.a,{width:120,height:37,style:{marginLeft:"15px"}}))))},Ot=function(){return r.a.createElement("div",{className:"card ".concat(Oe.a.bc)},r.a.createElement("div",{className:"column column--title"},r.a.createElement("div",{className:"card__title"},"Billing information"),r.a.createElement(Fe.a,{width:70,height:14,style:{display:"block",marginTop:"15px"}}),r.a.createElement(Fe.a,{width:70,height:14,style:{display:"block",marginTop:"14px",marginBottom:"20px"}}),r.a.createElement("div",{className:Oe.a.sign__place},r.a.createElement(Fe.a,{width:"100%",height:"100%"}))),r.a.createElement("div",{className:"column"},r.a.createElement(Fe.a,{width:90,height:12,style:{display:"block",marginBottom:"7px"}}),r.a.createElement(Fe.a,{width:183,height:38}),r.a.createElement(Fe.a,{width:110,height:17,style:{display:"block",marginTop:"10px"}})),r.a.createElement("div",{className:"column column--last ".concat(Oe.a.prices)},r.a.createElement("div",{className:"column__row jc-sb ai-b"},r.a.createElement(Fe.a,{width:30,height:12}),r.a.createElement(Fe.a,{width:100,height:18})),r.a.createElement("div",{className:"column__row jc-sb ai-b ".concat(Oe.a["total-row"]),style:{justifyContent:"space-between"}},r.a.createElement(Fe.a,{width:100,height:18}),r.a.createElement(Fe.a,{width:100,height:20}))))},jt=function(){return r.a.createElement("div",{className:ta.a.driver},r.a.createElement("div",{className:ta.a.driver__name}),r.a.createElement(Fe.a,{width:180,height:14}),r.a.createElement("div",{className:ta.a.driver__docs},r.a.createElement(Fe.a,{width:85,height:30,count:2,style:{marginRight:"15px",marginTop:"10px"}})))},wt=function(){return r.a.createElement("div",{className:"card ".concat(oa.a.card)},r.a.createElement("div",{className:"column column--title"},r.a.createElement("div",{className:"column__row ai-c"},r.a.createElement("span",{className:"card__title"},"Extras"))),r.a.createElement("div",{className:"column column--2"},r.a.createElement(Fe.a,{width:65,height:12,style:{display:"block",marginBottom:"7px"}}),r.a.createElement("div",null,r.a.createElement("div",{className:oa.a.item},r.a.createElement("div",{className:oa.a.data},r.a.createElement(Fe.a,{width:170,height:18,style:{display:"block"}})),r.a.createElement(Fe.a,{width:70,height:18}))),r.a.createElement(Fe.a,{width:65,height:12,style:{display:"block",marginBottom:"7px",marginTop:"20px"}}),r.a.createElement("div",null,r.a.createElement("div",{className:oa.a.item},r.a.createElement("div",{className:oa.a.data},r.a.createElement(Fe.a,{width:170,height:18,style:{display:"block"}})),r.a.createElement(Fe.a,{width:70,height:18})))))},xt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Fe.a,{width:125,height:12,className:"label-title",style:{display:"block"}}),r.a.createElement(Fe.a,{width:60,height:18}))},kt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct,null),r.a.createElement(Ct,null))},Ct=function(){return r.a.createElement("div",{className:Ha.a.reservation},r.a.createElement("div",{className:Ha.a.reservation__header},r.a.createElement(Fe.a,{width:160,height:14,style:{marginBottom:5,marginRight:15}}),r.a.createElement(Fe.a,{width:285,height:14,style:{marginBottom:5}})),r.a.createElement("div",{className:Ha.a.reservation__body},r.a.createElement("div",{className:Ha.a.side},r.a.createElement("div",{className:Ha.a.vehicle},r.a.createElement("div",{className:Ha.a.vehicle__info,style:{width:150}},r.a.createElement("div",{className:Ha.a.vehicle__img},r.a.createElement("img",{src:"/img/img-place.svg",alt:"",style:{objectFit:"unset"}})),r.a.createElement(Fe.a,{width:130,height:13,style:{marginTop:10}}),r.a.createElement(Fe.a,{width:150,height:23,style:{marginTop:5}}),r.a.createElement(Fe.a,{width:50,height:11,style:{marginTop:2}})),r.a.createElement("div",{className:Ha.a.vehicle__info,style:{width:110}},r.a.createElement(Fe.a,{width:90,height:12}),r.a.createElement(Fe.a,{width:90,height:12,count:3,style:{marginTop:10,marginRight:20}})))),r.a.createElement("div",{className:Ha.a.side},r.a.createElement("div",{className:Ha.a.details},r.a.createElement("div",{className:"".concat(Ha.a.details__column," ").concat(Ha.a["details__column--mob"])},r.a.createElement("div",{className:Ha.a["mob-flex"]},r.a.createElement(Fe.a,{width:120,height:14,style:{marginBottom:10}}),r.a.createElement("div",{className:Xe.a.container},r.a.createElement(Fe.a,{width:33,height:38,style:{marginRight:7}}),r.a.createElement("div",null,r.a.createElement(Fe.a,{width:80,height:12,style:{display:"block"}}),r.a.createElement(Fe.a,{width:80,height:12,style:{display:"block",marginTop:5}})))),r.a.createElement("div",{className:Ha.a["mob-flex"]},r.a.createElement(Fe.a,{width:120,height:14,style:{marginBottom:10}}),r.a.createElement("div",{className:Xe.a.container},r.a.createElement(Fe.a,{width:33,height:38,style:{marginRight:7}}),r.a.createElement("div",null,r.a.createElement(Fe.a,{width:80,height:12,style:{display:"block"}}),r.a.createElement(Fe.a,{width:80,height:12,style:{display:"block",marginTop:5}}))))),r.a.createElement("div",{className:Ha.a.details__column},r.a.createElement(Fe.a,{width:180,height:14}),r.a.createElement("div",null,r.a.createElement(Fe.a,{width:50,height:14,style:{marginTop:15,marginBottom:5}})),r.a.createElement(Fe.a,{width:180,height:14}),r.a.createElement("div",{className:Ha.a.details__group},r.a.createElement("div",{className:Ha.a["details__group-item"],style:{width:80}},r.a.createElement(Fe.a,{width:80,height:14,style:{marginBottom:5}}),r.a.createElement(Fe.a,{width:70,height:18}))))))),r.a.createElement("div",{className:Ha.a.reservation__footer},r.a.createElement("div",{className:Ha.a["reservation__bottom-info"]},r.a.createElement(Fe.a,{width:200,height:14,style:{display:"block",marginTop:10,marginRight:15}}),r.a.createElement(Fe.a,{width:270,height:14,style:{display:"block",marginTop:10,marginRight:15}})),r.a.createElement("div",{className:Ha.a.reservation__btns},r.a.createElement(Fe.a,{width:130,height:37}),r.a.createElement(Fe.a,{width:130,height:37}))))},Dt=function(){return r.a.createElement("div",{className:"card ai-end"},r.a.createElement("div",{className:"column column--last ".concat(Ka.a.column)},r.a.createElement("div",{className:"column__row jc-sb ai-c ".concat(Ka.a.row)},r.a.createElement(Fe.a,{width:35,height:18}),r.a.createElement(Fe.a,{width:60,height:18})),r.a.createElement("div",{className:"column__row jc-sb ai-c ".concat(Ka.a.row)},r.a.createElement(Fe.a,{width:60,height:18}),r.a.createElement(Fe.a,{width:90,height:18}))))},St=function(){var e=se(["(max-width: 575px)","(max-width: 767px)"],["xs","s"],"l"),a=function(){return r.a.createElement("div",{className:"".concat(tt.a["reserve-info"]," mob-full")},r.a.createElement("div",{className:"label",style:{verticalAlign:"bottom",marginRight:"10px"}},r.a.createElement(Fe.a,{width:70,height:13})),r.a.createElement(Fe.a,{width:80,height:24}))},t=function(){return r.a.createElement("div",{className:"card__actions ".concat(tt.a.actions)},r.a.createElement(Fe.a,{width:72,height:20}),r.a.createElement(Fe.a,{width:72,height:20}))};return r.a.createElement("div",{className:"card ".concat(tt.a.vc)},"l"!==e&&a(),r.a.createElement("div",{className:"column ".concat(tt.a.vehicle)},r.a.createElement("div",{className:tt.a.vehicle__info},r.a.createElement("div",{className:tt.a.vehicle__img},r.a.createElement("img",{src:"/img/img-place.svg",alt:"",style:{objectFit:"unset"}})),r.a.createElement("div",{className:tt.a.vehicle__group},r.a.createElement(Fe.a,{width:180,height:14})),r.a.createElement("span",{className:tt.a.vehicle__title},r.a.createElement(Fe.a,{width:180,height:46}))),r.a.createElement("div",{className:tt.a.vehicle__info},r.a.createElement(Fe.a,{width:180,height:12,style:{display:"block",marginTop:5}}),r.a.createElement(Fe.a,{width:100,height:12,count:2,style:{display:"block",marginTop:10}}))),r.a.createElement("div",{className:"column column--2"},r.a.createElement("div",{className:"column__row jc-fs ai-fs column__head"},"l"===e&&a(),r.a.createElement("div",{className:tt.a["reserve-info"]},r.a.createElement("div",{className:"label"},r.a.createElement(Fe.a,{width:70,height:13})),r.a.createElement(Fe.a,{width:100,height:24})),r.a.createElement("div",{className:Re()(tt.a["reserve-info"],Object(oe.a)({},tt.a["reserve-info--status"],"l"===e))},r.a.createElement("div",{className:"label"},r.a.createElement(Fe.a,{width:70,height:13})),r.a.createElement(Fe.a,{width:100,height:24}))),r.a.createElement("div",{className:"column__row jc-fs ai-fs column__body"},r.a.createElement("div",{className:tt.a["dl-cotainer"]},r.a.createElement("div",{className:tt.a["dl-item"]},r.a.createElement(Fe.a,{width:120,height:13,style:{marginBottom:10}}),r.a.createElement("div",{className:Xe.a.container},r.a.createElement(Fe.a,{width:33,height:38,style:{marginRight:7}}),r.a.createElement("div",null,r.a.createElement(Fe.a,{width:80,height:11,style:{display:"block"}}),r.a.createElement(Fe.a,{width:80,height:12,style:{display:"block",marginTop:5}})))),r.a.createElement("div",{className:tt.a["dl-item"]},r.a.createElement(Fe.a,{width:120,height:13,style:{marginBottom:10}}),r.a.createElement("div",{className:Xe.a.container},r.a.createElement(Fe.a,{width:33,height:38,style:{marginRight:7}}),r.a.createElement("div",null,r.a.createElement(Fe.a,{width:80,height:11,style:{display:"block"}}),r.a.createElement(Fe.a,{width:80,height:12,style:{display:"block",marginTop:5}})))),"xs"!==e&&t()),r.a.createElement("div",{className:"column column--last"},r.a.createElement(Fe.a,{width:180,height:13,style:{marginBottom:10}}),r.a.createElement(Fe.a,{width:180,height:18}),r.a.createElement(Fe.a,{width:220,height:124,style:{marginTop:15}})),"xs"===e&&t())))},Rt=t(43),Tt=t.n(Rt),Lt=function(){var e=ie({email:""}),a=e.hasError,t=e.loading,n=e.onSubmitForm,c=e.onValueChange,l=e.values;return r.a.createElement("form",{className:Tt.a.form,onSubmit:n},r.a.createElement("div",{className:Re()(Tt.a.input__wrap,Object(oe.a)({},Tt.a.error,a))},r.a.createElement("input",{className:Tt.a.input,type:"email",name:"email",value:l.email,onChange:c,placeholder:"email"})),r.a.createElement("div",{className:Tt.a.form__buttons},r.a.createElement(ot,{type:"submit",text:"Sign in",color:"green",loading:t})))},It=function(){var e,a=E((function(e){return e.auth}),o.c),t=a.mailIsSended,n=a.message;return r.a.createElement("div",{className:Tt.a.wrapper},n&&r.a.createElement("p",{className:Re()(Tt.a.info,(e={},Object(oe.a)(e,Tt.a["is-success"],t),Object(oe.a)(e,Tt.a["is-error"],!t),e))},n),r.a.createElement("div",{className:Tt.a.inner},r.a.createElement("h1",{className:Tt.a.title},"Sign in"),r.a.createElement(Lt,null)))},At=t(82),Ft=t.n(At),Pt=function(e){var a=e.error,t=e.value,n=e.label,c=e.id,l=e.name,o=e.renderInput,i=e.mask,s=e.type,m=void 0===s?"text":s,d=e.required,_=void 0!==d&&d,v=e.placeholder,p=void 0===v?"":v,f=e.containerProps,b=void 0===f?{}:f,g=e.inputProps,h=void 0===g?{}:g,E=e.onChange,y=void 0===E?function(){}:E,N=e.onFocus,O=void 0===N?function(){}:N,j=e.onBlur,w=void 0===j?function(){}:j,x=(new Date).getTime(),k=Object(u.a)({className:Re()(Ft.a.input,Object(oe.a)({},Ft.a.input__error,!!a)),type:m,id:c+x,name:l,required:_,value:t,placeholder:p,onChange:y,onFocus:O,onBlur:w},h);return r.a.createElement("div",b,r.a.createElement("label",{className:Ft.a.label,htmlFor:c+x},n),o?o(c+x,l):i?r.a.createElement(Ce.a,Object.assign({},k,{mask:i})):r.a.createElement("input",k),a&&r.a.createElement("span",{className:Ft.a.error},a))},Mt=function(){var e=Object(N.h)().search,a=E((function(e){return e.reservations})),t=a.filters,c=a.data,l=a.loading,i=Object(o.d)(),s=c.reservations,u=c.pagination;return Object(n.useEffect)((function(){var a;i((a=e,function(){var e=Object(R.a)(S.a.mark((function e(t){var n,r,c,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(o.b)((function(){t(Y(!0)),t({type:"UPDATE_FILTERS",payload:H.a.parse(a)})})),e.prev=1,e.next=4,B.getReservations(a);case 4:(n=e.sent).data.status&&(r=n.data.data,c=r.items,l=r.pagination,Object(o.b)((function(){t({type:"SET_RESERVATIONS",payload:{reservations:c,pagination:l}}),t(Y(!1))})),V.a.rebuild()),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Get reservations list server error"),t(Y(!1));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}())),window.scroll(0,0)}),[e,i]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"page-content"},r.a.createElement(ba,{total:u.total_count,filters:t}),r.a.createElement(Wa,{loading:l,reservations:s}),r.a.createElement(Aa,u)))},Ut=t(173),Bt=t.n(Ut),qt=function(){var e=Object(N.i)().id,a=me(e).reservation;Object(n.useEffect)((function(){window.scroll(0,0)}),[]);var t=a&&a.id===+e,c=a&&a.type.toLowerCase(),l=a&&a.status.toLowerCase(),o="reject"===l||"cancel"===l;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"page-content"},r.a.createElement("div",{className:Re()(Bt.a.reservation,{"is-rejected":o,"is-keyless":"keyless"===c,"is-standard":"standard"===c})},t?r.a.createElement(lt,null):r.a.createElement(St,null),r.a.createElement(ca,null),t&&a.extras_data?r.a.createElement(r.a.Fragment,null,r.a.createElement(ua,null),r.a.createElement(Ja,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(wt,null),r.a.createElement(Dt,null)),t&&a.payment_methods?r.a.createElement(Be,null):r.a.createElement(Ot,null),t?r.a.createElement(r.a.Fragment,null,o&&r.a.createElement(ye,null),r.a.createElement(w,null)):r.a.createElement(Nt,null),r.a.createElement(V.a,null))))},Gt=t(174),Vt=t.n(Gt),zt=t(15),Ht=t.n(zt),Yt=function(){var e=E((function(e){return e.driver.data}),o.c).avatar,a=ue(),t=Object(x.a)(a,2),n=t[0],c=t[1];return r.a.createElement(r.a.Fragment,null,null!==e&&r.a.createElement(yt,{modalOpen:n,toggleModal:c,imageURL:e.imageURL},r.a.createElement("img",{src:e.imageURL,className:Ht.a.avatar__preview,onClick:function(e){c(!0)},alt:"Avatar"})))},Wt=t(175);t(323);C.a.setAppElement("#rentsyst_personal");var Qt=function(e){var a=e.setIsUpdatedAvatar,t=e.isUpdatedAvatar,c=e.onAvatarChange,l=Object(n.useState)({id:"",imageURL:""}),i=Object(x.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(),d=Object(x.a)(m,2),_=d[0],v=d[1],p=ue(),f=Object(x.a)(p,2),b=f[0],g=f[1],h=Object(o.d)(),E=Object(n.useRef)(null),y=function(e){E.current&&(E.current.inputElement?(E.current.inputElement.value="",E.current.value=""):E.current.value=""),g(!1),_.destroy(),v(null)};return r.a.createElement("div",{className:Ht.a.modal},r.a.createElement("label",{htmlFor:"avatar_input",className:"".concat(Ht.a.avatar__btn," ").concat(Ht.a["avatar__btn-edit"]," ai-c jc-c")},r.a.createElement("i",{className:"fico fico-edit"}),r.a.createElement("input",{id:"avatar_input",className:Ht.a.avatar__file,type:"file",accept:"image/*",name:"avatar",onChange:function(e){e.preventDefault();var a=e.target.files;if(a){var t=a[0];if(t.type.startsWith("image/")&&t.size<5e6){var n=new FileReader;n.readAsDataURL(t),n.onload=function(){u({id:"",imageURL:n.result}),g(!0)}}}},ref:E,multiple:!1})),t&&s.id.length>0&&r.a.createElement("input",{type:"hidden",name:"avatarId",value:s.id}),r.a.createElement(C.a,{className:"rs-modal rs-modal--md ".concat(Ht.a.modal__content),isOpen:b,contentLabel:"Crop Modal",style:{overlay:{backgroundColor:"rgba(0, 0, 0, .5)"}}},r.a.createElement("div",{className:"rs-modal__header"},r.a.createElement("span",{className:"rs-modal__title"},"Edit image"),r.a.createElement("button",{className:"rs-modal__close",onClick:y},r.a.createElement("span",null,"\xd7"))),r.a.createElement("div",{className:"rs-modal__body"},s.imageURL.length>0&&r.a.createElement(Wt.a,{style:{maxWidth:"100%"},initialAspectRatio:1,preview:".img-preview",src:s.imageURL,viewMode:1,guides:!0,minCropBoxHeight:10,minCropBoxWidth:10,background:!1,responsive:!0,autoCropArea:1,checkOrientation:!1,onInitialized:function(e){v(e)}})),r.a.createElement("div",{className:"rs-modal__footer rs-modal__controls"},r.a.createElement(ot,{text:"Save changes",color:"blue",onClick:function(e){if("undefined"!==typeof _){var t=_.getCroppedCanvas({fillColor:"#fff"}).toDataURL("image/jpeg");h((n=ve(t),r=function(e){e&&(u(e),c(e)),a(!0)},function(){var e=Object(R.a)(S.a.mark((function e(a,t){var c,i,s,u;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t().driver,i=c.data,!c.loading&&i){e.next=3;break}return e.abrupt("return");case 3:return a(ee(!0)),e.prev=4,e.next=7,B.postAvatar(n);case 7:(s=e.sent).data.status&&(u=s.data.data,Object(o.b)((function(){a(te(u)),a(ee(!1))})),r(u)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),a(ee(!1)),l&&l(e.t0.response.data);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(a,t){return e.apply(this,arguments)}}())),E.current&&(E.current.inputElement?(E.current.inputElement.value="",E.current.value=""):E.current.value=""),g(!1),_.destroy(),v(null)}var n,r,l}}),r.a.createElement(ot,{text:"Close",color:"black",onClick:y}))))},Zt=function(e){var a=e.onAvatarChange,t=Object(n.useState)(!1),c=Object(x.a)(t,2),l=c[0],i=c[1],s=E((function(e){return e.driver.data}),o.c).avatar,u=ue(),m=Object(x.a)(u,2),d=m[0],_=m[1],v=Object(o.d)(),p=function(e,t){v(function(e,a,t){return function(){var n=Object(R.a)(S.a.mark((function n(r,c){var l,i;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=c().driver,i=l.data,!l.loading&&i){n.next=3;break}return n.abrupt("return");case 3:return r(ee(!0)),n.prev=4,n.next=7,B.deleteAvatar(e);case 7:n.sent.status&&(Object(o.b)((function(){r(te(null)),r(ee(!1))})),a()),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(4),r(ee(!1)),t&&t(n.t0.response.data);case 15:case"end":return n.stop()}}),n,null,[[4,11]])})));return function(e,a){return n.apply(this,arguments)}}()}(t,(function(){i(!1),a(null)}))),_(!1)};return r.a.createElement("div",{className:Ht.a.avatar},null!==s&&r.a.createElement(Yt,null),r.a.createElement(Qt,{setIsUpdatedAvatar:i,isUpdatedAvatar:l,onAvatarChange:a}),null!==s&&r.a.createElement(gt,{modalOpen:d,question:"Are you sure?",toggleModal:_,text:"Press yes if you want to remove photo",onConfirm:function(e){return p(0,s.id)}},r.a.createElement("p",{className:"".concat(Ht.a.avatar__btn," ").concat(Ht.a["avatar__btn-remove"]," ai-c jc-c"),onClick:function(e){_(!0)}},r.a.createElement("i",{className:"fico fico-remove"}))))},Kt=t(329),Jt=function(e){return Object(Kt.a)(e,"yyyy-MM-dd")},Xt=function(e){var a=e.driverData,t=e.errors,n=e.countries,c=e.onInputFocus,l=e.onFieldChange,o=e.onCountryChange,i=e.onAvatarChange,s=function(e){var n;return{id:e,name:e,value:a[e],onChange:function(a){return l(e,a.target.value)},onFocus:function(){return c(e)},error:null===(n=t[e])||void 0===n?void 0:n.join("\n"),containerProps:{className:Ht.a["account__form-group"]}}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Ht.a["account__personal-data-wrapper"]},r.a.createElement(Zt,{onAvatarChange:i}),r.a.createElement("div",null,r.a.createElement("div",{className:Ht.a["account__form-row"]},r.a.createElement(Pt,Object.assign({label:"Name",required:!0},s("first_name"))),r.a.createElement(Pt,Object.assign({label:"Last name",required:!0},s("last_name"))),r.a.createElement(Pt,{id:"birthday",name:"birthday",label:"Birthday",containerProps:{className:Ht.a["account__form-group"]},renderInput:function(e){return r.a.createElement(Ge.a,{onChange:function(e){if(e){var a=Jt(e);l("birthday",a)}},selected:be(a.birthday||""),filterDate:function(e){var a=e;a.setHours(0,0,0,0);var t=A;return t.setHours(0,0,0,0),a<=t},customInput:r.a.createElement(Ze,{value:"",onClick:function(){}}),required:!0,dateFormat:"MMM | dd | yyyy",locale:"en-GB",showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",popperPlacement:"top",id:e,onInputClick:function(){return c(e)}})}})),r.a.createElement("div",{className:Ht.a["account__form-row"]},r.a.createElement(Pt,Object.assign({label:"Email",required:!0,mask:Vt.a},s("email"))),r.a.createElement(Pt,Object.assign({label:"Phone",required:!0,type:"tel"},s("phone")))))),r.a.createElement("div",{className:"".concat(Ht.a["account__form-row"]," ai-c")},r.a.createElement(Pt,{id:"country",name:"country",label:"Country",containerProps:{className:Ht.a["account__form-group"]},renderInput:function(e,t){var l,i;return r.a.createElement(pt,{name:t,onChange:function(e){o(e)},options:n.map((function(e){return{value:e.id,label:e.name}})),placeholder:"Country",value:{value:(null===(l=a.country)||void 0===l?void 0:l.id)||null,label:(null===(i=a.country)||void 0===i?void 0:i.name)||""},id:e,onFocus:function(){return c("country")}})}}),r.a.createElement(Pt,Object.assign({label:"Zip"},s("zip"))),r.a.createElement(Pt,Object.assign({label:"State"},s("state"))),r.a.createElement(Pt,Object.assign({label:"City"},s("city"))),r.a.createElement(Pt,Object.assign({label:"Street"},s("street"))),r.a.createElement(Pt,Object.assign({label:"Building"},s("building"),{containerProps:{className:Re()(Ht.a["account__form-group"],Ht.a["account__form-group-s"])}}))))},$t=[{value:"Driver license",label:"Driver license"},{value:"Passport",label:"Passport"},{value:"Card ID",label:"Card ID"},{value:"Tax Identification Number",label:"Tax Identification Number"}],en=function(e){var a,t,c,l=e.initialData,i=Object(n.useRef)(null),s=Object(n.useState)(null),m=Object(x.a)(s,2),d=m[0],v=m[1],p=Object(n.useState)(!1),f=Object(x.a)(p,2),b=f[0],g=f[1],y=Object(n.useState)(null),N=Object(x.a)(y,2),O=N[0],j=N[1],w=function(e){var a=e.photosInputRef,t=e.initialData,r=E((function(e){return e.driver}),o.c).data,c=Object(n.useState)(),l=Object(x.a)(c,2),i=l[0],s=l[1],m=Object(n.useState)({}),d=Object(x.a)(m,2),v=d[0],p=d[1],f=Object(n.useState)(t||{expDate:null,issueDate:null,num:"",type:"",notes:""}),b=Object(x.a)(f,2),g=b[0],y=b[1],N=Object(n.useState)(null),O=Object(x.a)(N,2),j=O[0],w=O[1],k=Object(n.useState)(!0),C=Object(x.a)(k,2),D=C[0],T=C[1],L=Object(n.useState)([]),I=Object(x.a)(L,2),A=I[0],F=I[1],P=Object(o.d)();Object(n.useEffect)((function(){var e;t&&(y(t),(null===(e=t.photos)||void 0===e?void 0:e.length)&&F(t.photos))}),[t]),Object(n.useEffect)((function(){t&&!D&&V(t.id)}),[g.issueDate,g.expDate]),Object(n.useEffect)((function(){i&&y(Object(u.a)(Object(u.a)({},g),{},{type:i.value}))}),[i]);var M=function(e,a){y(Object(u.a)(Object(u.a)({},g),{},Object(oe.a)({},e,a)))},U=function(e){return e.type.startsWith("image/")&&e.size<5e6},q=function(){var e=Object(R.a)(S.a.mark((function e(a){var n,r,c,l,o,i,s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=a.target.files)){e.next=14;break}for(r=[],c=0;c<n.length;c++)l=n[c],U(l)&&function(){var e=new FileReader;e.readAsDataURL(l);var a=new Promise((function(a,t){e.onload=function(){var e=Object(R.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(null===(n=t.target)||void 0===n?void 0:n.result);case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()}));r.push(a)}();return e.next=6,Promise.all(r);case 6:return o=e.sent,i=o.map(function(){var e=Object(R.a)(S.a.mark((function e(a){var t,n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.postDocumentFile(ve(a));case 3:return t=e.sent,n=t.data,r=n.data,e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}()),e.next=10,Promise.all(i);case 10:s=e.sent,F((function(e){return[].concat(Object(_.a)(e),Object(_.a)(s))})),h.b.success("New files attached"),t&&V(t.id,{photos:s.map((function(e){return e.id}))});case 14:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),G=function(){var e=Object(R.a)(S.a.mark((function e(a){var t,n,c,l,o,i,m,d;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,t=A.map((function(e){return e.id})),e.next=5,B.postSendDocument(Object(u.a)(Object(u.a)({},g),{},{photos:t}));case 5:n=e.sent,c=n.data,l=c.data,o=Object(u.a)(Object(u.a)({},r),{},{documents:[].concat(Object(_.a)(r.documents),[l])}),P(ae(o)),y({expDate:null,issueDate:null,num:"",type:"",notes:""}),s(null),F([]),h.b.success("New document successfully added"),e.next=21;break;case 14:throw e.prev=14,e.t0=e.catch(1),i=e.t0.response,m=i.data,d=m.data,p(d),new Error(e.t0);case 21:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(a){return e.apply(this,arguments)}}(),V=function(){var e=Object(R.a)(S.a.mark((function e(a,t){var n,r,c,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=A.map((function(e){return e.id})),e.next=4,B.updateDocument(a,Object(u.a)(Object(u.a)({},g),{},{photos:n},t));case 4:h.b.success("Document successfully updated"),e.next=14;break;case 7:throw e.prev=7,e.t0=e.catch(0),r=e.t0.response,c=r.data,l=c.data,p(l),new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a,t){return e.apply(this,arguments)}}(),z=function(){var e=Object(R.a)(S.a.mark((function e(a){var t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.deleteDocument(a);case 3:t=r.documents.filter((function(e){return e.id!==a})),n=Object(u.a)(Object(u.a)({},r),{},{documents:t}),P(ae(n)),h.b.success("Document removed"),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}(),H=function(){var e=Object(R.a)(S.a.mark((function e(a,t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=7;break}return e.next=4,B.deleteDocumentPhoto(a.id,t);case 4:n=A.filter((function(e){return e.id!==a.id})),F(n),h.b.success("Document photo removed");case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a,t){return e.apply(this,arguments)}}();return{type:i,data:g,errors:v,uploadImages:A,setType:s,onDateChange:function(e,a){var t=Jt(a);T(!1),M(e,t)},onInputFocus:function(e){t&&(T(!0),w(g[e])),p((function(a){return Object(u.a)(Object(u.a)({},a),{},Object(oe.a)({},e,null))}))},onFieldBlur:function(e){if(t){var a=g[e];T(!1),a!==j&&V(t.id)}},onFieldChange:M,onUploadPhotoClick:function(e){var t;null===(t=a.current)||void 0===t||t.click()},onAddDocument:G,onDocumentFileInputChange:q,onDocumentRemove:z,onDocumentPhotoRemove:H}}({photosInputRef:i,initialData:l}),k=w.type,C=w.data,D=w.errors,T=w.uploadImages,L=w.setType,I=w.onDateChange,A=w.onInputFocus,F=w.onFieldBlur,P=w.onFieldChange,M=w.onUploadPhotoClick,U=w.onAddDocument,q=w.onDocumentFileInputChange,G=w.onDocumentRemove,V=w.onDocumentPhotoRemove,z=function(e){var a;return{id:e,name:e,onChange:function(a){return P(e,a.target.value)},onFocus:function(){return A(e)},onBlur:function(){return F(e)},error:null===(a=D[e])||void 0===a?void 0:a.join("\n"),containerProps:{className:Ht.a["account__form-group"]}}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"".concat(Ht.a.document," ").concat(Ht.a.document__styled)},r.a.createElement("div",{className:"".concat(Ht.a["account__form-row"])},l?r.a.createElement("div",{className:"".concat(Ht.a["account__form-group"]," ").concat(Ht.a["account__form-group-s"])},r.a.createElement("p",{className:Ht.a.document__label},"Type"),r.a.createElement("p",{className:Ht.a.document__text},r.a.createElement("span",null,C.type))):r.a.createElement(Pt,{id:"type",name:"type",label:"Type",containerProps:{className:Ht.a["account__form-group"]},error:null===(a=D.type)||void 0===a?void 0:a.join("\n"),required:!0,renderInput:function(e,a){return r.a.createElement(pt,{name:a,onChange:function(e){L(e)},options:$t,placeholder:"Type",value:k,id:e,onFocus:function(){return A(a)}})}}),(k||l)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Pt,Object.assign({label:"Number",required:!0},z("num"),{value:C.num})),r.a.createElement(Pt,{id:"issueDate",name:"issueDate",label:"Issue date",containerProps:{className:Ht.a["account__form-group"]},error:null===(t=D.issueDate)||void 0===t?void 0:t.join("\n"),renderInput:function(e,a){return r.a.createElement(Ge.a,{onChange:function(e){e&&I("issueDate",e)},customInput:r.a.createElement(Ze,{value:"",onClick:function(){}}),required:!0,selected:be(C.issueDate||""),dateFormat:"MMM | dd | yyyy",locale:"en-GB",showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",id:e,onInputClick:function(){return A(a)}})}}),r.a.createElement(Pt,{id:"expDate",name:"expDate",label:"Exp date",error:null===(c=D.expDate)||void 0===c?void 0:c.join("\n"),containerProps:{className:Ht.a["account__form-group"]},renderInput:function(e,a){return r.a.createElement(Ge.a,{onChange:function(e){e&&I("expDate",e)},customInput:r.a.createElement(Ze,{value:"",onClick:function(){}}),required:!0,selected:be(C.expDate||""),dateFormat:"MMM | dd | yyyy",locale:"en-GB",showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",id:e,onInputClick:function(){return A(a)}})}})),("Passport"===(null===k||void 0===k?void 0:k.value)||"Passport"===(null===l||void 0===l?void 0:l.type))&&r.a.createElement(Pt,Object.assign({label:"Notes"},z("notes"),{value:C.notes||"",containerProps:{className:Re()(Ht.a["account__form-group"],Ht.a["account__form-group-m"])}})),T.map((function(e){return r.a.createElement("div",{key:e.id,className:Ht.a.document__thumb},r.a.createElement("p",{className:"".concat(Ht.a["document__photo-remove"]," ai-c jc-c"),onClick:function(){j(e)}},r.a.createElement("i",{className:"fico fico-remove"})),r.a.createElement("img",{className:Ht.a.document__photo,src:e.imageURL,alt:"Document",onClick:function(){v(e)}}))})),(k||l)&&r.a.createElement("p",{className:"".concat(Ht.a.document__upload," ai-c"),onClick:M},r.a.createElement("i",{className:"fico fico-upload"}),r.a.createElement("span",null,"Upload"),r.a.createElement("input",{type:"file",ref:i,onChange:q,accept:"image/*",multiple:!0,name:"photos",className:"".concat(Ht.a["document__form-photo-input"])}))),l&&r.a.createElement(gt,{modalOpen:b,question:"Are you sure?",toggleModal:g,text:"Press yes if you want to remove ".concat(l.type," ").concat(l.num),onConfirm:function(){g(!1),G(l.id)}},r.a.createElement("i",{onClick:function(){g(!0)},className:"fico fico-remove ".concat(Ht.a["document__item-remove"])}))),k&&!l&&r.a.createElement("button",{className:Ht.a.document__btn,onClick:U},"+ Add document"),d&&r.a.createElement(yt,{modalOpen:!!d,toggleModal:function(){return v(null)},imageURL:d.imageURL}),O&&r.a.createElement(gt,{modalOpen:!!O,question:"Are you sure?",toggleModal:function(){return j(null)},text:"Press yes if you want to remove photo",onConfirm:function(){j(null),V(O,null===l||void 0===l?void 0:l.id)}}))},an=function(){var e=function(){var e=Object(n.useState)([]),a=Object(x.a)(e,2),t=a[0],r=a[1],c=function(){var e=Object(R.a)(S.a.mark((function e(){var a,t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.getAccountCountries();case 3:a=e.sent,t=a.data,n=t.data,r(n),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){c()}),[]),{countries:t}}().countries,a=function(){var e=E((function(e){return e.driver}),o.c),a=e.data,t=e.loading,r=Object(n.useState)({}),c=Object(x.a)(r,2),l=c[0],i=c[1],s=Object(o.d)(),m=function(){var e=Object(R.a)(S.a.mark((function e(){var a,t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(ee(!0)),e.prev=1,e.next=4,B.getDriverInfo();case 4:a=e.sent,t=a.data,n=t.data,s(ae(n)),s(ee(!1)),e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(1),s(ee(!1)),new Error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){m()}),[]);var d=function(e){var a;return Object(Ve.b)(Object(u.a)(Object(u.a)({},e),{},{country:(null===(a=e.country)||void 0===a?void 0:a.id)||null}),"documents")};return{driverData:a,errors:l,loading:t,onInputFocus:function(e){i((function(a){return Object(u.a)(Object(u.a)({},a),{},Object(oe.a)({},e,null))}))},onFieldChange:function(e,t){var n=Object(u.a)(Object(u.a)({},a),{},Object(oe.a)({},e,t));s(ae(n))},onCountryChange:function(e){var t={id:e.value,name:e.label};s(ae(Object(u.a)(Object(u.a)({},a),{},{country:t})))},onFormSubmit:function(){var e=Object(R.a)(S.a.mark((function e(t){var n,r,c,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,s(ee(!0)),n=d(a),e.next=6,B.postSendAccountData(n);case 6:h.b.success("Account data successfully updated"),s(ee(!1)),e.next=18;break;case 10:throw e.prev=10,e.t0=e.catch(1),r=e.t0.response,c=r.data,l=c.data,i(l),s(ee(!1)),new Error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}(),onAvatarChange:function(e){s(ae(Object(u.a)(Object(u.a)({},a),{},{avatar:e})))}}}(),t=a.driverData,c=a.errors,l=a.loading,i=a.onInputFocus,s=a.onFieldChange,m=a.onCountryChange,d=a.onFormSubmit,_=a.onAvatarChange,v=Object(n.createRef)();return r.a.createElement("div",{className:"page-content ".concat(Ht.a.container)},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:Ht.a["account-wrap"]},r.a.createElement("form",{className:Ht.a.account,onSubmit:d,ref:v},r.a.createElement(Xt,{driverData:t,errors:c,countries:e,onInputFocus:i,onFieldChange:s,onCountryChange:m,onAvatarChange:_})),r.a.createElement("h3",{className:Ht.a.documents__title},"Documents"),t.documents.map((function(e){return r.a.createElement(en,{initialData:e,key:e.id})})),r.a.createElement(en,null),r.a.createElement("div",{className:Ht.a.account__button},r.a.createElement(ot,{text:"Save",color:"blue",loading:l,onClick:function(e){var a;e.preventDefault(),null===(a=v.current)||void 0===a||a.dispatchEvent(new Event("submit",{cancelable:!0}))}})))))},tn=function(){return r.a.createElement("div",{className:"overlay"},r.a.createElement(It,null))},nn=function(){var e,a=Object(N.h)().search,t=H.a.parse(a).token,c=Object(o.d)(),l=Object(n.useRef)((e=t,Array.isArray(e)?e.find((function(e){return!!e})):e));return Object(n.useEffect)((function(){l.current&&c(function(e){return function(){var a=Object(R.a)(S.a.mark((function a(t,n){return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!n().auth.loading){a.next=3;break}return a.abrupt("return");case 3:return t(q(!0)),a.prev=4,a.next=7,B.postLogin(e);case 7:Object(o.b)((function(){t({type:"LOGIN"}),t(q(!1))})),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(4),t(q(!1)),window.location.href="/login";case 14:case"end":return a.stop()}}),a,null,[[4,10]])})));return function(e,t){return a.apply(this,arguments)}}()}(l.current))}),[c]),l.current?r.a.createElement(Ea,null):r.a.createElement(N.a,{to:"/login"})},rn=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement(Sa,null)),r.a.createElement(N.d,null,r.a.createElement(N.b,{exact:!0,path:"/account",component:an}),r.a.createElement(N.b,{exact:!0,path:"/reservations/:id",component:qt}),r.a.createElement(N.b,{exact:!0,path:"/reservations",component:Mt}),r.a.createElement(N.a,{exact:!0,from:"/(login)?",to:"/reservations"})))},cn=function(){return r.a.createElement(N.d,null,r.a.createElement(N.b,{exact:!0,path:"/",component:nn}),r.a.createElement(N.b,{exact:!0,path:"/login",component:tn}),r.a.createElement(N.a,{to:"/login"}))},ln=function(){var e=E((function(e){return e.auth}),o.c).isLoggedIn;return r.a.createElement(y.a,null,e?r.a.createElement(rn,null):r.a.createElement(cn,null))};Object(qe.registerLocale)("en-GB",ze.a);t(324);l.a.render(r.a.createElement(o.a,{store:g},r.a.createElement(h.a,null),r.a.createElement(ln,null)),document.getElementById("rentsyst_personal"))},35:function(e,a,t){e.exports={container:"dl_container__3wn_c",date:"dl_date__3dZra",month:"dl_month__3AC5T",day:"dl_day__ZCjO2",year:"dl_year__11Rrt",location:"dl_location__1aH8P",time:"dl_time__OUN_s"}},43:function(e,a,t){e.exports={wrapper:"login_wrapper__3SAXQ",info:"login_info__2enct","is-success":"login_is-success__2Eq2Y","is-error":"login_is-error__1_tdD",inner:"login_inner__3VY4W",title:"login_title__2C_Kq",form:"login_form__1O34G",form__buttons:"login_form__buttons__1RFiP",input:"login_input__1r8gt",input__wrap:"login_input__wrap__IfV6T",error:"login_error__3Cp3D",input__error:"login_input__error__2FYA3"}},45:function(e,a,t){e.exports={container:"le_container__vWeD_","control-wrap":"le_control-wrap__1vvYv",input:"le_input__GTxPQ",select:"le_select__1luY_","control-wrap--input":"le_control-wrap--input__nzL7z","control-wrap--select":"le_control-wrap--select__2xiQf",checkbox__label:"le_checkbox__label__1_K-7"}},51:function(e,a,t){e.exports={button:"button_button__kHEqs","is-disabled":"button_is-disabled__2R1vG",green:"button_green__Pe7y1",blue:"button_blue__2oqo5",red:"button_red__1D3wp",small:"button_small__27o2D",button__loader:"button_button__loader__1ltEf"}},53:function(e,a,t){e.exports={container:"de_container__1a2Q-",item:"de_item__1dWSQ","control-wrap":"de_control-wrap__1qMWi","date-val":"de_date-val__rnJtr",time:"de_time__zmh6n"}},54:function(e,a,t){e.exports={column:"taxes_column__1LecG","label-title":"taxes_label-title__1mccR",row:"taxes_row__1_tms"}},55:function(e,a,t){e.exports={modal:"cm_modal__3rL34",modal__content:"cm_modal__content__2byur","modal__icon-wrapper":"cm_modal__icon-wrapper__29yX9",modal__icon:"cm_modal__icon__34VW6",modal__title:"cm_modal__title__16uEA",modal__controls:"cm_modal__controls__1SLa1",modal__btn:"cm_modal__btn__17nSa"}},62:function(e,a,t){e.exports={message:"annul_message__1ArMj",annual__modal:"annul_annual__modal__IRp6b",annual__title:"annul_annual__title__2nkFs",annual__text:"annul_annual__text__23HE3",annual__error:"annul_annual__error__SptaE","text-column":"annul_text-column__3wdB9"}},67:function(e,a,t){e.exports={sign:"signature_sign__2U-3V",sign__controls:"signature_sign__controls__3MqTJ",sign__field:"signature_sign__field__1ZUTR",sign__preview:"signature_sign__preview__1ELDG"}},68:function(e,a,t){e.exports={overlay:"loader_overlay__DjBzA",loader:"loader_loader__SfDy-",circle:"loader_circle__8ifFe",ldsEllipsis1:"loader_ldsEllipsis1__3b0QS",ldsEllipsis2:"loader_ldsEllipsis2__FUZWE",ldsEllipsis3:"loader_ldsEllipsis3__1rS2Q"}},70:function(e,a,t){e.exports={param:"vp_param__OR1jd",vp__group:"vp_vp__group__3U-4G"}},72:function(e,a,t){e.exports={container:"filters_container__2fuO4",total:"filters_total__1blVF",filters:"filters_filters__3u4aZ"}},79:function(e,a,t){e.exports={list:"nav_list__3A96L",link:"nav_link__2LBmx",active:"nav_active__1xz3y"}},8:function(e,a,t){e.exports={list:"rslist_list__1fVKl",reservation:"rslist_reservation__3BPO-",label:"rslist_label__1fvJO",reservation__header:"rslist_reservation__header__1a-Fh",number:"rslist_number__1ZQqT",status:"rslist_status__Y8BfA","status-val":"rslist_status-val__2JMZx","type-val":"rslist_type-val__ERI8y",reservation__body:"rslist_reservation__body__2qaGz",side:"rslist_side__1Aaum",reservation__footer:"rslist_reservation__footer__3XHqU","rental-time":"rslist_rental-time__1-8pE","reservation__bottom-info":"rslist_reservation__bottom-info__2_kCl",reservation__todo:"rslist_reservation__todo__KFKPD",reservation__btns:"rslist_reservation__btns__2EPK3",reservation__loading:"rslist_reservation__loading__1FAVb",vehicle:"rslist_vehicle__3ZADr",vehicle__info:"rslist_vehicle__info__1iFSW",vehicle__img:"rslist_vehicle__img__2M_oV",vehicle__inner:"rslist_vehicle__inner__2B-r8",vehicle__group:"rslist_vehicle__group__cEmUa",vehicle__title:"rslist_vehicle__title__1seH5",vehicle__similar:"rslist_vehicle__similar__27rK5",details:"rslist_details__36M4D",details__group:"rslist_details__group__2GZjc","details__group-item":"rslist_details__group-item__2UOeR",details__column:"rslist_details__column__2NjsV","mob-flex":"rslist_mob-flex__3_XMt","details__column--mob":"rslist_details__column--mob__Pvteq",insurance:"rslist_insurance__3HpEO",price:"rslist_price__dHY4t",bold:"rslist_bold__1I9n1"}},80:function(e,a,t){e.exports={container:"todo_container__3atTZ",label:"todo_label__IEqD5",actions:"todo_actions__1GMoS",action:"todo_action__2xzsJ"}},81:function(e,a,t){e.exports={modal:"im_modal__3aQIi",modal__content:"im_modal__content__2i1mx",modal__close:"im_modal__close__Rr4xE",modal__image:"im_modal__image__3fhaF"}},82:function(e,a,t){e.exports={label:"forminput_label__1ZICU",input:"forminput_input__2pM5m",input__error:"forminput_input__error__3G6MH",error:"forminput_error__cF-P1"}},98:function(e,a,t){e.exports={container:"checkbox_container__t7AeE",label:"checkbox_label__1vxfo",checkbox:"checkbox_checkbox__2QrbW"}}},[[179,1,2]]]);