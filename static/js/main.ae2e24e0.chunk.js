(this["webpackJsonprentsyst-personal"]=this["webpackJsonprentsyst-personal"]||[]).push([[0],{116:function(e,a,t){e.exports={btns:"actions_btns__pmX52",todo:"actions_todo__3PhcS"}},123:function(e,a,t){e.exports={select:"select_select__28NYd"}},15:function(e,a,t){e.exports={container:"ae_container__1tMdV","account-wrap":"ae_account-wrap__2kdzq",account__button:"ae_account__button__1SRFS","account__personal-data-wrapper":"ae_account__personal-data-wrapper__HMFZ0","account__form-row":"ae_account__form-row__1jKFj","account__form-group":"ae_account__form-group__qR4Ic","account__form-group-m":"ae_account__form-group-m__3nL96","account__form-group-s":"ae_account__form-group-s__dU3cj",account:"ae_account__2hY2S","account__help-block":"ae_account__help-block__3OJrf",avatar:"ae_avatar__2k5pw",avatar__preview:"ae_avatar__preview__i4LvU",avatar__btn:"ae_avatar__btn__MG-YB","avatar__btn-edit":"ae_avatar__btn-edit__2SjPR",avatar__file:"ae_avatar__file__3TAF2","avatar__btn-remove":"ae_avatar__btn-remove__1zk3H",documents__title:"ae_documents__title__2l8sd",document:"ae_document__jftpr",document__styled:"ae_document__styled__1a3EI",document__label:"ae_document__label__2JVNe",document__text:"ae_document__text__2ZPaZ",document__thumb:"ae_document__thumb__1zJiC","document__thumb-unpointed":"ae_document__thumb-unpointed__1wf-h","document__photo-remove":"ae_document__photo-remove__2tIC4",document__photo:"ae_document__photo__2WbfI","document__item-remove":"ae_document__item-remove__1OMNf",document__upload:"ae_document__upload__1rbF6","document__form-photo-input":"ae_document__form-photo-input__3v63C",document__btn:"ae_document__btn__3Wzpw",document__select:"ae_document__select__3tJcS",modal:"ae_modal__vURbQ",modal__content:"ae_modal__content__f2htk"}},169:function(e,a,t){e.exports={icon:"infotip_icon__1ftfU"}},17:function(e,a,t){e.exports={vc:"vc_vc__36hZd","reserve-num":"vc_reserve-num__Z3N0U","reserve-type":"vc_reserve-type__1ObY0","reserve-status":"vc_reserve-status__1x3V0","reserve-info":"vc_reserve-info__2buDr","reserve-info--status":"vc_reserve-info--status__U--yr","dl-cotainer":"vc_dl-cotainer__QWqXo","dl-item":"vc_dl-item__5EHax",actions:"vc_actions__3U2ry","map-place":"vc_map-place__XoUWr","map-place--mt":"vc_map-place--mt__2zobN",vehicle:"vc_vehicle__2usdW",vehicle__img:"vc_vehicle__img__lJoUf",vehicle__group:"vc_vehicle__group__Uzc1m",vehicle__title:"vc_vehicle__title__1k2P_",vehicle__similar:"vc_vehicle__similar__3X4cZ",vehicle__info:"vc_vehicle__info__hSpnt","ld-edit":"vc_ld-edit__2EoES","ld-edit__row":"vc_ld-edit__row__3eJ4U","map-row":"vc_map-row__1xVAx","ld-edit__dates":"vc_ld-edit__dates__L0cEn"}},171:function(e,a,t){e.exports={pagination:"pagination_pagination__2ocnf"}},172:function(e,a,t){e.exports={"time-left":"rt_time-left__1lsTb"}},180:function(e,a,t){e.exports=t(326)},19:function(e,a,t){e.exports={bc:"billing_bc__2rbld","links-list":"billing_links-list__2C5my",payments:"billing_payments__2PQ9L",payments__method:"billing_payments__method__1gI17",discount:"billing_discount__1znhz",discount__label:"billing_discount__label__2IMtL",discount__details:"billing_discount__details__hx9xF",discount__form:"billing_discount__form__1EMKQ",discount__icon:"billing_discount__icon__3kryc",discount__input:"billing_discount__input__6s1D8","discount__input-info":"billing_discount__input-info__1WicH","discount__input-error":"billing_discount__input-error__1NvLE",discount__btn:"billing_discount__btn__2P720",discount__remove:"billing_discount__remove__1qsc7","is-loading":"billing_is-loading__2fdZh",prices:"billing_prices__2RT5a","label-discount":"billing_label-discount__APlQn","total-row":"billing_total-row__7bltS",sign__place:"billing_sign__place__15FIS",sign__modal:"billing_sign__modal__69g0F",sign__btn:"billing_sign__btn__2ni5A","sign__btn-skelet":"billing_sign__btn-skelet__1Df_9",sign__create:"billing_sign__create__1vKwK","sign__create-text":"billing_sign__create-text__2jr2_",sign__content:"billing_sign__content__pQKFs","pay-link":"billing_pay-link__1c7Ts"}},24:function(e,a,t){e.exports={card:"extras_card__3QnCD",item:"extras_item__1Qvnv",data:"extras_data__K7Aw5","hidden-input":"extras_hidden-input__3VmYb",label:"extras_label__2sYJ0","label--radio":"extras_label--radio__1_ocC","label--check":"extras_label--check__2cZ-o",quantity:"extras_quantity__3emon",quantity__input:"extras_quantity__input__1T-tp",quantity__button:"extras_quantity__button__25Iz9",left:"extras_left__3b30i",right:"extras_right__2rY4l","i-desc":"extras_i-desc__2MzdC"}},26:function(e,a,t){e.exports={dc:"dc_dc__1El2q",driver:"dc_driver__3Vz1J",driver__name:"dc_driver__name__2UtEP","driver__docs-row":"dc_driver__docs-row__1eAYM",driver__doc:"dc_driver__doc__14g5u","driver__doc-label":"dc_driver__doc-label__2QIfA","driver__doc-num":"dc_driver__doc-num__TPuqC","driver__doc-share":"dc_driver__doc-share__31rYN","driver__doc-error":"dc_driver__doc-error__bOZ81","driver__license-btn":"dc_driver__license-btn__IQqFB","btn-skeleton":"dc_btn-skeleton__faw9-","driver__license-error":"dc_driver__license-error__1fL3Q","column--drivers":"dc_column--drivers__2d1eV"}},325:function(e,a,t){},326:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(32),o=t.n(c),l=t(7),i=t(56),s=t(166),u=t(1),m={isLoggedIn:localStorage&&"true"===localStorage.getItem("rsIsLogged"),loading:!1,mailIsSended:!1,message:""};var d={filters:{type:null,reserved_status:null,period:null},loading:!1,data:{reservations:[],pagination:{begin:0,count_pages:0,end:0,page:1,per_page:1,total_count:0}},reservation:null};var _=t(33),v=function(e,a,t){var n=e.findIndex((function(e){return e.id===t})),r=e.find((function(e){return e.id===t}));return r?[].concat(Object(_.a)(e.slice(0,n)),[Object(u.a)(Object(u.a)({},r),{},{photos:r.photos?r.photos.filter((function(e){return e.id!==a})):[]})],Object(_.a)(e.slice(n+1))):Object(_.a)(e)},p={loading:!1,data:{first_name:"",last_name:"",email:"",phone:"",birthday:"",country:null,zip:"",state:"",city:"",street:"",building:"",documents:[],avatar:null}};var f=Object(i.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN":return localStorage&&localStorage.setItem("rsIsLogged","true"),Object(u.a)(Object(u.a)({},e),{},{isLoggedIn:!0});case"LOGOUT":return localStorage&&localStorage.removeItem("rsIsLogged"),Object(u.a)(Object(u.a)({},e),{},{isLoggedIn:!1});case"SET_AUTH_LOADING":return Object(u.a)(Object(u.a)({},e),{},{loading:a.payload});case"SET_MAIL_SENDED":return Object(u.a)(Object(u.a)({},e),{},{mailIsSended:a.payload.status,message:a.payload.message||""});default:return e}},reservations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_RESERVATION_LOADING":return Object(u.a)(Object(u.a)({},e),{},{loading:a.payload});case"SET_RESERVATIONS":return Object(u.a)(Object(u.a)({},e),{},{data:a.payload});case"UPDATE_FILTERS":var t=Object(u.a)({},e.filters);return Object.keys(t).forEach((function(e){var n=a.payload[e],r=Array.isArray(n)?n[0]:n;t[e]=r||null})),Object(u.a)(Object(u.a)({},e),{},{filters:Object(u.a)(Object(u.a)({},e.filters),t)});case"SET_RESERVATION":return Object(u.a)(Object(u.a)({},e),{},{reservation:a.payload});case"UPDATE_RESERVATION":var n=Object(u.a)({},e.reservation);return Object(u.a)(Object(u.a)({},e),{},{reservation:Object(u.a)(Object(u.a)({},n),a.payload)});default:return e}},driver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_DRIVER_LOADING":return Object(u.a)(Object(u.a)({},e),{},{loading:a.payload});case"UPDATE_DRIVER":return Object(u.a)(Object(u.a)({},e),{},{data:Object(u.a)(Object(u.a)({},e.data),a.payload)});case"UPDATE_DRIVER_AVATAR":return Object(u.a)(Object(u.a)({},e),{},{data:Object(u.a)(Object(u.a)({},e.data),{},{avatar:a.payload})});case"UPDATE_DRIVER_DOCUMENTS":return Object(u.a)(Object(u.a)({},e),{},{data:Object(u.a)(Object(u.a)({},e.data),{},{documents:e.data.documents.filter((function(e){return e.id!==a.payload}))})});case"UPDATE_DRIVER_DOCUMENT_PHOTO":return Object(u.a)(Object(u.a)({},e),{},{data:Object(u.a)(Object(u.a)({},e.data),{},{documents:v(e.data.documents,a.payload.photoId,a.payload.docId)})});default:return e}}}),b=i.d,h=Object(i.e)(f,b(Object(i.a)(s.a))),g=t(46),E=(t(189),l.e),y=t(39),N=t(28),O=t(116),j=t.n(O),w=function(){var e=E((function(e){return e.reservations.reservation})),a=e.status,t=e.type.toLowerCase(),n=a.toLowerCase(),c="reject"===n||"cancel"===n,o=Object(N.g)(),l=function(e){o.goBack()};return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"column"}),r.a.createElement("div",{className:"column column--2"},r.a.createElement("div",{className:"column__row jc-fe ai-fs ".concat(j.a.btns)},r.a.createElement(ut,{text:"Back",onClick:l}),!c&&"done"!==n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(nt,{className:j.a.todo,actions:e.necessary_actions}),r.a.createElement(ut,{text:"Confirm",color:"keyless"===t?"green":"standard"===t?"blue":"black",onClick:l})))))},x=t(3),k=t(36),C=t.n(k),S=t(2),D=t.n(S),R=t(14),T=t(66),I=t.n(T),L="https://api-cabinet-test.rentsyst.com/v1",A=new Date(Date.now()-567648e6),F=function(){var e="",a=localStorage.getItem("refreshToken")||"",t=0;function n(e){var a=e.accessToken,t=e.exp,n=e.refreshToken;F.setRefreshToken(n),F.setBearer(a),F.setAccessTokenExp(t)}function r(e){return{accessToken:e.access_token,exp:(new Date).getTime()+(e.expires_in||0),refreshToken:e.refresh_token}}return{makeLogin:function(){var e=Object(R.a)(D.a.mark((function e(a){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.post("".concat(L,"/auth"),{"one-time-token":a});case 2:return n(r((t=e.sent).data.data)),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),refreshTokens:function(){var e=Object(R.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.post("".concat(L,"/auth/refresh"),{"refresh-token":a});case 3:return n(r((t=e.sent).data.data)),e.abrupt("return",t);case 8:throw e.prev=8,e.t0=e.catch(0),F.setRefreshToken(""),F.setBearer(""),F.setAccessTokenExp(0),localStorage.removeItem("rsIsLogged"),h.dispatch({type:"LOGOUT"}),new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),debounceRefreshTokens:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=null,n=[];return function(){return null!==t&&(clearTimeout(t),t=null),t=setTimeout((function(){var a=e();n.forEach((function(e){return e(a)})),n=[]}),a),new Promise((function(e){return n.push(e)}))}}((function(){return F.refreshTokens()}),100),setBearer:function(a){e="Bearer ".concat(a)},getBearer:function(){return e},setAccessTokenExp:function(e){t=e},getAccessTokenExp:function(){return t},isAccessTokenExpired:function(){return t-5e3<=(new Date).getTime()},hasRefreshToken:function(){return Boolean(localStorage.getItem("refreshToken"))},setRefreshToken:function(e){a=e,localStorage.setItem("refreshToken",e)}}}(),P=F,M=function(){var e=I.a.create({baseURL:L});return{init:function(){return e.interceptors.request.use(function(){var e=Object(R.a)(D.a.mark((function e(a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.headers.authorization=P.getBearer(),!P.isAccessTokenExpired()){e.next=14;break}return e.prev=2,e.next=5,P.debounceRefreshTokens();case 5:return a.headers.authorization=P.getBearer(),e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",Promise.reject(e.t0));case 12:e.next=15;break;case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(a){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),e}}}().init(),U=I.a.create({baseURL:L}),B={deleteAvatar:function(e){return M({method:"delete",url:"/account/avatar/".concat(e)})},deleteDocument:function(e){return M({method:"delete",url:"/account/documents/".concat(e)})},deleteDocumentPhoto:function(e,a){return M({method:"delete",url:"/account/documents/".concat(a,"/photos/").concat(e)})},deleteReservationCoupon:function(e){return M({method:"delete",url:"/reservations/".concat(e,"/coupon")})},deleteReservationLoyalty:function(e){return M({method:"delete",url:"/reservations/".concat(e,"/loyalty")})},getAccountCountries:function(){return M({method:"get",url:"/account/countries"})},getDriverInfo:function(){return M({method:"get",url:"/account"})},getReservation:function(e){return M({method:"get",url:"/reservations/".concat(e)})},getReservationExtras:function(e){return M({method:"get",url:"/reservations/".concat(e,"/extras")})},getReservations:function(e){return M({method:"get",url:"/reservations".concat(e)})},getVehicleBusyDates:function(e){return M({method:"get",url:"/vehicles/".concat(e,"/busy-dates")})},getVehicleOffice:function(e,a){return M({method:"get",url:"/vehicles/".concat(e,"/reservation-times"),params:a})},postAvatar:function(e){var a=new FormData;return a.append("avatar",e),M({method:"post",url:"/account/avatar",data:a})},postDocumentFile:function(e){var a=new FormData;return a.append("file",e),M({method:"post",url:"/account/documents/photos",data:a})},postDocumentShare:function(e,a){return M({method:"post",url:"/reservations/".concat(e,"/documents/").concat(a)})},postLogin:function(e){return P.makeLogin(e)},postReservationCoupon:function(e,a){return M({method:"post",url:"/reservations/".concat(e,"/coupon"),data:{coupon:a}})},postReservationLoyalty:function(e,a){return M({method:"post",url:"/reservations/".concat(e,"/loyalty"),data:{amount:a}})},postSendAccountData:function(e){return M({method:"put",url:"/account",data:e})},postSendDocument:function(e){return M({method:"post",url:"/account/documents",data:e})},postSendEmail:function(e){return U({method:"post",url:"/auth/request-login",data:{email:e}})},postSignature:function(e,a){var t=new FormData;return t.append("signature",a),M({method:"post",url:"/reservations/".concat(e,"/signature"),data:t})},putReservation:function(e,a){return M({method:"put",url:"/reservations/".concat(e),data:a})},putReservationExtras:function(e,a){return M({method:"put",url:"/reservations/".concat(e,"/extras"),data:a})},putReservationReject:function(e,a){return M({method:"put",url:"/reservations/".concat(e,"/annul"),data:a})},updateDocument:function(e,a){return M({method:"put",url:"/account/documents/".concat(e),data:a})}},q=function(e){return{type:"SET_AUTH_LOADING",payload:e}},V=function(e,a){return{type:"SET_MAIL_SENDED",payload:{status:e,message:a}}},z=t(50),G=t(57),H=t.n(G),Y=function(e){return{type:"SET_RESERVATION_LOADING",payload:e}},W=function(e){return{type:"SET_RESERVATION",payload:e}},Q=function(e){return{type:"UPDATE_RESERVATION",payload:e}},Z=function(e,a,t){return function(){var n=Object(R.a)(D.a.mark((function n(r,c){var o,i,s;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=c().reservations,i=o.reservation,!o.loading&&i){n.next=3;break}return n.abrupt("return");case 3:return r(Y(!0)),n.prev=4,n.next=7,B.putReservation(i.id,e);case 7:(s=n.sent).data.status&&(Object(l.b)((function(){r(Q(s.data.data)),r(Y(!1))})),z.a.rebuild(),a&&a()),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(4),console.error("Update reservation server errror"),r(Y(!1)),t&&t(n.t0.response.data);case 16:case"end":return n.stop()}}),n,null,[[4,11]])})));return function(e,a){return n.apply(this,arguments)}}()},J=function(e,a){return function(){var t=Object(R.a)(D.a.mark((function t(n,r){var c,o,i,s,u,m,d,_,v,p,f;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r().reservations,o=c.reservation,i=c.loading,o&&!i){t.next=3;break}return t.abrupt("return");case 3:return n(Y(!0)),s={insurance:e.filter((function(e){return!0===e.checked}))[0].id,extras:a.reduce((function(e,a){return a.quantity>0&&e.push({quantity:a.quantity,id:a.id}),e}),[])},t.prev=5,t.next=8,B.putReservationExtras(o.id,s);case 8:(u=t.sent).data.status&&(m=u.data.data,d=m.extras,_=m.insurances,v=m.taxes,p=m.prices,f=m.delivery_data,Object(l.b)((function(){n(Q({extras_data:{extras:d,insurances:_,taxes:v,delivery_data:f},prices:p})),n(Y(!1))})),z.a.rebuild()),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(5),console.error("Update extras server error"),n(Y(!1));case 16:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,a){return t.apply(this,arguments)}}()},K=function(e,a,t){return function(){var n=Object(R.a)(D.a.mark((function n(r,c){var o,i,s;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=c().reservations,i=o.reservation,!o.loading&&i){n.next=3;break}return n.abrupt("return");case 3:return r(Y(!0)),n.prev=4,n.next=7,B.postReservationCoupon(i.id,e);case 7:(s=n.sent).status&&(Object(l.b)((function(){r(Q(s.data.data)),r(Y(!1))})),a&&a()),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(4),console.error("Send coupon server error"),r(Y(!1)),t&&t(n.t0.response.data);case 16:case"end":return n.stop()}}),n,null,[[4,11]])})));return function(e,a){return n.apply(this,arguments)}}()},X=function(e,a,t){return function(){var n=Object(R.a)(D.a.mark((function n(r,c){var o,i,s;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=c().reservations,i=o.reservation,!o.loading&&i){n.next=3;break}return n.abrupt("return");case 3:return r(Y(!0)),n.prev=4,n.next=7,B.postReservationLoyalty(i.id,e);case 7:(s=n.sent).status&&(Object(l.b)((function(){r(Q(s.data.data)),r(Y(!1))})),a&&a()),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(4),console.error("Send loyalty points server error"),r(Y(!1)),t&&t(n.t0.response.data);case 16:case"end":return n.stop()}}),n,null,[[4,11]])})));return function(e,a){return n.apply(this,arguments)}}()},$=function(e,a){return function(){var t=Object(R.a)(D.a.mark((function t(n,r){var c,o,i;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r().reservations,o=c.reservation,!c.loading&&o){t.next=3;break}return t.abrupt("return");case 3:return n(Y(!0)),t.prev=4,t.next=7,B.deleteReservationCoupon(o.id);case 7:(i=t.sent).status&&(Object(l.b)((function(){n(Q(i.data.data)),n(Y(!1))})),e&&e()),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(4),console.error("Remove coupon server error"),n(Y(!1)),a&&a(t.t0.response.data);case 16:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e,a){return t.apply(this,arguments)}}()},ee=function(e,a){return function(){var t=Object(R.a)(D.a.mark((function t(n,r){var c,o,i;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r().reservations,o=c.reservation,!c.loading&&o){t.next=3;break}return t.abrupt("return");case 3:return n(Y(!0)),t.prev=4,t.next=7,B.deleteReservationLoyalty(o.id);case 7:(i=t.sent).status&&(Object(l.b)((function(){n(Q(i.data.data)),n(Y(!1))})),e&&e()),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(4),console.error("Remove loyalty server error"),n(Y(!1)),a&&a(t.t0.response.data);case 16:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e,a){return t.apply(this,arguments)}}()},ae=function(e){return{type:"SET_DRIVER_LOADING",payload:e}},te=function(e){return{type:"UPDATE_DRIVER",payload:e}},ne=function(e){return{type:"UPDATE_DRIVER_AVATAR",payload:e}},re=function(e,a){return function(){var e=Object(R.a)(D.a.mark((function e(t,n){var r,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n().driver.loading){e.next=3;break}return e.abrupt("return");case 3:return t(ae(!0)),e.prev=4,e.next=7,B.getDriverInfo();case 7:(r=e.sent).data.status&&(c=r.data.data,Object(l.b)((function(){t(te(c)),t(ae(!1))}))),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("Get driver info server error"),t(ae(!1)),a&&a(e.t0.response.data);case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(a,t){return e.apply(this,arguments)}}()},ce=function(e){return function(){var a=Object(R.a)(D.a.mark((function a(t,n){var r,c;return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=n().reservations.reservation,!n().driver.loading&&r){a.next=4;break}return a.abrupt("return");case 4:return t(ae(!0)),a.prev=5,a.next=8,B.postDocumentShare(r.id,e);case 8:return(c=a.sent).status&&Object(l.b)((function(){t(Q({shared_documents:[].concat(Object(_.a)(r.shared_documents),[e])})),t(ae(!1))})),a.abrupt("return",c.data);case 13:return a.prev=13,a.t0=a.catch(5),t(ae(!1)),a.abrupt("return",a.t0.response.data);case 17:case"end":return a.stop()}}),a,null,[[5,13]])})));return function(e,t){return a.apply(this,arguments)}}()},oe=t(62),le=t.n(oe),ie=function(e){var a=e||{},t=a.isOpen,r=void 0!==t&&t,c=a.onOpen,o=a.onClose,l=Object(n.useState)(r),i=Object(x.a)(l,2),s=i[0],u=i[1];return{open:s,toggleCard:function(e){void 0!==e?(u(e),e&&(c?c():o&&o())):u((function(e){return!e}))},openCard:function(){u(!0),c&&c()},closeCard:function(){u(!1),o&&o()}}},se=t(18),ue=function(e){var a=Object(n.useState)(e),t=Object(x.a)(a,2),r=t[0],c=t[1],o=E((function(e){return e.auth}),l.c),i=o.loading,s=o.mailIsSended,m=o.message,d=Object(l.d)();return{hasError:!s&&!!m,loading:i,onSubmitForm:function(e){var a;e.preventDefault(),d((a=r.email,function(){var e=Object(R.a)(D.a.mark((function e(t,n){var r,c,o,i,s,u,m;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n().auth.loading){e.next=3;break}return e.abrupt("return");case 3:return t(q(!0)),e.prev=4,e.next=7,B.postSendEmail(a);case 7:r=e.sent,c=r.data,o=c.status,i=c.data,Object(l.b)((function(){t(V(o,i)),t(q(!1))})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),s=e.t0.response.data,u=s.status,m=s.error,Object(l.b)((function(){t(V(u,m)),t(q(!1))}));case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(a,t){return e.apply(this,arguments)}}()))},onValueChange:function(e){var a=e.target,t=a.name,n=a.value;c((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(se.a)({},t,n))}))},values:r}},me=function(e,a,t){var r=e.map((function(e){return window.matchMedia(e)})),c=function(){var e=r.findIndex((function(e){return e.matches}));return(null===a||void 0===a?void 0:a[e])||t},o=Object(n.useState)(c),l=Object(x.a)(o,2),i=l[0],s=l[1];return Object(n.useEffect)((function(){var e=function(){return s(c)};return r.forEach((function(a){return a.addListener(e)})),function(){return r.forEach((function(a){return a.removeListener(e)}))}}),[]),i},de=function(e){var a=e||{},t=a.isOpen,r=a.onOpen,c=a.onClose,o=Object(n.useState)(t||!1),l=Object(x.a)(o,2),i=l[0],s=l[1];return[i,function(e){void 0!==e?(s(e),e&&(r?r():c&&c())):s((function(e){return!e}))}]},_e=function(e){var a=E((function(e){return e.reservations})),t=a.reservation,r=a.loading,c=Object(l.d)();return Object(n.useEffect)((function(){c(function(e){return function(){var a=Object(R.a)(D.a.mark((function a(t,n){var r,c,o,i,s,m,d,_,v,p,f,b;return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=n().reservations,c=r.data,!r.loading){a.next=3;break}return a.abrupt("return");case 3:return o=c.reservations.filter((function(a){return a.id===e}))[0],Object(l.b)((function(){t(Y(!0)),o&&t(W(o))})),a.prev=5,a.next=8,Promise.all([B.getReservation(e),B.getReservationExtras(e)]);case 8:i=a.sent,s=Object(x.a)(i,2),m=s[0],d=s[1],m.data.status&&d.data.status&&(_=d.data.data,v=_.extras,p=_.insurances,f=_.taxes,b=_.delivery_data,Object(l.b)((function(){t(W(Object(u.a)(Object(u.a)({},m.data.data),{},{extras_data:{extras:v,insurances:p,taxes:f,delivery_data:b}}))),t(Y(!1))})),z.a.rebuild()),a.next=19;break;case 15:a.prev=15,a.t0=a.catch(5),console.error("Get reservation server error"),t(Y(!1));case 19:case"end":return a.stop()}}),a,null,[[5,15]])})));return function(e,t){return a.apply(this,arguments)}}()}(+e))}),[e,c]),{reservation:t,loading:r}},ve=function(){var e=Object(N.h)().search,a=Object(N.g)().push,t=function(e){var a={};return e.forEach((function(e){var t=e.name,n=e.value;a=Object(u.a)(Object(u.a)({},a),{},Object(se.a)({},t,n))})),a};return{setLocationSearch:function(e){var n=t(e);a({search:H.a.stringify(n)})},updateLocationSearch:function(n){var r=H.a.parse(e),c=t(n);a({search:H.a.stringify(Object(u.a)(Object(u.a)({},r),c))})}}},pe=t(178),fe=function(e){var a="";a=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var t=e.split(",")[0].split(":")[1].split(";")[0],n=new Uint8Array(a.length),r=0;r<a.length;r++)n[r]=a.charCodeAt(r);return new Blob([n],{type:t})},be=function(e){return e?e[0].toUpperCase()+e.slice(1).toLowerCase():e},he=function(e){return e.replace(/\s/,"T")},ge=function(e){return e?new Date(he(e)):null},Ee=function(e){return e<0||e>=10?e:"0".concat(e)},ye=function(e){var a=Object(n.useRef)(null),t=Object(n.useRef)(null),r=function(){t.current&&t.current.clear()},c=function(){a.current&&(a.current.width=a.current.offsetWidth||700,a.current.height=a.current.offsetHeight||400),r()};return Object(n.useEffect)((function(){return a.current&&(t.current=new pe.a(a.current,{maxWidth:1.5,backgroundColor:"rgba(255, 255, 255, 0)",penColor:"#000000",onBegin:e&&(e.onDraw||void 0)}),c(),window.addEventListener("resize",c)),function(){window.removeEventListener("resize",c)}}),[]),{signRef:a,clearSignature:r,confirmSignature:function(e){if(a.current&&t.current&&!t.current.isEmpty()){var n=function(e){var a=e.getContext("2d"),t=document.createElement("canvas").getContext("2d");if(!a||!t)return"";var n,r,c,o=a.getImageData(0,0,e.width,e.height),l=o.data.length,i={top:0,left:0,right:0,bottom:0};for(n=0;n<l;n+=4)0!==o.data[n+3]&&(r=n/4%e.width,c=~~(n/4/e.width),0===i.top&&(i.top=c),(0===i.left||r<i.left)&&(i.left=r),(0===i.right||i.right<r)&&(i.right=r),(0===i.bottom||i.bottom<c)&&(i.bottom=c));var s=i.bottom-i.top,u=i.right-i.left,m=a.getImageData(i.left,i.top,u,s);return t.canvas.width=u,t.canvas.height=s,t.putImageData(m,0,0),t.canvas.toDataURL()}(a.current),r=fe(n);e&&e(n,r)}}}},Ne=function(){var e=Object(l.d)(),a=de(),t=Object(x.a)(a,2),c=t[0],o=t[1],i=Object(n.useState)(""),s=Object(x.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(""),_=Object(x.a)(d,2),v=_[0],p=_[1],f=function(e){o(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ut,{text:"Annual",size:"small",onClick:function(e){o(!0)}}),r.a.createElement(C.a,{className:"rs-modal ".concat(le.a.annual__modal),isOpen:c,contentLabel:"Sign Modal",onRequestClose:f},r.a.createElement("div",{className:"rs-modal__header"},r.a.createElement("span",{className:"rs-modal__title"},"Why Annul?"),r.a.createElement("button",{className:"rs-modal__close",onClick:f},r.a.createElement("span",null,"\xd7"))),r.a.createElement("div",{className:"rs-modal__body"},r.a.createElement("textarea",{className:le.a.message,value:u,onChange:function(e){m(e.target.value)},rows:5}),v&&r.a.createElement("p",{className:le.a.annual__error},v)),r.a.createElement("div",{className:"rs-modal__footer rs-modal__controls"},r.a.createElement(ut,{text:"Cancel",onClick:f}),r.a.createElement(ut,{text:"Annual",onClick:function(a){u.length<20?p("Needed more than 20 symbols"):(p(""),e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;return function(){var n=Object(R.a)(D.a.mark((function n(r,c){var o,i,s;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=c().reservations,i=o.reservation,!o.loading&&i){n.next=3;break}return n.abrupt("return");case 3:return r(Y(!0)),n.prev=4,n.next=7,B.putReservationReject(i.id,{message:e});case 7:(s=n.sent).data.status&&(Object(l.b)((function(){r(Q({status:s.data.data.status,annul:s.data.data.message})),r(Y(!1))})),z.a.rebuild(),a&&a()),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(4),console.error("Reject reservation server error"),r(Y(!1)),t&&t(n.t0.response.data);case 16:case"end":return n.stop()}}),n,null,[[4,11]])})));return function(e,a){return n.apply(this,arguments)}}()}(u)),o(!1))}}))))},Oe=function(){var e=E((function(e){return e.reservations.reservation})).annul;return e?r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"card__title ".concat(le.a.annual__title)},"Annul")),r.a.createElement("div",{className:"column column--2 ".concat(le.a["text-column"])},r.a.createElement("p",{className:le.a.annual__text},e))):null},je=t(19),we=t.n(je),xe=function(e){var a=e.links;return r.a.createElement("ul",{className:"".concat(we.a["links-list"]," links-list")},r.a.createElement("li",null,r.a.createElement("a",{href:a.agreement_url,rel:"noopener noreferrer",target:"_blank"},"Agreement")),r.a.createElement("li",null,r.a.createElement("a",{href:a.invoice_url,rel:"noopener noreferrer",target:"_blank"},"Invoice")))},ke=t(167),Ce=t.n(ke),Se=t(89),De=t.n(Se),Re=function(e){var a=e.image,t=e.info,c=e.name,o=(e.number,e.value),l=e.mask,i=e.error,s=e.loading,u=e.onApply,m=Object(n.useState)(!1),d=Object(x.a)(m,2),_=d[0],v=d[1],p=Object(n.useState)(""),f=Object(x.a)(p,2),b=f[0],h=f[1],g=Object(n.useRef)(null),E=function(e){h(e.currentTarget.value)};return r.a.createElement("div",{className:we.a.discount},r.a.createElement(_t,{labelClassName:we.a.discount__label,check:_,name:"payment_".concat(o),onCheck:function(e){v((function(e){return!e}))},labelContent:r.a.createElement(r.a.Fragment,null,a&&r.a.createElement("img",{className:we.a.discount__icon,src:a,alt:""}),c)}),_&&r.a.createElement("div",{className:we.a.discount__details},t&&r.a.createElement("span",{className:we.a["discount__input-info"]},t),r.a.createElement("div",{className:we.a.discount__form},l?r.a.createElement(De.a,{ref:g,className:we.a.discount__input,type:"text",mask:l,value:b,onChange:E}):r.a.createElement("input",{ref:g,className:we.a.discount__input,type:"text",value:b,onChange:E}),r.a.createElement(ut,{className:we.a.discount__btn,text:"Apply",size:"small",onClick:function(e){b?u(b):g.current&&(g.current.inputElement?g.current.inputElement.focus():g.current.focus())},loading:s})),i&&r.a.createElement("span",{className:we.a["discount__input-error"]},i)))},Te=t(22),Ie=t.n(Te),Le=function(e){var a=e.value,t=e.icon,n=e.onRemove,c=e.loading,o=void 0!==c&&c;return r.a.createElement("div",{className:"".concat(we.a.discount," ").concat(we.a.discount__form)},r.a.createElement("div",{className:we.a.discount__label},t&&r.a.createElement("img",{className:we.a.discount__icon,src:t,alt:""}),a),r.a.createElement("button",{className:Ie()(we.a.discount__remove,Object(se.a)({},we.a["is-loading"],o)),type:"button",onClick:function(e){n()}},r.a.createElement("i",{className:"fico fico-delete"})))},Ae=Ce()({prefix:"",suffix:"",includeThousandsSeparator:!1,allowDecimal:!0,decimalSymbol:".",decimalLimit:2,allowNegative:!1,allowLeadingZeroes:!1}),Fe=function(){var e=E((function(e){return e.reservations})),a=e.reservation,t=e.loading,c=a,o=c.payment_methods,i=c.discounts,s=c.status,u=c.payment_method,m=s.toLowerCase(),d="reject"===m||"cancel"===m||"done"===m,v=Object(n.useState)(null),p=Object(x.a)(v,2),f=p[0],b=p[1],h=Object(n.useState)(""),g=Object(x.a)(h,2),y=g[0],N=g[1],O=Object(n.useState)(""),j=Object(x.a)(O,2),w=j[0],k=j[1],C=Object(n.useState)(!1),S=Object(x.a)(C,2),T=S[0],I=S[1],L=Object(l.d)(),A=o.reduce((function(e,a){var t=Object(x.a)(e,3),n=t[0],r=t[1],c=t[2];return"Coupon"===a.value?[n,a,c]:"Loyalty system"===a.value?[n,r,a]:[[].concat(Object(_.a)(n),[{value:a.value,label:a.name,icon:a.image}]),r,c]}),[[],{},{}]),F=Object(x.a)(A,3),P=F[0],M=F[1],U=F[2];Object(n.useEffect)((function(){if(u){var e=P.find((function(e){return e.value===u}));e&&b(e)}}),[u]);var B=function(e){if(!T&&a){I(!0);var t=a.date_from,n=a.date_to,r=a.location_from,c=a.location_to;L(Z({date_from:t,date_to:n,pickup_location:r.office.id,return_location:c.office.id,payment_method:e},(function(){I(!1)}),(function(){I(!1)})))}},q=function(){var e=Object(R.a)(D.a.mark((function e(a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(""),L(K(a,void 0,(function(e){N(e.error)})));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),V=function(){var e=Object(R.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L($());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(R.a)(D.a.mark((function e(a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(""),L(X(a,void 0,(function(e){k(e.error)})));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),G=function(){var e=Object(R.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L(ee());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:we.a.payments},r.a.createElement(ht,{className:we.a.payments__method,name:"payments",onChange:function(e){b(e),B(e.value)},options:P,placeholder:"Payment method",value:f,withIcon:!0}),i.coupon.name&&M.value?r.a.createElement(Le,{value:i.coupon.name,icon:M.image,onRemove:V,loading:t}):!d&&M.value?r.a.createElement(Re,Object.assign({},M,{onApply:q,error:y,loading:t})):null,i.loyalty.used&&U.value?r.a.createElement(Le,{value:i.loyalty.used,icon:U.image,onRemove:G,loading:t}):!d&&U.value?r.a.createElement(Re,Object.assign({},U,{mask:Ae,onApply:z,info:"Available ".concat(i.loyalty.available," point(s)"),error:w,loading:t})):null)},Pe=t(4),Me=t.n(Pe),Ue=t(67),Be=t.n(Ue);C.a.setAppElement("#rentsyst_personal");var qe=function(){var e=E((function(e){return e.reservations})),a=e.reservation,t=e.loading,n=a&&a.signature.url?a.signature.url:"",c=a&&a.status.toLowerCase(),o="reject"===c||"cancel"===c,i=de(),s=Object(x.a)(i,2),u=s[0],m=s[1],d=Object(l.d)(),_=function(){m(!1)};return r.a.createElement("div",{className:we.a.sign__modal},n?r.a.createElement("img",{className:Be.a.sign__preview,src:n,alt:""}):r.a.createElement("div",{className:we.a.sign__create},r.a.createElement("i",{className:"fico fico-contract"}),r.a.createElement("span",{className:we.a["sign__create-text"]},"Sign an agreement")),t?r.a.createElement(Me.a,{width:"100%",height:"100%",className:we.a["sign__btn-skelet"]}):!o&&"done"!==c&&r.a.createElement("button",{type:"button",className:we.a.sign__btn,onClick:function(e){m(!0)}}),r.a.createElement(C.a,{className:"rs-modal rs-modal--lg ".concat(we.a.sign__content),isOpen:u,contentLabel:"Sign Modal",onRequestClose:_},r.a.createElement("div",{className:"sign-modal__content"},r.a.createElement("div",{className:"rs-modal__header"},r.a.createElement("span",{className:"rs-modal__title"},"Signature"),r.a.createElement("button",{className:"rs-modal__close",onClick:_},r.a.createElement("span",null,"\xd7"))),r.a.createElement("div",{className:"rs-modal__body"},r.a.createElement(Ka,{preview:n,onConfirm:function(e,a){m(!1),d(function(){var e=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,t=arguments.length>3?arguments[3]:void 0;return function(){var n=Object(R.a)(D.a.mark((function n(r,c){var o,i,s;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=c().reservations,i=o.reservation,!o.loading&&i){n.next=3;break}return n.abrupt("return");case 3:return r(Y(!0)),n.prev=4,n.next=7,B.postSignature(i.id,e);case 7:if(!n.sent.data.status){n.next=13;break}return n.next=11,B.getReservation(i.id);case 11:(s=n.sent).data.status&&(Object(l.b)((function(){r(Q(s.data.data)),r(Y(!1))})),z.a.rebuild(),a&&a());case 13:n.next=20;break;case 15:n.prev=15,n.t0=n.catch(4),console.error("Upload signature server error"),r(Y(!1)),t&&t(n.t0.response.data);case 20:case"end":return n.stop()}}),n,null,[[4,15]])})));return function(e,a){return n.apply(this,arguments)}}()}(e,a))}})))))},Ve=function(){var e=E((function(e){return e.reservations.reservation})),a=e.agreement_url,t=e.currency,n=e.discounts,c=e.invoice_url,o=e.prices,l=e.payment_link;return r.a.createElement("div",{className:"card ".concat(we.a.bc)},r.a.createElement("div",{className:"column column--title"},r.a.createElement("div",{className:"card__title"},"Billing information"),r.a.createElement(xe,{links:{agreement_url:a,invoice_url:c}}),r.a.createElement("div",{className:we.a.sign__place},r.a.createElement(qe,null))),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"label-title ".concat(we.a.payment__label)},"Payment type"),r.a.createElement(Fe,null),l&&r.a.createElement(zt,{href:"".concat(l,"&return_url=").concat(window.location.href),text:"Pay",className:we.a["pay-link"]})),r.a.createElement("div",{className:"column column--last ".concat(we.a.prices)},r.a.createElement("div",{className:"column__row jc-sb ai-b"},r.a.createElement("div",{className:"label-title"},"Paid:"),r.a.createElement("div",{className:"price bold"},o.paid,"\xa0",t.symbol)),r.a.createElement("div",{className:"column__row jc-sb ai-b"},r.a.createElement("div",{className:"label-title"},"Deposit:"),r.a.createElement("div",{className:"price bold"},o.paid_deposit,"\xa0",t.symbol)),n.coupon.price&&r.a.createElement("div",{className:"column__row jc-sb ai-b"},r.a.createElement("div",{className:"label-title ".concat(we.a["label-discount"])},"Coupon:"),r.a.createElement("div",{className:"price"},n.coupon.price,"\xa0",t.symbol)),n.loyalty.used&&r.a.createElement("div",{className:"column__row jc-sb ai-b"},r.a.createElement("div",{className:"label-title ".concat(we.a["label-discount"])},"Loyalty:"),r.a.createElement("div",{className:"price"},n.loyalty.used,"\xa0point(s)")),r.a.createElement("div",{className:"column__row jc-sb ai-b ".concat(we.a["total-row"])},r.a.createElement("div",{className:"label-title"},"Due\xa0balance:"),r.a.createElement("div",{className:"price bold"},o.balance,"\xa0",t.symbol))))},ze=t(49),Ge=t.n(ze),He=t(78),Ye=t(96),We=t(121),Qe=t(122),Ze=(t(232),t(53)),Je=t.n(Ze),Ke=Object(n.forwardRef)((function(e,a){var t=e.value,n=e.onClick,c=t?t.split(" || "):["--- | -- | ----","--:--"],o=Object(x.a)(c,2),l=o[0],i=o[1];return r.a.createElement("div",{className:Je.a["control-wrap"],ref:a,onClick:n},r.a.createElement("i",{className:"fico fico-calendar"}),r.a.createElement("div",{className:Je.a["date-val"]},r.a.createElement("div",{className:Je.a.date},l),r.a.createElement("div",{className:"".concat(Je.a.time," date-val-time")},i)))}));Object(ze.registerLocale)("en-GB",Ye.a);var Xe=function(e){var a=e.initialDates,t=e.availableTimes,c=e.disabledDates,o=e.onChange,l=Object(n.useState)(t),i=Object(x.a)(l,2),s=i[0],u=i[1],m=function(e){return e?"".concat(e.getFullYear(),"-").concat(Ee(e.getMonth()+1),"-").concat(Ee(e.getDate())," ").concat(Ee(e.getHours()),":").concat(Ee(e.getMinutes())):""},d=function(e,a,n){if(e){var r=(e.getDay()+6)%7,c=t[a];if(c){var o=c[r][n];return o?function(e,a){var t=a.split(":"),n=Object(x.a)(t,2),r=n[0],c=n[1];return Object(We.a)(Object(Qe.a)(e,+c),+r)}(e,o):Object(We.a)(Object(Qe.a)(e,0),0)}}},_=function(e,a){var t=e,n=d(e,a,"from"),r=d(e,a,"to");return n&&n.getTime()>e.getTime()?t=n:r&&r.getTime()<e.getTime()&&(t=r),{min:n,max:r,selected:t}},v=Object(n.useState)(new Date(he(a[0]))),p=Object(x.a)(v,2),f=p[0],b=p[1],h=Object(n.useState)(new Date(he(a[1]))),g=Object(x.a)(h,2),E=g[0],y=g[1],N=Object(n.useState)((function(){return d(f,0,"from")})),O=Object(x.a)(N,2),j=O[0],w=O[1],k=Object(n.useState)((function(){return d(f,0,"to")})),C=Object(x.a)(k,2),S=C[0],D=C[1],R=Object(n.useState)((function(){return d(E,1,"from")})),T=Object(x.a)(R,2),I=T[0],L=T[1],A=Object(n.useState)((function(){return d(E,1,"to")})),F=Object(x.a)(A,2),P=F[0],M=F[1],U=function(e,a){if(!e||!a)return!1;for(var t=e.getTime(),n=a.getTime(),r=0;r<c.length;r++){var o=new Date(he(c[r].from)).getTime(),l=new Date(he(c[r].to)).getTime();if(t>o&&t<=l)return!0;if(n>o&&n<=l)return!0;if(o>t&&n>=l)return!0}return!1},B=function(e){var a=_(e,0);a.min&&a.max&&a.min.getTime()===a.max.getTime()||((E&&a.selected.getTime()>E.getTime()||U(a.selected,E))&&y(void 0),b(a.selected),w(a.min),D(a.max),o(m(a.selected),m(E)))},q=function(e){var a=_(e,1);a.min&&a.max&&a.min.getTime()===a.max.getTime()||f&&a.selected.getTime()<=f.getTime()||U(f,a.selected)||(y(a.selected),L(a.min),M(a.max),o(m(f),m(a.selected)))},V=function(e){var a=e.getTime();if(!c.length)return!0;for(var t=0;t<c.length;t++){var n=new Date(he(c[t].from)).getTime(),r=new Date(he(c[t].to)).getTime();if(a>=n&&a<=r)return!1}return!0};return Object(n.useEffect)((function(){Object(He.a)(t[0],s[0])||(u((function(e){return[t[0],e[1]]})),function(){if(f){var e=_(f,0);b(void 0),w(e.min),D(e.max)}}()),Object(He.a)(t[1],s[1])||(u((function(e){return[e[0],t[1]]})),function(){if(E){var e=_(E,1);y(void 0),L(e.min),M(e.max)}}())}),[t]),r.a.createElement("div",{className:Je.a.container},r.a.createElement("div",{className:Je.a.item},r.a.createElement("div",{className:"label"},"Pick Up"),r.a.createElement(Ge.a,{onChange:function(e){return B(e)},selected:f,startDate:f,endDate:E,filterDate:V,selectsStart:!0,showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,minTime:j,maxTime:S,customInput:r.a.createElement(Ke,null),dateFormat:"MMM | dd | yyyy || HH:mm",locale:"en-GB"})),r.a.createElement("div",{className:Je.a.item},r.a.createElement("div",{className:"label"},"Return"),r.a.createElement(Ge.a,{onChange:function(e){return q(e)},selected:E,startDate:f,minDate:f,endDate:E,filterDate:V,selectsEnd:!0,showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,minTime:I,maxTime:P,customInput:r.a.createElement(Ke,null),dateFormat:"MMM | dd | yyyy || HH:mm",locale:"en-GB"})))},$e=t(37),ea=t.n($e),aa=function(e){var a=e.date,t=e.location,n=e.onLocationClick,c=function(e){if(!e)return null;var a=new Date(he(e)),t=a.getHours(),n=a.getMinutes();return{day:a.getDate(),month:a.toLocaleString("en",{month:"short"}),year:a.getFullYear(),time:"".concat(t<10?"0".concat(t):t,":").concat(n<10?"0".concat(n):n)}}(a);if(!c)return null;return r.a.createElement("div",{className:ea.a.container},r.a.createElement("div",{className:ea.a.date},r.a.createElement("div",{className:ea.a.month},c.month),r.a.createElement("div",{className:ea.a.day},c.day),r.a.createElement("div",{className:ea.a.year},c.year)),r.a.createElement("div",null,r.a.createElement("div",{className:ea.a.location,onClick:function(e){n&&n()}},t),r.a.createElement("div",{className:ea.a.time},c.time)))},ta=t(93),na=t(26),ra=t.n(na),ca=function(e){var a=e.id,t=e.type,c=e.num,o=e.loading,i=e.shared,s=void 0!==i&&i,u=Object(n.useState)(""),m=Object(x.a)(u,2),d=m[0],_=m[1],v=Object(l.d)(),p=function(){var e=Object(R.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,v(ce(a));case 4:(t=e.sent).status?(g.b.success("Document has been shared!"),_("")):t.error&&_(t.error);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:ra.a["driver__docs-row"]},r.a.createElement("div",{className:ra.a.driver__doc},r.a.createElement("div",{className:ra.a["driver__doc-label"]},t),r.a.createElement("div",{className:ra.a["driver__doc-num"]},c)),!s&&r.a.createElement(ut,{type:"button",className:ra.a["driver__doc-share"],size:"small",text:"Share",onClick:p,loading:o}),d&&r.a.createElement("p",{className:ra.a["driver__doc-error"]},d))},oa=function(e){var a=e.driver,t=Object(n.useState)(!1),c=Object(x.a)(t,2),o=c[0],i=c[1],s=E((function(e){return e.driver})).loading,u=E((function(e){return e.reservations})).reservation,m=a.first_name,d=a.last_name,_=a.documents,v=Object(l.d)(),p=_.filter((function(e){return"Driver license"===e.type})).length>0;return r.a.createElement("div",{className:ra.a.driver},r.a.createElement("div",{className:ra.a.driver__name},m," ",d),!p&&r.a.createElement("div",{className:ra.a.driver__docs},r.a.createElement("button",{type:"button",className:"".concat(ra.a.driver__doc," ").concat(ra.a["driver__license-btn"]),onClick:function(e){i(!1),v(re())}},"Add driver license",s&&r.a.createElement(Me.a,{className:ra.a["btn-skeleton"]})),o&&r.a.createElement("p",{className:ra.a["driver__license-error"]},"Please, add driver license in"," ",r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"/account"},"your\xa0account"))),p&&r.a.createElement("div",{className:ra.a.driver__docs},_.map((function(e){return r.a.createElement(ca,Object.assign({},e,{shared:u&&u.shared_documents&&-1!==u.shared_documents.indexOf(e.id),loading:s,key:e.id}))}))))},la=function(e){var a=e.drivers,t=e.reservation;return r.a.createElement("div",{className:"card ".concat(ra.a.dc)},r.a.createElement("div",{className:"column column--title"},r.a.createElement("div",{className:"column__row ai-c"},r.a.createElement("span",{className:"card__title"},"Drivers"))),r.a.createElement("div",{className:"column ".concat(ra.a["column--drivers"])},a[0].first_name?a.map((function(e,a){return r.a.createElement(oa,{key:a,driver:e})})):r.a.createElement(Ct,null)),r.a.createElement("div",{className:"column column--last"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"label-title"},"Rental period"," ",Object(ta.a)(new Date(he(t.date_to)),new Date(he(t.date_from)),{unit:"day",roundingMethod:"ceil"})),r.a.createElement("div",{className:"price"},t.prices.vehicle,"\xa0",t.currency.symbol)):r.a.createElement(Dt,null)))},ia=function(){var e=E((function(e){return e.reservations.reservation})),a=function(){var e=E((function(e){return e.driver})),a=e.data,t=e.loading,r=Object(l.d)();return Object(n.useEffect)((function(){r(re())}),[r]),{driver:a,loading:t}}().driver;return r.a.createElement(la,{drivers:[a],reservation:e})},sa=t(24),ua=t.n(sa),ma=function(e){var a=e.blocked,t=e.checked,n=void 0!==t&&t,c=e.currency,o=e.damage_access,l=(e.damage,e.deposit_price),i=(e.deposit,e.editable),s=void 0!==i&&i,u=e.icon,m=e.id,d=e.price,_=e.title,v=e.value,p=e.onChange;return r.a.createElement("div",{className:ua.a.item},r.a.createElement("div",{className:ua.a.data},s&&r.a.createElement("input",{className:ua.a["hidden-input"],type:"radio",name:"insurance",defaultValue:v,id:String(m),defaultChecked:n,onChange:function(e){p(m)},disabled:a}),r.a.createElement("label",{className:Ie()(ua.a.label,Object(se.a)({},ua.a["label--radio"],s)),htmlFor:s?String(m):void 0},r.a.createElement("i",{className:"fico fico-".concat(u)}),_),r.a.createElement("ul",{className:ua.a["i-desc"]},r.a.createElement("li",null,"Damage access ",o,"\xa0",c),r.a.createElement("li",null,"Security deposit ",l,"\xa0",c))),r.a.createElement("div",{className:"price"},d,"\xa0",c))},da=function(e){var a=e.blocked,t=e.currency,c=e.editable,o=e.icon,l=e.id,i=e.max_quantity,s=(e.price_day,e.price),u=e.quantity,m=void 0===u?0:u,d=e.title,_=(e.type,e.onChange),v=Object(n.useState)(m>0),p=Object(x.a)(v,2),f=p[0],b=p[1],h=Object(n.useState)(m),g=Object(x.a)(h,2),E=g[0],y=g[1],N=Object(n.useState)(m),O=Object(x.a)(N,2),j=O[0],w=O[1],k=function(e){return e<=0?0:i&&e>i?i:e},C=function(e){b(e>0)};return r.a.createElement("div",{className:ua.a.item},r.a.createElement("div",{className:ua.a.data},c&&r.a.createElement("input",{className:ua.a["hidden-input"],type:"checkbox",name:"extra_".concat(l),value:E,id:"extra_".concat(l),checked:f,onChange:function(e){var a=!f;a?(y(1),_(l,1),w(1)):(y(0),_(l,0),w(0)),b(a)},disabled:a}),r.a.createElement("label",{className:Ie()(ua.a.label,Object(se.a)({},ua.a["label--check"],c)),htmlFor:c?"extra_".concat(l):void 0},"".concat(c?"":"".concat(E," x ")),r.a.createElement("i",{className:"fico fico-".concat(o)}),d),c&&r.a.createElement("div",{className:ua.a.quantity},r.a.createElement("button",{className:"".concat(ua.a.quantity__button," ").concat(ua.a.left),type:"button",onClick:function(e){var a=k(E-1);a!==E&&(y(a),C(a),w(a),_(l,a))},disabled:a}),r.a.createElement("input",{className:ua.a.quantity__input,type:"text",value:j,onChange:function(e){var a=e.target.value.replace(/\D+/gi,""),t=k(+a);w(""===a?a:t),C(t)},onBlur:function(e){j!==E&&(""===j?(_(l,0),y(0),w(0)):(_(l,j),y(j)))},disabled:a}),r.a.createElement("button",{className:"".concat(ua.a.quantity__button," ").concat(ua.a.right),type:"button",onClick:function(e){var a=k(E+1);a!==E&&(y(a),C(a),w(a),_(l,a))},disabled:a}))),r.a.createElement("div",{className:"price"},s,"\xa0",t))},_a=function(){var e=ie(),a=e.open,t=e.toggleCard,n=E((function(e){return e.reservations})),c=n.reservation,o=function(e,a){var t=Object(l.d)(),n=e.extras_data,r=e.currency,c=a?Object(_.a)(n.insurances):n.insurances.filter((function(e){return!0===e.checked})),o=a?Object(_.a)(n.extras):n.extras.filter((function(e){return e.quantity>0}));return{insurances:c,extras:o,currency:r,changeInsurance:function(e){t(J(c.map((function(a){return a.checked=a.id===e,a})),o))},changeExtras:function(e,a){t(J(c,o.map((function(t){return t.id===e&&(t.quantity=a),t}))))}}}(c,a),i=o.insurances,s=o.extras,u=o.currency,m=o.changeInsurance,d=o.changeExtras,v=c.status.toLowerCase(),p="cancel"!==v&&"reject"!==v&&"done"!==v,f=function(e){t()};return r.a.createElement("div",{className:"card ".concat(ua.a.card)},r.a.createElement("div",{className:"column column--title"},r.a.createElement("div",{className:"column__row ai-c"},r.a.createElement("span",{className:"card__title"},"Extras"),p&&!a&&r.a.createElement(ut,{text:"Change",size:"small",onClick:f}))),r.a.createElement("div",{className:"column column--2"},r.a.createElement("div",{className:"label-title"},"Insurance"),r.a.createElement("div",null,i.map((function(e){return r.a.createElement(ma,Object.assign({key:e.id,editable:a,blocked:n.loading},e,{currency:u.symbol,onChange:m}))}))),s.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"label-title"},"Extras"),r.a.createElement("div",null,s.map((function(e){return r.a.createElement(da,Object.assign({key:e.id,editable:a,blocked:n.loading},e,{currency:u.symbol,onChange:d}))}))))),a&&r.a.createElement("button",{type:"button",className:"card__close",onClick:f},r.a.createElement("i",{className:"fico fico-right"})))},va=(t(169),t(35)),pa=t.n(va),fa=function(e){var a,t=e.className,n=void 0===t?"":t,c=e.text,o=e.color,l=void 0===o?"":o,i=e.to,s=e.size,u=e.disabled,m=void 0!==u&&u;return r.a.createElement(y.b,{className:Ie()(pa.a.button,(a={},Object(se.a)(a,pa.a.small,"small"===s),Object(se.a)(a,pa.a[l],!!l),Object(se.a)(a,pa.a["is-disabled"],m),Object(se.a)(a,n,!!n),a)),to:i},c)},ba=t(72),ha=t.n(ba),ga={type:{options:[{value:"",label:"All"},{value:"keyless",label:"Keyless"},{value:"standard",label:"Standard"}],placeholder:"Rental type"},reserved_status:{options:[{value:"",label:"All"},{value:"booking",label:"Booking"},{value:"reserved",label:"Reserved"},{value:"rental",label:"Rental"},{value:"done",label:"Done"},{value:"cancel",label:"Cancel"},{value:"reject",label:"Reject"}],placeholder:"Status"},period:{options:[{value:"",label:"All"},{value:"future",label:"Future"},{value:"past",label:"Past"}],placeholder:""}},Ea=function(e){var a=e.filters,t=e.total,n=ve().updateLocationSearch,c=function(e,a){n([{name:a,value:e.value}])};return r.a.createElement("div",{className:ha.a.container},r.a.createElement("span",{className:ha.a.total},function(e){switch(e){case 0:case void 0:return"Not found";case 1:return"1 Reservation";default:return"".concat(e," Reservations")}}(t)),r.a.createElement("div",{className:ha.a.filters},Object.keys(ga).map((function(e){var t=ga[e],n=t.options,o=t.placeholder;return r.a.createElement(ht,{key:e,name:e,options:n,value:n.filter((function(t){return t.value===a[e]}))[0]||null,placeholder:o,onChange:c})}))))},ya=t(68),Na=t.n(ya),Oa=function(){return r.a.createElement("div",{className:Na.a.overlay},r.a.createElement("div",{className:Na.a.loader},r.a.createElement("div",{className:Na.a.circle}),r.a.createElement("div",{className:Na.a.circle}),r.a.createElement("div",{className:Na.a.circle}),r.a.createElement("div",{className:Na.a.circle})))},ja=t(47),wa=t.n(ja),xa=function(e){var a=e.name,t=e.value,n=e.onChange,c=e.options;return r.a.createElement("div",{className:"".concat(wa.a["control-wrap"]," ").concat(wa.a["control-wrap--select"])},r.a.createElement("i",{className:"fico fico-place"}),r.a.createElement(ht,{className:wa.a.select,name:a,options:c,value:t,placeholder:"Choose location",onChange:n}))},ka=function(e){var a=e.name,t=e.value,c=e.onChange,o=e.placeholder,l=void 0===o?"":o,i=Object(n.useRef)(null),s=Object(n.useState)(t||""),u=Object(x.a)(s,2),m=u[0],d=u[1];Object(n.useEffect)((function(){if(null!==i.current){var e=new google.maps.places.Autocomplete(i.current);window.google.maps.event.addListener(e,"place_changed",(function(){var a=e.getPlace();a.geometry&&(d(a.formatted_address||""),c(a.geometry.location.lat(),a.geometry.location.lng(),a.formatted_address||""))}))}}),[]);return r.a.createElement("div",{className:"".concat(wa.a["control-wrap"]," ").concat(wa.a["control-wrap--input"])},r.a.createElement("i",{className:"fico fico-place is-active",onClick:function(e){if(e.preventDefault(),window.google){var a=new google.maps.Geocoder;"geolocation"in navigator&&navigator.geolocation.getCurrentPosition((function(e){a.geocode({location:{lat:e.coords.latitude,lng:e.coords.longitude}},(function(e,a){if("OK"===a){var t=e[0];t&&t.geometry?(d(t.formatted_address||""),c(t.geometry.location.lat(),t.geometry.location.lng(),t.formatted_address||"")):console.error("No results found")}else console.error("Geocoder failed due to: "+a)}))}))}}}),r.a.createElement("input",{className:wa.a.input,ref:i,type:"text",name:a,value:m,placeholder:l,onChange:function(e){d(e.target.value)}}))},Ca=function(e){var a=e.vehicleID,t=e.initialLocations,c=e.availableLocations,o=e.sameReturn,l=e.customLocation,i=e.onChange,s=Object(n.useState)(t[0]),m=Object(x.a)(s,2),d=m[0],_=m[1],v=Object(n.useState)(t[1]),p=Object(x.a)(v,2),f=p[0],b=p[1],h=Object(n.useRef)(o),g=Object(n.useRef)(l),E=Object(n.useState)("system"===d.type),y=Object(x.a)(E,2),N=y[0],O=y[1],j=Object(n.useState)(o),w=Object(x.a)(j,2),k=w[0],C=w[1],S=Object(n.useMemo)((function(){return c.map((function(e){return{value:e.id,label:e.title}}))}),[]),T=function(){var e=Object(R.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",B.getVehicleOffice(a,t));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),I=function(e,a,t,n){var r=n&&a?c.filter((function(e){return e.id===a}))[0]:e.office;return t&&void 0!==t.work_time_enabled&&void 0!==t.working_time&&(r=Object(u.a)(Object(u.a)({},r),t)),Object(u.a)(Object(u.a)({},e),{},{office:r,address:n&&r.address?r.address:e.address,lat:n&&r.lat?r.lat:e.lat,lng:n&&r.lng?r.lng:e.lng})},L=function(){var e=Object(R.a)(D.a.mark((function e(a){var t,n,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.value){e.next=3;break}return e.abrupt("return");case 3:return n=Object(u.a)({},d),e.prev=4,e.next=7,T({office_id:+t});case 7:r=e.sent,n=I(d,+t,r.data.data,N),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.warn("Office working times are not received"),n=I(d,+t,null,N);case 15:_(n),k?(b(n),i(n,n)):i(n,f);case 17:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(a){return e.apply(this,arguments)}}(),A=function(){var e=Object(R.a)(D.a.mark((function e(a){var t,n,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=a.value)&&!k){e.next=3;break}return e.abrupt("return");case 3:return n=Object(u.a)({},f),e.prev=4,e.next=7,T({office_id:+t});case 7:r=e.sent,n=I(f,+t,r.data.data,N),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.warn("Office working times are not received"),n=I(f,+t,null,N);case 15:b(n),i(d,n);case 17:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(a){return e.apply(this,arguments)}}(),F=function(){var e=Object(R.a)(D.a.mark((function e(a,t,n){var r,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(u.a)(Object(u.a)({},d),{},{address:n,lat:a,lng:t}),e.prev=1,e.next=4,T({lat:a,lng:t,address:n});case 4:c=e.sent,r=I(r,null,c.data.data,N),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.warn("Office working times are not received"),r=I(r,null,null,N);case 12:_(r),k?(b(r),i(r,r)):i(r,f);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a,t,n){return e.apply(this,arguments)}}(),P=function(){var e=Object(R.a)(D.a.mark((function e(a,t,n){var r,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=2;break}return e.abrupt("return");case 2:return r=Object(u.a)(Object(u.a)({},f),{},{address:n,lat:a,lng:t}),e.prev=3,e.next=6,T({lat:a,lng:t,address:n});case 6:c=e.sent,r=I(r,null,c.data.data,N),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.warn("Office working times are not received"),r=I(r,null,null,N);case 14:b(r),i(d,r);case 16:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(a,t,n){return e.apply(this,arguments)}}(),M=function(){var e=Object(R.a)(D.a.mark((function e(a){var t,n,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O((function(e){return!e})),t=Object(u.a)({},d),n=Object(u.a)({},f),e.prev=3,e.next=6,Promise.all([T(N?{lat:t.lat,lng:t.lng,addres:t.address}:{office_id:String(t.office.id)}),T(N?{lat:n.lat,lng:n.lng,addres:n.address}:{office_id:String(n.office.id)})]);case 6:r=e.sent,t=I(t,t.office.id,r[0].data.data,!N),n=I(n,n.office.id,r[1].data.data,!N),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),console.warn("Office working times are not received"),t=I(t,t.office.id,null,!N),n=I(n,n.office.id,null,!N);case 16:_(t),b(n),i(t,n);case 19:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:wa.a.container},N?r.a.createElement(xa,{name:"location_from",value:{value:d.office.id,label:d.office.title},onChange:L,options:S}):r.a.createElement(ka,{name:"location_from",value:d.address,onChange:F}),r.a.createElement("div",{className:"column__row"},g.current&&r.a.createElement(_t,{check:!N,labelContent:"Custom location",labelClassName:wa.a.checkbox__label,name:"custom_location",disabled:!g.current,onCheck:M}),r.a.createElement(_t,{check:k,labelContent:"Same return",labelClassName:wa.a.checkbox__label,name:"same_return",disabled:h.current,onCheck:function(e){C((function(e){return!e})),i(d,k?f:d)}})),!k&&(N?r.a.createElement(xa,{name:"location_to",value:{value:f.office.id,label:f.office.title},onChange:A,options:S}):r.a.createElement(ka,{name:"location_to",value:f.address,onChange:P})))},Sa=function(e){var a=e.center,t=e.marker,c=void 0!==t&&t,o=Object(n.useRef)(null),l=Object(n.useRef)(null),i=Object(n.useRef)(null);return Object(n.useEffect)((function(){null!==o.current&&(l.current=new google.maps.Map(o.current,{zoom:15,center:{lat:0,lng:0}}),c&&(i.current=new google.maps.Marker({position:{lat:0,lng:0}}),i.current.setMap(l.current)))}),[]),Object(n.useEffect)((function(){null!==l.current&&a&&(l.current.setCenter(a),c&&i.current&&i.current.setPosition(a))}),[a,c]),a?r.a.createElement("div",{ref:o,style:{width:"100%",height:"100%"}}):null},Da=t(79),Ra=t.n(Da),Ta=[{title:"Reservation",link:"/reservations"},{title:"Payments",link:"/payments"},{title:"My account",link:"/account"}],Ia=function(){var e=Object(l.d)();return r.a.createElement("ul",{className:Ra.a.list},Ta.map((function(e){var a=e.title,t=e.link;return r.a.createElement("li",{key:a},r.a.createElement(y.c,{to:t,className:Ra.a.link,activeClassName:Ra.a.active},a))})),r.a.createElement("li",{key:"Exit"},r.a.createElement("button",{type:"button",className:Ra.a.link,onClick:function(a){e({type:"LOGOUT"})}},"Exit")))},La=t(170),Aa=t.n(La),Fa=t(171),Pa=t.n(Fa),Ma=function(e){var a=e.count_pages,t=e.per_page,n=e.page,c=ve().updateLocationSearch;return a?r.a.createElement("div",{className:Pa.a.pagination},r.a.createElement(Aa.a,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",pageCount:a,forcePage:--n,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){c([{name:"page",value:++e.selected},{name:"per_page",value:t}])},containerClassName:"pagination",activeClassName:"active"})):null},Ua=t(177),Ba=t(173),qa=t(172),Va=t.n(qa),za=function(e){var a=e.date,t=e.className,n=!!a,c=!!n&&Object(Ba.a)(new Date(he(a)));return r.a.createElement("div",{className:t},r.a.createElement("div",{className:"label"},c?"Your order has started: ":"Time to start rental: "),r.a.createElement("div",{className:Ie()("".concat(Va.a["time-left"]," time-left"),{"time-left--red":c})},n?Object(Ua.a)(new Date(he(a)),{addSuffix:!0}):"---"))},Ga=t(70),Ha=t.n(Ga),Ya=function(e){var a=e.icon,t=e.value,n=e.isTransmission,c=null;return void 0!==n&&n&&(c=String(t).match(/^([\s\S]*?)\s*\(([\s\S]*?)\)/i)),r.a.createElement("div",{className:Ha.a.param,"data-tip":c?c[1]:null},r.a.createElement("i",{className:"fico fico-".concat(a)}),c?c[2]:t)},Wa=t(8),Qa=t.n(Wa),Za=function(e){var a=e.reservation,t=e.loading,n=ve().setLocationSearch,c=a.currency,o=a.date_from,l=a.date_to,i=a.id,s=a.insurance,u=a.location_from,m=a.location_to,d=a.mileage_limit,_=a.necessary_actions,v=a.prices,p=a.status,f=a.type,b=a.unique_number,h=a.vehicle,g=f.toLowerCase(),E=p.toLowerCase(),y="reject"===E||"cancel"===E,N=h.brand,O=h.mark,j=h.group,w=h.large_bags,x=h.number_seats,k=h.refill,C=h.transmission;return r.a.createElement("div",{className:Ie()(Qa.a.reservation,{"is-rejected":y,"is-keyless":"keyless"===g,"is-standard":"standard"===g})},r.a.createElement("div",{className:Qa.a.reservation__header},r.a.createElement("span",{className:Qa.a.label},"Reservation: ",r.a.createElement("span",{className:Qa.a.number},b)),r.a.createElement("div",{className:Qa.a.status},r.a.createElement("span",{className:Qa.a.label},"Rental type:"," ",r.a.createElement("span",{className:Qa.a["type-val"],onClick:function(e){n([{name:"type",value:g}])}},be(f))),r.a.createElement("span",{className:Qa.a.label},"Status:"," ",r.a.createElement("span",{className:Qa.a["status-val"],onClick:function(e){n([{name:"reserved_status",value:E}])}},be(p))))),r.a.createElement("div",{className:Qa.a.reservation__body},r.a.createElement("div",{className:Qa.a.side},r.a.createElement("div",{className:Qa.a.vehicle},r.a.createElement("div",{className:Qa.a.vehicle__info},r.a.createElement("div",{className:Qa.a.vehicle__img},r.a.createElement(Nt,{url:h.thumbnail,alt:"".concat(h.brand," ").concat(h.mark)})),r.a.createElement("div",{className:Qa.a.vehicle__group},j),r.a.createElement("div",{className:Qa.a.vehicle__title},N," ",O),r.a.createElement("div",{className:Qa.a.vehicle__similar},"or similar")),r.a.createElement("div",{className:Qa.a.vehicle__info},(x||w)&&r.a.createElement("div",{className:Ha.a.vp__group},x&&r.a.createElement(Ya,{icon:"driver",value:x}),w&&r.a.createElement(Ya,{icon:"profile",value:w})),C.name&&r.a.createElement(Ya,{icon:"transmission",value:C.name,isTransmission:!0}),d&&r.a.createElement(Ya,{icon:"gauge",value:d}),k&&r.a.createElement(Ya,{icon:"gas-station2",value:k})))),r.a.createElement("div",{className:Qa.a.side},r.a.createElement("div",{className:Qa.a.details},r.a.createElement("div",{className:"".concat(Qa.a.details__column," ").concat(Qa.a["details__column--mob"])},r.a.createElement("div",{className:Qa.a["mob-flex"]},r.a.createElement("div",{className:Qa.a.label},"Pick Up"),r.a.createElement(aa,{date:o,location:"custom"===u.type?u.address:u.office.title})),r.a.createElement("div",{className:Qa.a["mob-flex"]},r.a.createElement("div",{className:Qa.a.label},"Return"),r.a.createElement(aa,{date:l,location:"custom"===m.type?m.address:m.office.title}))),r.a.createElement("div",{className:Qa.a.details__column},r.a.createElement("div",{className:Qa.a.label},"Rental period"," ",Object(ta.a)(new Date(he(l)),new Date(he(o)),{unit:"day",roundingMethod:"ceil"})),r.a.createElement("div",{className:Qa.a.insurance},r.a.createElement("div",{className:Qa.a.label},"Insurnce"),s.name," with Damage access:"," ",r.a.createElement("span",{className:Qa.a.price},s.damage_excess,"\xa0",c.symbol)),r.a.createElement("div",{className:Qa.a.details__group},r.a.createElement("div",{className:Qa.a["details__group-item"]},r.a.createElement("div",{className:Qa.a.label},"Due balance:"),r.a.createElement("div",{className:"".concat(Qa.a.price," ").concat(Qa.a.bold)},v.balance,"\xa0",c.symbol)))))),t&&r.a.createElement(Me.a,{width:"100%",height:"100%",className:Qa.a.reservation__loading})),r.a.createElement("div",{className:Qa.a.reservation__footer},!y&&"done"!==E&&r.a.createElement("div",{className:Qa.a["reservation__bottom-info"]},r.a.createElement(za,{date:o,className:Qa.a["rental-time"]}),r.a.createElement(nt,{className:Qa.a.reservation__todo,actions:_})),r.a.createElement("div",{className:Qa.a.reservation__btns},r.a.createElement(fa,{text:"Detail",to:"/reservations/".concat(i),disabled:t}),!y&&"done"!==E&&"keyless"===g&&r.a.createElement(ut,{text:"Start rental",color:"green",disabled:t,onClick:function(){}}))),r.a.createElement(z.a,null))},Ja=function(e){var a=e.loading,t=void 0!==a&&a,n=e.reservations;return r.a.createElement("div",{className:ha.a.list},t&&0===n.length?r.a.createElement(Rt,null):n.map((function(e){return r.a.createElement(Za,{key:e.id,reservation:e,loading:t})})))},Ka=function(e){var a=e.preview,t=void 0===a?"":a,c=e.onConfirm,o=Object(n.useState)(!!t),l=Object(x.a)(o,2),i=l[0],s=l[1],u=function(){s(!1)},m=ye({onDraw:u}),d=m.signRef,_=m.clearSignature,v=m.confirmSignature;return r.a.createElement("div",{className:Be.a.sign},r.a.createElement("div",{className:Be.a.sign__field},i&&r.a.createElement("img",{className:Be.a.sign__preview,src:t,alt:""}),r.a.createElement("canvas",{ref:d})),r.a.createElement("div",{className:"".concat(Be.a.sign__controls," rs-modal__controls")},r.a.createElement(ut,{text:"Clear",onClick:function(e){_(),u()}}),r.a.createElement(ut,{text:"Confirm",onClick:function(e){v((function(e,a){c&&c(e,a)}))}})))},Xa=t(54),$a=t.n(Xa),et=function(){var e=E((function(e){return e.reservations.reservation})),a=e.extras_data,t=e.prices,n=e.currency,c=a.taxes,o=c.vehicle,l=c.taxesTotal;return r.a.createElement("div",{className:"card ai-end"},r.a.createElement("div",{className:"column column--last ".concat($a.a.column)},r.a.createElement("div",{className:"column__row jc-sb ai-c ".concat($a.a.row)},r.a.createElement("span",null,o.name),r.a.createElement("div",{className:"price"},l,"\xa0",n.symbol)),r.a.createElement("div",{className:"column__row jc-sb ai-c ".concat($a.a.row)},r.a.createElement("span",{className:"label-title ".concat($a.a["label-title"])},"Subtotal:"),r.a.createElement("div",{className:"price bold"},t.total,"\xa0",n.symbol))))},at=t(80),tt=t.n(at),nt=function(e){var a=e.actions,t=e.className,n=Object.keys(a);return r.a.createElement("div",{className:"".concat(tt.a.container).concat(t?" ".concat(t):"")},r.a.createElement("div",{className:"".concat(tt.a.label," todo__label")},function(e){switch(e){case 0:case void 0:return"";case 1:return"Necessary 1 action:";default:return"Necessary ".concat(e," actions:")}}(n.length)),r.a.createElement("div",{className:"".concat(tt.a.actions," todo__actions")},n.map((function(e,t){return r.a.createElement("span",{key:e,className:tt.a.action},a[e])}))))},rt=t(17),ct=t.n(rt),ot=function(e){var a=e.vehicle,t=e.mileage_limit,n=a.large_bags,c=a.number_seats,o=a.refill,l=a.transmission,i=a.group,s=a.brand,u=a.mark,m=a.thumbnail;return r.a.createElement("div",{className:"column ".concat(ct.a.vehicle)},r.a.createElement("div",{className:ct.a.vehicle__info},r.a.createElement("div",{className:ct.a.vehicle__img},r.a.createElement(Nt,{url:m,alt:"".concat(s," ").concat(u)})),r.a.createElement("div",{className:ct.a.vehicle__group},i),r.a.createElement("span",{className:ct.a.vehicle__title},"".concat(s," ").concat(u," "),r.a.createElement("span",{className:ct.a.vehicle__similar},"or similar"))),r.a.createElement("div",{className:ct.a.vehicle__info},(l.name||n||c)&&r.a.createElement("div",{className:Ha.a.vp__group},l.name&&r.a.createElement(Ya,{icon:"transmission",value:l.name,isTransmission:!0}),c&&r.a.createElement(Ya,{icon:"driver",value:c}),n&&r.a.createElement(Ya,{icon:"profile",value:n})),t&&r.a.createElement(Ya,{icon:"gauge",value:t}),o&&r.a.createElement(Ya,{icon:"gas-station2",value:o})))},lt=function(e){var a=e.reservation,t=e.onSave,c=Object(l.d)(),o=Object(n.useState)(!1),i=Object(x.a)(o,2),s=i[0],u=i[1],m=a.location_from,d=a.location_to,_=a.date_from,v=a.date_to,p=a.vehicle,f=Object(n.useState)([m,d]),b=Object(x.a)(f,2),h=b[0],g=b[1],E=Object(n.useState)([_,v]),y=Object(x.a)(E,2),N=y[0],O=y[1],j=Object(n.useState)([]),w=Object(x.a)(j,2),k=w[0],C=w[1];Object(n.useEffect)((function(){Object(R.a)(D.a.mark((function e(){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.getVehicleBusyDates(p.id);case 3:(a=e.sent).data.status&&C(a.data.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[p.id]);return r.a.createElement("div",{className:"".concat(ct.a["ld-edit"]," column__body")},r.a.createElement("div",{className:"column__row"},r.a.createElement("div",{className:ct.a["ld-edit__dates"]},r.a.createElement(Xe,{initialDates:N,availableTimes:[h[0].office.work_time_enabled?h[0].office.working_time:null,h[1].office.work_time_enabled?h[1].office.working_time:null],disabledDates:k,onChange:function(e,a){O([e,a])}})),r.a.createElement("div",{className:"column"},r.a.createElement(Ca,{vehicleID:p.id,initialLocations:h,availableLocations:p.available_locations,sameReturn:p.same_return,customLocation:!1,onChange:function(e,a){g([e,a])}}))),r.a.createElement("div",{className:"column__row ".concat(ct.a["map-row"])},r.a.createElement("div",{className:"column"},r.a.createElement(za,{date:N[0]})),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:ct.a["map-place"]},r.a.createElement(Sa,{center:{lat:h[0].lat,lng:h[0].lng},marker:!0})))),r.a.createElement("div",{className:"card__actions ".concat(ct.a.actions)},r.a.createElement(ut,{text:"Save",size:"small",onClick:function(e){if(!s){u(!0);var a=Object(x.a)(N,2),n=a[0],r=a[1],o=Object(x.a)(h,2),l=o[0],i=o[1];c(Z({date_from:n,date_to:r,pickup_location:l.office.id,return_location:i.office.id},(function(){u(!1),t()}),(function(){u(!1)})))}},loading:s})))},it=function(e){var a=e.reservation,t=e.changeLocation,c=me(["(max-width: 575px)"],["xs"],"l"),o=a.location_from,l=a.location_to,i=a.date_from,s=a.date_to,u=a.status.toLowerCase(),m="cancel"!==u&&"reject"!==u&&"done"!==u,d=function(e){var a=e.location_from,t=e.location_to,r=Object(n.useState)(!1),c=Object(x.a)(r,2),o=c[0],l=c[1],i=o?t:a,s=i.lat,u=i.lng;return{mapCenter:s&&u?{lat:s,lng:u}:void 0,showPickupLocation:function(){l(!1)},showReturnLocation:function(){l(!0)}}}(a),_=d.mapCenter,v=d.showPickupLocation,p=d.showReturnLocation,f=function(e){t()},b=function(){return r.a.createElement("div",{className:"card__actions ".concat(ct.a.actions)},r.a.createElement(ut,{text:"Change",size:"small",onClick:f}),r.a.createElement(Ne,null))};return r.a.createElement("div",{className:"column__row jc-fs ai-fs column__body"},r.a.createElement("div",{className:ct.a["dl-cotainer"]},r.a.createElement("div",{className:ct.a["dl-item"]},r.a.createElement("div",{className:"label"},"Pick Up"),r.a.createElement(aa,{date:i,location:"custom"===o.type?o.address:o.office.title,onLocationClick:v})),r.a.createElement("div",{className:ct.a["dl-item"]},r.a.createElement("div",{className:"label"},"Return"),r.a.createElement(aa,{date:s,location:"custom"===l.type?l.address:l.office.title,onLocationClick:p})),m&&"l"===c&&b()),r.a.createElement("div",{className:"column column--last"},m&&r.a.createElement(za,{date:i}),r.a.createElement("div",{className:Ie()(ct.a["map-place"],Object(se.a)({},ct.a["map-place--mt"],m))},r.a.createElement(Sa,{center:_,marker:!0}))),m&&"xs"===c&&b())},st=function(){var e=E((function(e){return e.reservations.reservation})),a=me(["(max-width: 767px)"],["s"],"l"),t=ie(),n=t.open,c=t.openCard,o=t.closeCard,l=e.unique_number,i=e.status,s=e.type,u=e.vehicle,m=e.mileage_limit,d=function(){return r.a.createElement("div",{className:"".concat(ct.a["reserve-info"]," mob-full")},r.a.createElement("div",{className:"label"},"Reservation:"),r.a.createElement("div",{className:ct.a["reserve-num"]},l))};return r.a.createElement("div",{className:"card ".concat(ct.a.vc)},"s"===a&&d(),r.a.createElement(ot,{vehicle:u,mileage_limit:m}),r.a.createElement("div",{className:"column column--2"},r.a.createElement("div",{className:"column__row jc-fs ai-fs column__head"},"l"===a&&d(),r.a.createElement("div",{className:ct.a["reserve-info"]},r.a.createElement("div",{className:"label"},"Retal type:"),r.a.createElement("div",{className:ct.a["reserve-type"]},be(s))),r.a.createElement("div",{className:Ie()(ct.a["reserve-info"],Object(se.a)({},ct.a["reserve-info--status"],"l"===a))},r.a.createElement("div",{className:"label"},"Status:"),r.a.createElement("div",{className:ct.a["reserve-status"]},be(i)))),n?r.a.createElement(lt,{reservation:e,onSave:o}):r.a.createElement(it,{reservation:e,changeLocation:c})))},ut=function(e){var a,t=e.className,n=void 0===t?"":t,c=e.text,o=e.color,l=void 0===o?"":o,i=e.size,s=e.onClick,u=e.disabled,m=void 0!==u&&u,d=e.type,_=void 0===d?"button":d,v=e.loading,p=void 0!==v&&v;return r.a.createElement("button",{className:Ie()(pa.a.button,(a={},Object(se.a)(a,pa.a.small,"small"===i),Object(se.a)(a,pa.a[l],!!l),Object(se.a)(a,n,!!n),a)),type:_,onClick:s,disabled:m},c,p&&r.a.createElement(Me.a,{className:pa.a.button__loader}))},mt=t(99),dt=t.n(mt),_t=function(e){var a=e.check,t=e.className,n=e.disabled,c=void 0!==n&&n,o=e.labelClassName,l=e.labelContent,i=e.name,s=e.onCheck;return r.a.createElement("div",{className:"".concat(dt.a.container).concat(t?" ".concat(t):"")},r.a.createElement("input",{className:dt.a.checkbox,type:"checkbox",name:i,id:i,disabled:c,checked:a,onChange:s}),r.a.createElement("label",{htmlFor:i,className:"".concat(dt.a.label).concat(o?" ".concat(o):"")},l))},vt=t(21),pt=t(124),ft=t(123),bt=t.n(ft),ht=function(e){var a=e.className,t=void 0===a?"":a,n=e.id,c=e.isSearchable,o=void 0!==c&&c,l=e.name,i=e.onChange,s=e.options,u=e.placeholder,m=void 0===u?"":u,d=e.value,_=e.withIcon,v=void 0!==_&&_,p=e.onFocus,f=function(e){return r.a.createElement(vt.f.SingleValue,e,r.a.createElement("img",{src:e.data.icon,alt:""}),r.a.createElement("span",null,e.data.label))},b=function(e){return r.a.createElement(vt.f.Option,e,r.a.createElement("img",{src:e.data.icon,alt:""}),r.a.createElement("span",null,e.data.label))},h=function(e){i(e,l)};return r.a.createElement(r.a.Fragment,null,p?r.a.createElement(pt.a,{className:"".concat(bt.a.select," ").concat(t),classNamePrefix:"rs",isSearchable:o,onChange:h,components:v?{SingleValue:f,Option:b}:void 0,options:s,placeholder:m,value:d,inputProps:{id:n},onFocus:p}):r.a.createElement(pt.a,{className:"".concat(bt.a.select," ").concat(t),classNamePrefix:"rs",isSearchable:o,onChange:h,components:v?{SingleValue:f,Option:b}:void 0,options:s,placeholder:m,value:d,inputProps:{id:n}}))},gt=t(55),Et=t.n(gt);C.a.setAppElement("#rentsyst_personal");var yt=function(e){var a=e.question,t=e.text,n=e.onConfirm,c=e.children,o=e.modalOpen,l=e.toggleModal,i=function(){l(!1)};return r.a.createElement("div",{className:Et.a.modal},c,r.a.createElement(C.a,{className:"rs-modal rs-modal--md ".concat(Et.a.modal__content),isOpen:o,contentLabel:"Confirmation Modal",onRequestClose:i,style:{overlay:{backgroundColor:"rgba(0, 0, 0, .5)"}}},r.a.createElement("div",{className:"rs-modal__body"},r.a.createElement("p",{className:Et.a["modal__icon-wrapper"]},r.a.createElement("span",{className:Et.a.modal__icon},"?")),r.a.createElement("p",{className:Et.a.modal__title},a),t&&r.a.createElement("p",null,t),r.a.createElement("div",{className:Et.a.modal__controls},r.a.createElement(ut,{text:"No",color:"red",onClick:i,className:Et.a.modal__btn}),r.a.createElement(ut,{text:"Yes",color:"green",onClick:n,className:Et.a.modal__btn})))))},Nt=function(e){var a=e.url,t=e.alt,c=Object(n.useState)(!1),o=Object(x.a)(c,2),l=o[0],i=o[1];return r.a.createElement(r.a.Fragment,null,!l&&r.a.createElement("img",{src:"/img/img-place.svg",alt:t,style:{objectFit:"unset"}}),r.a.createElement("img",{src:a,alt:t,onLoad:function(){i(!0)},style:l?void 0:{display:"none"}}))},Ot=t(81),jt=t.n(Ot);C.a.setAppElement("#rentsyst_personal");var wt=function(e){var a=e.imageURL,t=e.modalOpen,n=e.toggleModal,c=e.children,o=function(){n(!1)};return r.a.createElement("div",{className:jt.a.modal},c,r.a.createElement(C.a,{className:"rs-modal rs-modal--lg ".concat(jt.a.modal__content),isOpen:t,contentLabel:"Images Modal",onRequestClose:o,style:{overlay:{backgroundColor:"rgba(30, 30, 30, .9)"}}},r.a.createElement("button",{className:"rs-modal__close ".concat(jt.a.modal__close),onClick:o},r.a.createElement("span",null,"\xd7")),r.a.createElement("img",{className:jt.a.modal__image,src:a,alt:"Pic"})))},xt=function(){return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"column"}),r.a.createElement("div",{className:"column column--2"},r.a.createElement("div",{className:"column__row jc-fe ai-fs ".concat(ct.a.btns)},r.a.createElement(Me.a,{width:120,height:37}),r.a.createElement(Me.a,{width:120,height:37,style:{marginLeft:"15px"}}))))},kt=function(){return r.a.createElement("div",{className:"card ".concat(we.a.bc)},r.a.createElement("div",{className:"column column--title"},r.a.createElement("div",{className:"card__title"},"Billing information"),r.a.createElement(Me.a,{width:70,height:14,style:{display:"block",marginTop:"15px"}}),r.a.createElement(Me.a,{width:70,height:14,style:{display:"block",marginTop:"14px",marginBottom:"20px"}}),r.a.createElement("div",{className:we.a.sign__place},r.a.createElement(Me.a,{width:"100%",height:"100%"}))),r.a.createElement("div",{className:"column"},r.a.createElement(Me.a,{width:90,height:12,style:{display:"block",marginBottom:"7px"}}),r.a.createElement(Me.a,{width:183,height:38}),r.a.createElement(Me.a,{width:110,height:17,style:{display:"block",marginTop:"10px"}})),r.a.createElement("div",{className:"column column--last ".concat(we.a.prices)},r.a.createElement("div",{className:"column__row jc-sb ai-b"},r.a.createElement(Me.a,{width:30,height:12}),r.a.createElement(Me.a,{width:100,height:18})),r.a.createElement("div",{className:"column__row jc-sb ai-b ".concat(we.a["total-row"]),style:{justifyContent:"space-between"}},r.a.createElement(Me.a,{width:100,height:18}),r.a.createElement(Me.a,{width:100,height:20}))))},Ct=function(){return r.a.createElement("div",{className:ra.a.driver},r.a.createElement("div",{className:ra.a.driver__name}),r.a.createElement(Me.a,{width:180,height:14}),r.a.createElement("div",{className:ra.a.driver__docs},r.a.createElement(Me.a,{width:85,height:30,count:2,style:{marginRight:"15px",marginTop:"10px"}})))},St=function(){return r.a.createElement("div",{className:"card ".concat(ua.a.card)},r.a.createElement("div",{className:"column column--title"},r.a.createElement("div",{className:"column__row ai-c"},r.a.createElement("span",{className:"card__title"},"Extras"))),r.a.createElement("div",{className:"column column--2"},r.a.createElement(Me.a,{width:65,height:12,style:{display:"block",marginBottom:"7px"}}),r.a.createElement("div",null,r.a.createElement("div",{className:ua.a.item},r.a.createElement("div",{className:ua.a.data},r.a.createElement(Me.a,{width:170,height:18,style:{display:"block"}})),r.a.createElement(Me.a,{width:70,height:18}))),r.a.createElement(Me.a,{width:65,height:12,style:{display:"block",marginBottom:"7px",marginTop:"20px"}}),r.a.createElement("div",null,r.a.createElement("div",{className:ua.a.item},r.a.createElement("div",{className:ua.a.data},r.a.createElement(Me.a,{width:170,height:18,style:{display:"block"}})),r.a.createElement(Me.a,{width:70,height:18})))))},Dt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Me.a,{width:125,height:12,className:"label-title",style:{display:"block"}}),r.a.createElement(Me.a,{width:60,height:18}))},Rt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Tt,null),r.a.createElement(Tt,null))},Tt=function(){return r.a.createElement("div",{className:Qa.a.reservation},r.a.createElement("div",{className:Qa.a.reservation__header},r.a.createElement(Me.a,{width:160,height:14,style:{marginBottom:5,marginRight:15}}),r.a.createElement(Me.a,{width:285,height:14,style:{marginBottom:5}})),r.a.createElement("div",{className:Qa.a.reservation__body},r.a.createElement("div",{className:Qa.a.side},r.a.createElement("div",{className:Qa.a.vehicle},r.a.createElement("div",{className:Qa.a.vehicle__info,style:{width:150}},r.a.createElement("div",{className:Qa.a.vehicle__img},r.a.createElement("img",{src:"/img/img-place.svg",alt:"",style:{objectFit:"unset"}})),r.a.createElement(Me.a,{width:130,height:13,style:{marginTop:10}}),r.a.createElement(Me.a,{width:150,height:23,style:{marginTop:5}}),r.a.createElement(Me.a,{width:50,height:11,style:{marginTop:2}})),r.a.createElement("div",{className:Qa.a.vehicle__info,style:{width:110}},r.a.createElement(Me.a,{width:90,height:12}),r.a.createElement(Me.a,{width:90,height:12,count:3,style:{marginTop:10,marginRight:20}})))),r.a.createElement("div",{className:Qa.a.side},r.a.createElement("div",{className:Qa.a.details},r.a.createElement("div",{className:"".concat(Qa.a.details__column," ").concat(Qa.a["details__column--mob"])},r.a.createElement("div",{className:Qa.a["mob-flex"]},r.a.createElement(Me.a,{width:120,height:14,style:{marginBottom:10}}),r.a.createElement("div",{className:ea.a.container},r.a.createElement(Me.a,{width:33,height:38,style:{marginRight:7}}),r.a.createElement("div",null,r.a.createElement(Me.a,{width:80,height:12,style:{display:"block"}}),r.a.createElement(Me.a,{width:80,height:12,style:{display:"block",marginTop:5}})))),r.a.createElement("div",{className:Qa.a["mob-flex"]},r.a.createElement(Me.a,{width:120,height:14,style:{marginBottom:10}}),r.a.createElement("div",{className:ea.a.container},r.a.createElement(Me.a,{width:33,height:38,style:{marginRight:7}}),r.a.createElement("div",null,r.a.createElement(Me.a,{width:80,height:12,style:{display:"block"}}),r.a.createElement(Me.a,{width:80,height:12,style:{display:"block",marginTop:5}}))))),r.a.createElement("div",{className:Qa.a.details__column},r.a.createElement(Me.a,{width:180,height:14}),r.a.createElement("div",null,r.a.createElement(Me.a,{width:50,height:14,style:{marginTop:15,marginBottom:5}})),r.a.createElement(Me.a,{width:180,height:14}),r.a.createElement("div",{className:Qa.a.details__group},r.a.createElement("div",{className:Qa.a["details__group-item"],style:{width:80}},r.a.createElement(Me.a,{width:80,height:14,style:{marginBottom:5}}),r.a.createElement(Me.a,{width:70,height:18}))))))),r.a.createElement("div",{className:Qa.a.reservation__footer},r.a.createElement("div",{className:Qa.a["reservation__bottom-info"]},r.a.createElement(Me.a,{width:200,height:14,style:{display:"block",marginTop:10,marginRight:15}}),r.a.createElement(Me.a,{width:270,height:14,style:{display:"block",marginTop:10,marginRight:15}})),r.a.createElement("div",{className:Qa.a.reservation__btns},r.a.createElement(Me.a,{width:130,height:37}),r.a.createElement(Me.a,{width:130,height:37}))))},It=function(){return r.a.createElement("div",{className:"card ai-end"},r.a.createElement("div",{className:"column column--last ".concat($a.a.column)},r.a.createElement("div",{className:"column__row jc-sb ai-c ".concat($a.a.row)},r.a.createElement(Me.a,{width:35,height:18}),r.a.createElement(Me.a,{width:60,height:18})),r.a.createElement("div",{className:"column__row jc-sb ai-c ".concat($a.a.row)},r.a.createElement(Me.a,{width:60,height:18}),r.a.createElement(Me.a,{width:90,height:18}))))},Lt=function(){var e=me(["(max-width: 575px)","(max-width: 767px)"],["xs","s"],"l"),a=function(){return r.a.createElement("div",{className:"".concat(ct.a["reserve-info"]," mob-full")},r.a.createElement("div",{className:"label",style:{verticalAlign:"bottom",marginRight:"10px"}},r.a.createElement(Me.a,{width:70,height:13})),r.a.createElement(Me.a,{width:80,height:24}))},t=function(){return r.a.createElement("div",{className:"card__actions ".concat(ct.a.actions)},r.a.createElement(Me.a,{width:72,height:20}),r.a.createElement(Me.a,{width:72,height:20}))};return r.a.createElement("div",{className:"card ".concat(ct.a.vc)},"l"!==e&&a(),r.a.createElement("div",{className:"column ".concat(ct.a.vehicle)},r.a.createElement("div",{className:ct.a.vehicle__info},r.a.createElement("div",{className:ct.a.vehicle__img},r.a.createElement("img",{src:"/img/img-place.svg",alt:"",style:{objectFit:"unset"}})),r.a.createElement("div",{className:ct.a.vehicle__group},r.a.createElement(Me.a,{width:180,height:14})),r.a.createElement("span",{className:ct.a.vehicle__title},r.a.createElement(Me.a,{width:180,height:46}))),r.a.createElement("div",{className:ct.a.vehicle__info},r.a.createElement(Me.a,{width:180,height:12,style:{display:"block",marginTop:5}}),r.a.createElement(Me.a,{width:100,height:12,count:2,style:{display:"block",marginTop:10}}))),r.a.createElement("div",{className:"column column--2"},r.a.createElement("div",{className:"column__row jc-fs ai-fs column__head"},"l"===e&&a(),r.a.createElement("div",{className:ct.a["reserve-info"]},r.a.createElement("div",{className:"label"},r.a.createElement(Me.a,{width:70,height:13})),r.a.createElement(Me.a,{width:100,height:24})),r.a.createElement("div",{className:Ie()(ct.a["reserve-info"],Object(se.a)({},ct.a["reserve-info--status"],"l"===e))},r.a.createElement("div",{className:"label"},r.a.createElement(Me.a,{width:70,height:13})),r.a.createElement(Me.a,{width:100,height:24}))),r.a.createElement("div",{className:"column__row jc-fs ai-fs column__body"},r.a.createElement("div",{className:ct.a["dl-cotainer"]},r.a.createElement("div",{className:ct.a["dl-item"]},r.a.createElement(Me.a,{width:120,height:13,style:{marginBottom:10}}),r.a.createElement("div",{className:ea.a.container},r.a.createElement(Me.a,{width:33,height:38,style:{marginRight:7}}),r.a.createElement("div",null,r.a.createElement(Me.a,{width:80,height:11,style:{display:"block"}}),r.a.createElement(Me.a,{width:80,height:12,style:{display:"block",marginTop:5}})))),r.a.createElement("div",{className:ct.a["dl-item"]},r.a.createElement(Me.a,{width:120,height:13,style:{marginBottom:10}}),r.a.createElement("div",{className:ea.a.container},r.a.createElement(Me.a,{width:33,height:38,style:{marginRight:7}}),r.a.createElement("div",null,r.a.createElement(Me.a,{width:80,height:11,style:{display:"block"}}),r.a.createElement(Me.a,{width:80,height:12,style:{display:"block",marginTop:5}})))),"xs"!==e&&t()),r.a.createElement("div",{className:"column column--last"},r.a.createElement(Me.a,{width:180,height:13,style:{marginBottom:10}}),r.a.createElement(Me.a,{width:180,height:18}),r.a.createElement(Me.a,{width:220,height:124,style:{marginTop:15}})),"xs"===e&&t())))},At=t(44),Ft=t.n(At),Pt=function(){var e=ue({email:""}),a=e.hasError,t=e.loading,n=e.onSubmitForm,c=e.onValueChange,o=e.values;return r.a.createElement("form",{className:Ft.a.form,onSubmit:n},r.a.createElement("div",{className:Ie()(Ft.a.input__wrap,Object(se.a)({},Ft.a.error,a))},r.a.createElement("input",{className:Ft.a.input,type:"email",name:"email",value:o.email,onChange:c,placeholder:"email"})),r.a.createElement("div",{className:Ft.a.form__buttons},r.a.createElement(ut,{type:"submit",text:"Sign in",color:"green",loading:t})))},Mt=function(){var e,a=E((function(e){return e.auth}),l.c),t=a.mailIsSended,n=a.message;return r.a.createElement("div",{className:Ft.a.wrapper},n&&r.a.createElement("p",{className:Ie()(Ft.a.info,(e={},Object(se.a)(e,Ft.a["is-success"],t),Object(se.a)(e,Ft.a["is-error"],!t),e))},n),r.a.createElement("div",{className:Ft.a.inner},r.a.createElement("h1",{className:Ft.a.title},"Sign in"),r.a.createElement(Pt,null)))},Ut=t(82),Bt=t.n(Ut),qt=function(e){var a=e.error,t=e.value,n=e.label,c=e.id,o=e.name,l=e.renderInput,i=e.mask,s=e.type,m=void 0===s?"text":s,d=e.required,_=void 0!==d&&d,v=e.placeholder,p=void 0===v?"":v,f=e.containerProps,b=void 0===f?{}:f,h=e.inputProps,g=void 0===h?{}:h,E=e.onChange,y=void 0===E?function(){}:E,N=e.onFocus,O=void 0===N?function(){}:N,j=e.onBlur,w=void 0===j?function(){}:j,x=(new Date).getTime(),k=Object(u.a)({className:Ie()(Bt.a.input,Object(se.a)({},Bt.a.input__error,!!a)),type:m,id:c+x,name:o,required:_,value:t,placeholder:p,onChange:y,onFocus:O,onBlur:w},g);return r.a.createElement("div",b,r.a.createElement("label",{className:Bt.a.label,htmlFor:c+x},n),l?l(c+x,o):i?r.a.createElement(De.a,Object.assign({},k,{mask:i})):r.a.createElement("input",k),a&&r.a.createElement("span",{className:Bt.a.error},a))},Vt=t(179),zt=function(e){var a,t=e.className,n=void 0===t?"":t,c=e.color,o=void 0===c?"":c,l=e.size,i=e.disabled,s=void 0!==i&&i,u=e.href,m=e.text,d=Object(Vt.a)(e,["className","color","size","disabled","href","text"]);return r.a.createElement("a",Object.assign({href:u,className:Ie()(pa.a.button,(a={},Object(se.a)(a,pa.a.small,"small"===l),Object(se.a)(a,pa.a[o],!!o),Object(se.a)(a,pa.a["is-disabled"],s),Object(se.a)(a,n,!!n),a))},d),m)},Gt=function(){var e=Object(N.h)().search,a=E((function(e){return e.reservations})),t=a.filters,c=a.data,o=a.loading,i=Object(l.d)(),s=c.reservations,u=c.pagination;return Object(n.useEffect)((function(){var a;i((a=e,function(){var e=Object(R.a)(D.a.mark((function e(t){var n,r,c,o;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(l.b)((function(){t(Y(!0)),t({type:"UPDATE_FILTERS",payload:H.a.parse(a)})})),e.prev=1,e.next=4,B.getReservations(a);case 4:(n=e.sent).data.status&&(r=n.data.data,c=r.items,o=r.pagination,Object(l.b)((function(){t({type:"SET_RESERVATIONS",payload:{reservations:c,pagination:o}}),t(Y(!1))})),z.a.rebuild()),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Get reservations list server error"),t(Y(!1));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}())),window.scroll(0,0)}),[e,i]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"page-content"},r.a.createElement(Ea,{total:u.total_count,filters:t}),r.a.createElement(Ja,{loading:o,reservations:s}),r.a.createElement(Ma,u)))},Ht=t(94),Yt=t.n(Ht),Wt=function(){var e=Object(N.i)().id,a=_e(e).reservation;Object(n.useEffect)((function(){window.scroll(0,0)}),[]);var t=a&&a.id===+e,c=a&&a.type.toLowerCase(),o=a&&a.status.toLowerCase(),l="reject"===o||"cancel"===o;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"page-content"},r.a.createElement("div",{className:Ie()(Yt.a.reservation,{"is-rejected":l,"is-keyless":"keyless"===c,"is-standard":"standard"===c})},t?r.a.createElement(st,null):r.a.createElement(Lt,null),r.a.createElement(ia,null),t&&a.extras_data?r.a.createElement(r.a.Fragment,null,r.a.createElement(_a,null),r.a.createElement(et,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(St,null),r.a.createElement(It,null)),t&&a.payment_methods?r.a.createElement(Ve,null):r.a.createElement(kt,null),t?r.a.createElement(r.a.Fragment,null,l&&r.a.createElement(Oe,null),r.a.createElement(w,null)):r.a.createElement(xt,null),r.a.createElement(z.a,null))))},Qt=t(174),Zt=t.n(Qt),Jt=t(15),Kt=t.n(Jt),Xt=function(){var e=E((function(e){return e.driver.data}),l.c).avatar,a=de(),t=Object(x.a)(a,2),n=t[0],c=t[1];return r.a.createElement(r.a.Fragment,null,null!==e&&r.a.createElement(wt,{modalOpen:n,toggleModal:c,imageURL:e.imageURL},r.a.createElement("img",{src:e.imageURL,className:Kt.a.avatar__preview,onClick:function(e){c(!0)},alt:"Avatar"})))},$t=t(175);t(324);C.a.setAppElement("#rentsyst_personal");var en=function(e){var a=e.setIsUpdatedAvatar,t=e.isUpdatedAvatar,c=e.onAvatarChange,o=Object(n.useState)({id:"",imageURL:""}),i=Object(x.a)(o,2),s=i[0],u=i[1],m=Object(n.useState)(),d=Object(x.a)(m,2),_=d[0],v=d[1],p=de(),f=Object(x.a)(p,2),b=f[0],h=f[1],g=Object(l.d)(),E=Object(n.useRef)(null),y=function(e){E.current&&(E.current.inputElement?(E.current.inputElement.value="",E.current.value=""):E.current.value=""),h(!1),_.destroy(),v(null)};return r.a.createElement("div",{className:Kt.a.modal},r.a.createElement("label",{htmlFor:"avatar_input",className:"".concat(Kt.a.avatar__btn," ").concat(Kt.a["avatar__btn-edit"]," ai-c jc-c")},r.a.createElement("i",{className:"fico fico-edit"}),r.a.createElement("input",{id:"avatar_input",className:Kt.a.avatar__file,type:"file",accept:"image/*",name:"avatar",onChange:function(e){e.preventDefault();var a=e.target.files;if(a){var t=a[0];if(t.type.startsWith("image/")&&t.size<5e6){var n=new FileReader;n.readAsDataURL(t),n.onload=function(){u({id:"",imageURL:n.result}),h(!0)}}}},ref:E,multiple:!1})),t&&s.id.length>0&&r.a.createElement("input",{type:"hidden",name:"avatarId",value:s.id}),r.a.createElement(C.a,{className:"rs-modal rs-modal--md ".concat(Kt.a.modal__content),isOpen:b,contentLabel:"Crop Modal",style:{overlay:{backgroundColor:"rgba(0, 0, 0, .5)"}}},r.a.createElement("div",{className:"rs-modal__header"},r.a.createElement("span",{className:"rs-modal__title"},"Edit image"),r.a.createElement("button",{className:"rs-modal__close",onClick:y},r.a.createElement("span",null,"\xd7"))),r.a.createElement("div",{className:"rs-modal__body"},s.imageURL.length>0&&r.a.createElement($t.a,{style:{maxWidth:"100%"},initialAspectRatio:1,preview:".img-preview",src:s.imageURL,viewMode:1,guides:!0,minCropBoxHeight:10,minCropBoxWidth:10,background:!1,responsive:!0,autoCropArea:1,checkOrientation:!1,onInitialized:function(e){v(e)}})),r.a.createElement("div",{className:"rs-modal__footer rs-modal__controls"},r.a.createElement(ut,{text:"Save changes",color:"blue",onClick:function(e){if("undefined"!==typeof _){var t=_.getCroppedCanvas({fillColor:"#fff"}).toDataURL("image/jpeg");g((n=fe(t),r=function(e){e&&(u(e),c(e)),a(!0)},function(){var e=Object(R.a)(D.a.mark((function e(a,t){var c,i,s,u;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t().driver,i=c.data,!c.loading&&i){e.next=3;break}return e.abrupt("return");case 3:return a(ae(!0)),e.prev=4,e.next=7,B.postAvatar(n);case 7:(s=e.sent).data.status&&(u=s.data.data,Object(l.b)((function(){a(ne(u)),a(ae(!1))})),r(u)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),a(ae(!1)),o&&o(e.t0.response.data);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(a,t){return e.apply(this,arguments)}}())),E.current&&(E.current.inputElement?(E.current.inputElement.value="",E.current.value=""):E.current.value=""),h(!1),_.destroy(),v(null)}var n,r,o}}),r.a.createElement(ut,{text:"Close",color:"black",onClick:y}))))},an=function(e){var a=e.onAvatarChange,t=Object(n.useState)(!1),c=Object(x.a)(t,2),o=c[0],i=c[1],s=E((function(e){return e.driver.data}),l.c).avatar,u=de(),m=Object(x.a)(u,2),d=m[0],_=m[1],v=Object(l.d)(),p=function(e,t){v(function(e,a,t){return function(){var n=Object(R.a)(D.a.mark((function n(r,c){var o,i;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=c().driver,i=o.data,!o.loading&&i){n.next=3;break}return n.abrupt("return");case 3:return r(ae(!0)),n.prev=4,n.next=7,B.deleteAvatar(e);case 7:n.sent.status&&(Object(l.b)((function(){r(ne(null)),r(ae(!1))})),a()),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(4),r(ae(!1)),t&&t(n.t0.response.data);case 15:case"end":return n.stop()}}),n,null,[[4,11]])})));return function(e,a){return n.apply(this,arguments)}}()}(t,(function(){i(!1),a(null)}))),_(!1)};return r.a.createElement("div",{className:Kt.a.avatar},null!==s&&r.a.createElement(Xt,null),r.a.createElement(en,{setIsUpdatedAvatar:i,isUpdatedAvatar:o,onAvatarChange:a}),null!==s&&r.a.createElement(yt,{modalOpen:d,question:"Are you sure?",toggleModal:_,text:"Press yes if you want to remove photo",onConfirm:function(e){return p(0,s.id)}},r.a.createElement("p",{className:"".concat(Kt.a.avatar__btn," ").concat(Kt.a["avatar__btn-remove"]," ai-c jc-c"),onClick:function(e){_(!0)}},r.a.createElement("i",{className:"fico fico-remove"}))))},tn=t(330),nn=function(e){return Object(tn.a)(e,"yyyy-MM-dd")},rn=function(e){var a=e.driverData,t=e.errors,n=e.countries,c=e.onInputFocus,o=e.onFieldChange,l=e.onCountryChange,i=e.onAvatarChange,s=function(e){var n;return{id:e,name:e,value:a[e],onChange:function(a){return o(e,a.target.value)},onFocus:function(){return c(e)},error:null===(n=t[e])||void 0===n?void 0:n.join("\n"),containerProps:{className:Kt.a["account__form-group"]}}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Kt.a["account__personal-data-wrapper"]},r.a.createElement(an,{onAvatarChange:i}),r.a.createElement("div",null,r.a.createElement("div",{className:Kt.a["account__form-row"]},r.a.createElement(qt,Object.assign({label:"Name",required:!0},s("first_name"))),r.a.createElement(qt,Object.assign({label:"Last name",required:!0},s("last_name"))),r.a.createElement(qt,{id:"birthday",name:"birthday",label:"Birthday",containerProps:{className:Kt.a["account__form-group"]},renderInput:function(e){return r.a.createElement(Ge.a,{onChange:function(e){if(e){var a=nn(e);o("birthday",a)}},selected:ge(a.birthday||""),filterDate:function(e){var a=e;a.setHours(0,0,0,0);var t=A;return t.setHours(0,0,0,0),a<=t},customInput:r.a.createElement(Ke,{value:"",onClick:function(){}}),required:!0,dateFormat:"MMM | dd | yyyy",locale:"en-GB",showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",popperPlacement:"top",id:e,onInputClick:function(){return c(e)}})}})),r.a.createElement("div",{className:Kt.a["account__form-row"]},r.a.createElement(qt,Object.assign({label:"Email",required:!0,mask:Zt.a},s("email"))),r.a.createElement(qt,Object.assign({label:"Phone",required:!0,type:"tel"},s("phone")))))),r.a.createElement("div",{className:"".concat(Kt.a["account__form-row"]," ai-c")},r.a.createElement(qt,{id:"country",name:"country",label:"Country",containerProps:{className:Kt.a["account__form-group"]},renderInput:function(e,t){var o,i;return r.a.createElement(ht,{name:t,onChange:function(e){l(e)},options:n.map((function(e){return{value:e.id,label:e.name}})),placeholder:"Country",value:{value:(null===(o=a.country)||void 0===o?void 0:o.id)||null,label:(null===(i=a.country)||void 0===i?void 0:i.name)||""},id:e,onFocus:function(){return c("country")}})}}),r.a.createElement(qt,Object.assign({label:"Zip"},s("zip"))),r.a.createElement(qt,Object.assign({label:"State"},s("state"))),r.a.createElement(qt,Object.assign({label:"City"},s("city"))),r.a.createElement(qt,Object.assign({label:"Street"},s("street"))),r.a.createElement(qt,Object.assign({label:"Building"},s("building"),{containerProps:{className:Ie()(Kt.a["account__form-group"],Kt.a["account__form-group-s"])}}))))},cn=[{value:"Driver license",label:"Driver license"},{value:"Passport",label:"Passport"},{value:"Card ID",label:"Card ID"},{value:"Tax Identification Number",label:"Tax Identification Number"}],on=function(e){var a,t,c,o=e.initialData,i=e.savePressed,s=Object(n.useRef)(null),m=Object(n.useState)(null),d=Object(x.a)(m,2),v=d[0],p=d[1],f=Object(n.useState)(!1),b=Object(x.a)(f,2),h=b[0],y=b[1],N=Object(n.useState)(null),O=Object(x.a)(N,2),j=O[0],w=O[1],k=function(e){var a=e.photosInputRef,t=e.initialData,r=E((function(e){return e.driver}),l.c).data,c=Object(n.useState)(),o=Object(x.a)(c,2),i=o[0],s=o[1],m=Object(n.useState)({}),d=Object(x.a)(m,2),v=d[0],p=d[1],f=Object(n.useState)(t||{expDate:null,issueDate:null,num:"",type:"",notes:""}),b=Object(x.a)(f,2),h=b[0],y=b[1],N=Object(n.useState)(null),O=Object(x.a)(N,2),j=O[0],w=O[1],k=Object(n.useState)(!0),C=Object(x.a)(k,2),S=C[0],T=C[1],I=Object(n.useState)([]),L=Object(x.a)(I,2),A=L[0],F=L[1],P=Object(l.d)();Object(n.useEffect)((function(){var e;t&&(y(t),(null===(e=t.photos)||void 0===e?void 0:e.length)&&F(t.photos))}),[t]),Object(n.useEffect)((function(){t&&!S&&z(t.id,{photos:[]})}),[h.issueDate,h.expDate]),Object(n.useEffect)((function(){i&&y(Object(u.a)(Object(u.a)({},h),{},{type:i.value}))}),[i]);var M=function(e,a){y(Object(u.a)(Object(u.a)({},h),{},Object(se.a)({},e,a)))},U=function(e){return e.type.startsWith("image/")&&e.size<5e6},q=function(){var e=Object(R.a)(D.a.mark((function e(a){var n,r,c,o,l,i,s;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=a.target.files)){e.next=14;break}for(r=[],c=0;c<n.length;c++)o=n[c],U(o)&&function(){var e=new FileReader;e.readAsDataURL(o);var a=new Promise((function(a,t){e.onload=function(){var e=Object(R.a)(D.a.mark((function e(t){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(null===(n=t.target)||void 0===n?void 0:n.result);case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()}));r.push(a)}();return e.next=6,Promise.all(r);case 6:return l=e.sent,i=l.map(function(){var e=Object(R.a)(D.a.mark((function e(a){var t,n,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.postDocumentFile(fe(a));case 3:return t=e.sent,n=t.data,r=n.data,e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}()),e.next=10,Promise.all(i);case 10:s=e.sent,F((function(e){return[].concat(Object(_.a)(e),Object(_.a)(s))})),g.b.success("New files attached"),t&&z(t.id,{photos:s.map((function(e){return e.id}))});case 14:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),V=function(){var e=Object(R.a)(D.a.mark((function e(){var a,t,n,c,o,l,i,m;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=A.map((function(e){return e.id})),e.next=4,B.postSendDocument(Object(u.a)(Object(u.a)({},h),{},{photos:a}));case 4:t=e.sent,n=t.data,c=n.data,o=Object(u.a)(Object(u.a)({},r),{},{documents:[].concat(Object(_.a)(r.documents),[c])}),P(te(o)),y({expDate:null,issueDate:null,num:"",type:"",notes:""}),s(null),F([]),g.b.success("New document successfully added"),e.next=20;break;case 13:throw e.prev=13,e.t0=e.catch(0),l=e.t0.response,i=l.data,m=i.data,p(m),new Error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(R.a)(D.a.mark((function e(a,t){var n,r,c,o;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=A.map((function(e){return e.id})),e.next=4,B.updateDocument(a,Object(u.a)(Object(u.a)({},h),{},{photos:n},t));case 4:g.b.success("Document successfully updated"),e.next=14;break;case 7:throw e.prev=7,e.t0=e.catch(0),r=e.t0.response,c=r.data,o=c.data,p(o),new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a,t){return e.apply(this,arguments)}}(),G=function(){var e=Object(R.a)(D.a.mark((function e(a){var t,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.deleteDocument(a);case 3:t=r.documents.filter((function(e){return e.id!==a})),n=Object(u.a)(Object(u.a)({},r),{},{documents:t}),P(te(n)),g.b.success("Document removed"),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}(),H=function(){var e=Object(R.a)(D.a.mark((function e(a,t){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=7;break}return e.next=4,B.deleteDocumentPhoto(a.id,t);case 4:n=A.filter((function(e){return e.id!==a.id})),F(n),g.b.success("Document photo removed");case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a,t){return e.apply(this,arguments)}}();return{type:i,data:h,errors:v,uploadImages:A,setType:s,onDateChange:function(e,a){var t=nn(a);T(!1),M(e,t)},onInputFocus:function(e){t&&(T(!0),w(h[e])),p((function(a){return Object(u.a)(Object(u.a)({},a),{},Object(se.a)({},e,null))}))},onFieldBlur:function(e){if(t){var a=h[e];T(!1),a!==j&&z(t.id,{photos:[]})}},onFieldChange:M,onUploadPhotoClick:function(e){var t;null===(t=a.current)||void 0===t||t.click()},onAddDocument:V,onDocumentFileInputChange:q,onDocumentRemove:G,onDocumentPhotoRemove:H}}({photosInputRef:s,initialData:o}),C=k.type,S=k.data,T=k.errors,I=k.uploadImages,L=k.setType,A=k.onDateChange,F=k.onInputFocus,P=k.onFieldBlur,M=k.onFieldChange,U=k.onUploadPhotoClick,q=k.onAddDocument,V=k.onDocumentFileInputChange,z=k.onDocumentRemove,G=k.onDocumentPhotoRemove;Object(n.useEffect)((function(){i&&C&&q()}),[i,C]);var H=function(e){var a;return{id:e,name:e,onChange:function(a){return M(e,a.target.value)},onFocus:function(){return F(e)},onBlur:function(){return P(e)},error:null===(a=T[e])||void 0===a?void 0:a.join("\n"),containerProps:{className:Kt.a["account__form-group"]}}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"".concat(Kt.a.document," ").concat(Kt.a.document__styled)},r.a.createElement("div",{className:"".concat(Kt.a["account__form-row"])},o?r.a.createElement("div",{className:"".concat(Kt.a["account__form-group"]," ").concat(Kt.a["account__form-group-s"])},r.a.createElement("p",{className:Kt.a.document__label},"Type"),r.a.createElement("p",{className:Kt.a.document__text},r.a.createElement("span",null,S.type))):r.a.createElement(qt,{id:"type",name:"type",label:"Type",containerProps:{className:Kt.a["account__form-group"]},error:null===(a=T.type)||void 0===a?void 0:a.join("\n"),required:!0,renderInput:function(e,a){return r.a.createElement(ht,{name:a,onChange:function(e){L(e)},options:cn,placeholder:"Type",value:C,id:e,onFocus:function(){return F(a)}})}}),(C||o)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(qt,Object.assign({label:"Number",required:!0},H("num"),{value:S.num})),r.a.createElement(qt,{id:"issueDate",name:"issueDate",label:"Issue date",containerProps:{className:Kt.a["account__form-group"]},error:null===(t=T.issueDate)||void 0===t?void 0:t.join("\n"),renderInput:function(e,a){return r.a.createElement(Ge.a,{onChange:function(e){e&&A("issueDate",e)},customInput:r.a.createElement(Ke,{value:"",onClick:function(){}}),required:!0,selected:ge(S.issueDate||""),dateFormat:"MMM | dd | yyyy",locale:"en-GB",showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",id:e,onInputClick:function(){return F(a)}})}}),r.a.createElement(qt,{id:"expDate",name:"expDate",label:"Exp date",error:null===(c=T.expDate)||void 0===c?void 0:c.join("\n"),containerProps:{className:Kt.a["account__form-group"]},renderInput:function(e,a){return r.a.createElement(Ge.a,{onChange:function(e){e&&A("expDate",e)},customInput:r.a.createElement(Ke,{value:"",onClick:function(){}}),required:!0,selected:ge(S.expDate||""),dateFormat:"MMM | dd | yyyy",locale:"en-GB",showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",id:e,onInputClick:function(){return F(a)}})}})),("Passport"===(null===C||void 0===C?void 0:C.value)||"Passport"===(null===o||void 0===o?void 0:o.type))&&r.a.createElement(qt,Object.assign({label:"Notes"},H("notes"),{value:S.notes||"",containerProps:{className:Ie()(Kt.a["account__form-group"],Kt.a["account__form-group-m"])}})),I.map((function(e){return r.a.createElement("div",{key:e.id,className:Kt.a.document__thumb},r.a.createElement("p",{className:"".concat(Kt.a["document__photo-remove"]," ai-c jc-c"),onClick:function(){w(e)}},r.a.createElement("i",{className:"fico fico-remove"})),r.a.createElement("img",{className:Kt.a.document__photo,src:e.imageURL,alt:"Document",onClick:function(){p(e)}}))})),(C||o)&&r.a.createElement("p",{className:"".concat(Kt.a.document__upload," ai-c"),onClick:U},r.a.createElement("i",{className:"fico fico-upload"}),r.a.createElement("span",null,"Upload"),r.a.createElement("input",{type:"file",ref:s,onChange:V,accept:"image/*",multiple:!0,name:"photos",className:"".concat(Kt.a["document__form-photo-input"])}))),o&&r.a.createElement(yt,{modalOpen:h,question:"Are you sure?",toggleModal:y,text:"Press yes if you want to remove ".concat(o.type," ").concat(o.num),onConfirm:function(){y(!1),z(o.id)}},r.a.createElement("i",{onClick:function(){y(!0)},className:"fico fico-remove ".concat(Kt.a["document__item-remove"])}))),C&&!o&&r.a.createElement("button",{className:Kt.a.document__btn,onClick:q},"+ Add document"),v&&r.a.createElement(wt,{modalOpen:!!v,toggleModal:function(){return p(null)},imageURL:v.imageURL}),j&&r.a.createElement(yt,{modalOpen:!!j,question:"Are you sure?",toggleModal:function(){return w(null)},text:"Press yes if you want to remove photo",onConfirm:function(){w(null),G(j,null===o||void 0===o?void 0:o.id)}}))},ln=function(){var e=function(){var e=Object(n.useState)([]),a=Object(x.a)(e,2),t=a[0],r=a[1],c=function(){var e=Object(R.a)(D.a.mark((function e(){var a,t,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.getAccountCountries();case 3:a=e.sent,t=a.data,n=t.data,r(n),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){c()}),[]),{countries:t}}().countries,a=function(){var e=E((function(e){return e.driver}),l.c),a=e.data,t=e.loading,r=Object(n.useState)({}),c=Object(x.a)(r,2),o=c[0],i=c[1],s=Object(l.d)(),m=function(){var e=Object(R.a)(D.a.mark((function e(){var a,t,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(ae(!0)),e.prev=1,e.next=4,B.getDriverInfo();case 4:a=e.sent,t=a.data,n=t.data,s(te(n)),s(ae(!1)),e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(1),s(ae(!1)),new Error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){m()}),[]);var d=function(e){var a;return Object(He.b)(Object(u.a)(Object(u.a)({},e),{},{country:(null===(a=e.country)||void 0===a?void 0:a.id)||null}),"documents")};return{driverData:a,errors:o,loading:t,onInputFocus:function(e){i((function(a){return Object(u.a)(Object(u.a)({},a),{},Object(se.a)({},e,null))}))},onFieldChange:function(e,t){var n=Object(u.a)(Object(u.a)({},a),{},Object(se.a)({},e,t));s(te(n))},onCountryChange:function(e){var t={id:e.value,name:e.label};s(te(Object(u.a)(Object(u.a)({},a),{},{country:t})))},onFormSubmit:function(){var e=Object(R.a)(D.a.mark((function e(t){var n,r,c,o;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,s(ae(!0)),n=d(a),e.next=6,B.postSendAccountData(n);case 6:g.b.success("Account data successfully updated"),s(ae(!1)),e.next=18;break;case 10:throw e.prev=10,e.t0=e.catch(1),r=e.t0.response,c=r.data,o=c.data,i(o),s(ae(!1)),new Error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}(),onAvatarChange:function(e){s(te(Object(u.a)(Object(u.a)({},a),{},{avatar:e})))}}}(),t=a.driverData,c=a.errors,o=a.loading,i=a.onInputFocus,s=a.onFieldChange,m=a.onCountryChange,d=a.onFormSubmit,_=a.onAvatarChange,v=Object(n.createRef)(),p=Object(n.useState)(!1),f=Object(x.a)(p,2),b=f[0],h=f[1];return r.a.createElement("div",{className:"page-content ".concat(Kt.a.container)},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:Kt.a["account-wrap"]},r.a.createElement("form",{className:Kt.a.account,onSubmit:function(e){return d(e).then((function(){h(!1)})).catch((function(){h(!1)}))},ref:v},r.a.createElement(rn,{driverData:t,errors:c,countries:e,onInputFocus:i,onFieldChange:s,onCountryChange:m,onAvatarChange:_})),r.a.createElement("h3",{className:Kt.a.documents__title},"Documents"),t.documents.map((function(e){return r.a.createElement(on,{initialData:e,key:e.id})})),r.a.createElement(on,{savePressed:b}),r.a.createElement("div",{className:Kt.a.account__button},r.a.createElement(ut,{text:"Save",color:"blue",loading:o,onClick:function(e){var a;e.preventDefault(),null===(a=v.current)||void 0===a||a.dispatchEvent(new Event("submit",{cancelable:!0})),h(!0)}})))))},sn=function(){return r.a.createElement("div",{className:"overlay"},r.a.createElement(Mt,null))},un=function(){var e,a=Object(N.h)().search,t=H.a.parse(a).token,c=Object(l.d)(),o=Object(n.useRef)((e=t,Array.isArray(e)?e.find((function(e){return!!e})):e));return Object(n.useEffect)((function(){o.current&&c(function(e){return function(){var a=Object(R.a)(D.a.mark((function a(t,n){return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!n().auth.loading){a.next=3;break}return a.abrupt("return");case 3:return t(q(!0)),a.prev=4,a.next=7,B.postLogin(e);case 7:Object(l.b)((function(){t({type:"LOGIN"}),t(q(!1))})),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(4),t(q(!1)),window.location.href="/login";case 14:case"end":return a.stop()}}),a,null,[[4,10]])})));return function(e,t){return a.apply(this,arguments)}}()}(o.current))}),[c]),o.current?r.a.createElement(Oa,null):r.a.createElement(N.a,{to:"/login"})},mn=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h3",{className:Yt.a.coming},"Page in development. Coming soon"))},dn=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement(Ia,null)),r.a.createElement(N.d,null,r.a.createElement(N.b,{exact:!0,path:"/account",component:ln}),r.a.createElement(N.b,{exact:!0,path:"/reservations/:id",component:Wt}),r.a.createElement(N.b,{exact:!0,path:"/reservations",component:Gt}),r.a.createElement(N.b,{exact:!0,path:"/payments",component:mn}),r.a.createElement(N.a,{exact:!0,from:"/(login)?",to:"/reservations"})))},_n=function(){return r.a.createElement(N.d,null,r.a.createElement(N.b,{exact:!0,path:"/",component:un}),r.a.createElement(N.b,{exact:!0,path:"/login",component:sn}),r.a.createElement(N.a,{to:"/login"}))},vn=function(){var e=E((function(e){return e.auth}),l.c).isLoggedIn;return r.a.createElement(y.a,null,e?r.a.createElement(dn,null):r.a.createElement(_n,null))};Object(ze.registerLocale)("en-GB",Ye.a);t(325);o.a.render(r.a.createElement(l.a,{store:h},r.a.createElement(g.a,null),r.a.createElement(vn,null)),document.getElementById("rentsyst_personal"))},35:function(e,a,t){e.exports={button:"button_button__mW1Hw","is-disabled":"button_is-disabled__2LY3O",green:"button_green__1axlI",blue:"button_blue__hKBKB",red:"button_red__3yj7d",small:"button_small__79cJQ",button__loader:"button_button__loader__3nOP7"}},37:function(e,a,t){e.exports={container:"dl_container__2ZBt6",date:"dl_date__31IM3",month:"dl_month__1sV_t",day:"dl_day__3s_gy",year:"dl_year__3YlXg",location:"dl_location__1SeYS",time:"dl_time__2Yqkq"}},44:function(e,a,t){e.exports={wrapper:"login_wrapper__2LSLd",info:"login_info__L9p8l","is-success":"login_is-success__kY54A","is-error":"login_is-error__24iOs",inner:"login_inner__218vp",title:"login_title__3Ixb4",form:"login_form__2Dw8q",form__buttons:"login_form__buttons__3m_5O",input:"login_input__24m2Y",input__wrap:"login_input__wrap__12bqF",error:"login_error__2Q1kp",input__error:"login_input__error__2XHWQ"}},47:function(e,a,t){e.exports={container:"le_container__1MJ3p","control-wrap":"le_control-wrap__3d0d4",input:"le_input__19pSM",select:"le_select__1wNeC","control-wrap--input":"le_control-wrap--input__2jo0y","control-wrap--select":"le_control-wrap--select__32dBE",checkbox__label:"le_checkbox__label__3v6JI"}},53:function(e,a,t){e.exports={container:"de_container__3D7ZC",item:"de_item__tSgN7","control-wrap":"de_control-wrap__w4JO-","date-val":"de_date-val__1MaVP",time:"de_time__3hvAl"}},54:function(e,a,t){e.exports={column:"taxes_column__2yHTG","label-title":"taxes_label-title__3qfOd",row:"taxes_row__uMNFf"}},55:function(e,a,t){e.exports={modal:"cm_modal__2LuIq",modal__content:"cm_modal__content__2oW4H","modal__icon-wrapper":"cm_modal__icon-wrapper__3LM08",modal__icon:"cm_modal__icon__nNyB4",modal__title:"cm_modal__title__tR-Hd",modal__controls:"cm_modal__controls__2_ygY",modal__btn:"cm_modal__btn__1xMtD"}},62:function(e,a,t){e.exports={message:"annul_message__3h9Hr",annual__modal:"annul_annual__modal__8PAR3",annual__title:"annul_annual__title__3ck46",annual__text:"annul_annual__text__2u0iZ",annual__error:"annul_annual__error__2xEzZ","text-column":"annul_text-column__3sMSj"}},67:function(e,a,t){e.exports={sign:"signature_sign__2ybF1",sign__controls:"signature_sign__controls__2hq-j",sign__field:"signature_sign__field__14mJO",sign__preview:"signature_sign__preview__1RQXx"}},68:function(e,a,t){e.exports={overlay:"loader_overlay__24AMR",loader:"loader_loader__3hGht",circle:"loader_circle__1i-WY",ldsEllipsis1:"loader_ldsEllipsis1__2vAFQ",ldsEllipsis2:"loader_ldsEllipsis2__NyByY",ldsEllipsis3:"loader_ldsEllipsis3__hpxPv"}},70:function(e,a,t){e.exports={param:"vp_param__saprb",vp__group:"vp_vp__group__10sNo"}},72:function(e,a,t){e.exports={container:"filters_container__3muaX",total:"filters_total__K_OfR",filters:"filters_filters__260Wk"}},79:function(e,a,t){e.exports={list:"nav_list__1psjv",link:"nav_link__1_nWH",active:"nav_active__Rr801"}},8:function(e,a,t){e.exports={list:"rslist_list__2BvBf",reservation:"rslist_reservation__1ts5e",label:"rslist_label__2Yp8g",reservation__header:"rslist_reservation__header__TOG4M",number:"rslist_number__2e3bs",status:"rslist_status__34VuL","status-val":"rslist_status-val__2kq1d","type-val":"rslist_type-val__1X-0Q",reservation__body:"rslist_reservation__body__3jiuQ",side:"rslist_side__29b4o",reservation__footer:"rslist_reservation__footer__33Cnp","rental-time":"rslist_rental-time__VRMmf","reservation__bottom-info":"rslist_reservation__bottom-info__YdlO5",reservation__todo:"rslist_reservation__todo__EKqSG",reservation__btns:"rslist_reservation__btns__327l1",reservation__loading:"rslist_reservation__loading__1pZZG",vehicle:"rslist_vehicle__5yObC",vehicle__info:"rslist_vehicle__info__pognw",vehicle__img:"rslist_vehicle__img__3wmhf",vehicle__inner:"rslist_vehicle__inner__1f0Ql",vehicle__group:"rslist_vehicle__group__1nVkk",vehicle__title:"rslist_vehicle__title__1e9P5",vehicle__similar:"rslist_vehicle__similar__P39Ew",details:"rslist_details__8LTDh",details__group:"rslist_details__group__39dTM","details__group-item":"rslist_details__group-item__3aagr",details__column:"rslist_details__column__6kl_p","mob-flex":"rslist_mob-flex__oNRha","details__column--mob":"rslist_details__column--mob__1ws5Q",insurance:"rslist_insurance__hR1AE",price:"rslist_price__dio9c",bold:"rslist_bold__sVaft"}},80:function(e,a,t){e.exports={container:"todo_container__1OFj8",label:"todo_label__33WBu",actions:"todo_actions__2BAcf",action:"todo_action__18fdE"}},81:function(e,a,t){e.exports={modal:"im_modal__23FMY",modal__content:"im_modal__content__2lem-",modal__close:"im_modal__close__kHLKM",modal__image:"im_modal__image__G0C0w"}},82:function(e,a,t){e.exports={label:"forminput_label__i8UxM",input:"forminput_input__1YxDq",input__error:"forminput_input__error__19C4A",error:"forminput_error__3uT0f"}},94:function(e,a,t){e.exports={reservation:"pages_reservation__3lWBS",coming:"pages_coming__neT5I"}},99:function(e,a,t){e.exports={container:"checkbox_container__2R2RC",label:"checkbox_label__3U1eI",checkbox:"checkbox_checkbox__NHRJE"}}},[[180,1,2]]]);