(this["webpackJsonprentsyst-personal"]=this["webpackJsonprentsyst-personal"]||[]).push([[0],{109:function(e,a,t){e.exports={btns:"actions_btns__pmX52",todo:"actions_todo__3PhcS"}},11:function(e,a,t){e.exports={vc:"vc_vc__36hZd","reserve-num":"vc_reserve-num__Z3N0U","reserve-type":"vc_reserve-type__1ObY0","reserve-status":"vc_reserve-status__1x3V0","reserve-info":"vc_reserve-info__2buDr","reserve-info--status":"vc_reserve-info--status__U--yr","dl-cotainer":"vc_dl-cotainer__QWqXo","dl-item":"vc_dl-item__5EHax",actions:"vc_actions__3U2ry","map-place":"vc_map-place__XoUWr","map-place--mt":"vc_map-place--mt__2zobN",vehicle:"vc_vehicle__2usdW",vehicle__img:"vc_vehicle__img__lJoUf",vehicle__group:"vc_vehicle__group__Uzc1m",vehicle__title:"vc_vehicle__title__1k2P_",vehicle__similar:"vc_vehicle__similar__3X4cZ",vehicle__info:"vc_vehicle__info__hSpnt","ld-edit":"vc_ld-edit__2EoES","ld-edit__row":"vc_ld-edit__row__3eJ4U","map-row":"vc_map-row__1xVAx","ld-edit__dates":"vc_ld-edit__dates__L0cEn"}},141:function(e,a,t){e.exports={icon:"infotip_icon__1ftfU"}},143:function(e,a,t){e.exports={pagination:"pagination_pagination__2ocnf"}},144:function(e,a,t){e.exports={"time-left":"rt_time-left__1lsTb"}},146:function(e,a,t){e.exports={select:"select_select__28NYd"}},147:function(e,a,t){e.exports={reservation:"pages_reservation__3lWBS"}},152:function(e,a,t){e.exports=t(260)},18:function(e,a,t){e.exports={card:"extras_card__3QnCD",item:"extras_item__1Qvnv",data:"extras_data__K7Aw5","hidden-input":"extras_hidden-input__3VmYb",label:"extras_label__2sYJ0","label--radio":"extras_label--radio__1_ocC","label--check":"extras_label--check__2cZ-o",quantity:"extras_quantity__3emon",quantity__input:"extras_quantity__input__1T-tp",quantity__button:"extras_quantity__button__25Iz9",left:"extras_left__3b30i",right:"extras_right__2rY4l"}},23:function(e,a,t){e.exports={bc:"billing_bc__2rbld","links-list":"billing_links-list__2C5my",payment:"billing_payment__36hF0",paid__label:"billing_paid__label__1c5zk",sign__row:"billing_sign__row__jyCrj",sign__place:"billing_sign__place__15FIS",sign__modal:"billing_sign__modal__69g0F",sign__btn:"billing_sign__btn__2ni5A","sign__btn-skelet":"billing_sign__btn-skelet__1Df_9",sign__create:"billing_sign__create__1vKwK","sign__create-text":"billing_sign__create-text__2jr2_",sign__content:"billing_sign__content__pQKFs"}},259:function(e,a,t){},260:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(26),l=t.n(c),i=t(13),s=t(49),o=t(137),m=t(15),u=t(6),d={isLoggedIn:localStorage&&"true"===localStorage.getItem("rsIsLogged"),loading:!1,mailIsSended:!1,errors:{}};var _={filters:{type:null,reserved_status:null,period:null},loading:!1,data:{reservations:[],pagination:{begin:0,count_pages:0,end:0,page:1,per_page:1,total_count:0}},reservation:null};var v={loading:!1,data:{first_name:"",last_name:null,email:"",phone:null,birthday:null,country:null,zip:null,state:null,city:null,street:null,building:null,documents:[]}};var f=Object(s.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN":return localStorage&&localStorage.setItem("rsIsLogged","true"),Object(u.a)(Object(u.a)({},e),{},{isLoggedIn:!0});case"LOGOUT":return localStorage&&localStorage.removeItem("rsIsLogged"),Object(u.a)(Object(u.a)({},e),{},{isLoggedIn:!1});case"SET_AUTH_LOADING":return Object(u.a)(Object(u.a)({},e),{},{loading:a.payload});case"SET_MAIL_SENDED":return Object(u.a)(Object(u.a)({},e),{},{mailIsSended:a.payload});case"SET_ERRORS":return Object(u.a)(Object(u.a)({},e),{},{errors:a.payload});case"RESET_ERRORS":var t=a.payload;return Object(u.a)(Object(u.a)({},e),{},{errors:t?Object(u.a)(Object(u.a)({},e.errors),{},Object(m.a)({},t,"")):{}});default:return e}},reservations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_RESERVATION_LOADING":return Object(u.a)(Object(u.a)({},e),{},{loading:a.payload});case"SET_RESERVATIONS":return Object(u.a)(Object(u.a)({},e),{},{data:a.payload});case"UPDATE_FILTERS":var t=Object(u.a)({},e.filters);return Object.keys(t).forEach((function(e){var n=a.payload[e],r=Array.isArray(n)?n[0]:n;t[e]=r||null})),Object(u.a)(Object(u.a)({},e),{},{filters:Object(u.a)(Object(u.a)({},e.filters),t)});case"SET_RESERVATION":return Object(u.a)(Object(u.a)({},e),{},{reservation:a.payload});case"UPDATE_RESERVATION":var n=Object(u.a)({},e.reservation);return Object(u.a)(Object(u.a)({},e),{},{reservation:Object(u.a)(Object(u.a)({},n),a.payload)});default:return e}},driver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_DRIVER_LOADING":return Object(u.a)(Object(u.a)({},e),{},{loading:a.payload});case"UPDATE_DRIVER":return Object(u.a)(Object(u.a)({},e),{},{data:Object(u.a)(Object(u.a)({},e.data),a.payload)});default:return e}}}),p=s.d,E=Object(s.e)(f,p(Object(s.a)(o.a))),h=i.e,g=t(31),b=t(22),N=t(109),y=t.n(N),w=function(){var e=h((function(e){return e.reservations.reservation})),a=e.status,t=e.type.toLowerCase(),n=a.toLowerCase(),c="reject"===n||"cancel"===n,l=Object(b.g)(),i=function(e){l.goBack()};return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"column"}),r.a.createElement("div",{className:"column column--2"},r.a.createElement("div",{className:"column__row jc-fe ai-fs ".concat(y.a.btns)},r.a.createElement(Ka,{text:"Back",onClick:i}),!c&&"done"!==n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ua,{className:y.a.todo,actions:e.necessary_actions}),r.a.createElement(Ka,{text:"Confirm",color:"keyless"===t?"green":"standard"===t?"blue":"black",onClick:i})))))},O=t(10),x=t(71),j=t.n(x),k=t(12),S=t.n(k),C=t(17),R=t(53),T=t.n(R),L="https://api-cabinet-test.rentsyst.com/v1",D=function(){var e="",a=localStorage.getItem("refreshToken")||"",t=0;function n(e){var a=e.accessToken,t=e.exp,n=e.refreshToken;D.setRefreshToken(n),D.setBearer(a),D.setAccessTokenExp(t)}function r(e){return{accessToken:e.access_token,exp:(new Date).getTime()+(e.expires_in||0),refreshToken:e.refresh_token}}return{makeLogin:function(){var e=Object(C.a)(S.a.mark((function e(a){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.post("".concat(L,"/auth"),{"one-time-token":a});case 2:return n(r((t=e.sent).data.data)),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),refreshTokens:function(){var e=Object(C.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.post("".concat(L,"/auth/refresh"),{"refresh-token":a});case 3:return n(r((t=e.sent).data.data)),e.abrupt("return",t);case 8:throw e.prev=8,e.t0=e.catch(0),D.setRefreshToken(""),D.setBearer(""),D.setAccessTokenExp(0),localStorage.removeItem("rsIsLogged"),E.dispatch({type:"LOGOUT"}),new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),debounceRefreshTokens:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=null,n=[];return function(){return null!==t&&(clearTimeout(t),t=null),t=setTimeout((function(){var a=e();n.forEach((function(e){return e(a)})),n=[]}),a),new Promise((function(e){return n.push(e)}))}}((function(){return D.refreshTokens()}),100),setBearer:function(a){e="Bearer ".concat(a)},getBearer:function(){return e},setAccessTokenExp:function(e){t=e},getAccessTokenExp:function(){return t},isAccessTokenExpired:function(){return t-5e3<=(new Date).getTime()},hasRefreshToken:function(){return Boolean(localStorage.getItem("refreshToken"))},setRefreshToken:function(e){a=e,localStorage.setItem("refreshToken",e)}}}(),I=D,A=function(){var e=T.a.create({baseURL:L});return{init:function(){return e.interceptors.request.use(function(){var e=Object(C.a)(S.a.mark((function e(a){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.headers.authorization=I.getBearer(),!I.isAccessTokenExpired()){e.next=14;break}return e.prev=2,e.next=5,I.debounceRefreshTokens();case 5:return a.headers.authorization=I.getBearer(),e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",Promise.reject(e.t0));case 12:e.next=15;break;case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(a){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),e}}}().init(),B=T.a.create({baseURL:L}),P={getDriverInfo:function(){return A({method:"get",url:"/account"})},getReservation:function(e){return A({method:"get",url:"/reservations/".concat(e)})},getReservationExtras:function(e){return A({method:"get",url:"/reservations/".concat(e,"/extras")})},getReservations:function(e){return A({method:"get",url:"/reservations".concat(e)})},getVehicleBusyDates:function(e){return A({method:"get",url:"/vehicles/".concat(e,"/busy-dates")})},getVehicleOffice:function(e,a){return A({method:"get",url:"/vehicles/".concat(e,"/reservation-times"),params:a})},postLogin:function(e){return I.makeLogin(e)},postSendEmail:function(e){return B({method:"post",url:"/auth/request-login",data:{email:e}})},postSignature:function(e,a){var t=new FormData;return t.append("signature",a),A({method:"post",url:"/reservations/".concat(e,"/signature"),data:t})},putReservation:function(e,a){return A({method:"put",url:"/reservations/".concat(e),data:a})},putReservationExtras:function(e,a){return A({method:"put",url:"/reservations/".concat(e,"/extras"),data:a})},putReservationReject:function(e,a){return A({method:"put",url:"/reservations/".concat(e,"/annul"),data:a})}},F=function(e){return{type:"SET_AUTH_LOADING",payload:e}},q=function(e){return{type:"SET_MAIL_SENDED",payload:e}},M=function(e){return{type:"SET_ERRORS",payload:e}},V=t(39),U=t(50),G=t.n(U),z=function(e){return{type:"SET_RESERVATION_LOADING",payload:e}},H=function(e){return{type:"SET_RESERVATION",payload:e}},Y=function(e){return{type:"UPDATE_RESERVATION",payload:e}},J=function(e,a){return function(){var t=Object(C.a)(S.a.mark((function t(n,r){var c,l,i,s,o,m,u,d,_;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r().reservations.reservation){t.next=3;break}return t.abrupt("return");case 3:return l={insurance:e.filter((function(e){return!0===e.checked}))[0].id,extras:a.reduce((function(e,a){return a.quantity>0&&e.push({quantity:a.quantity,id:a.id}),e}),[])},t.prev=4,t.next=7,P.putReservationExtras(c.id,l);case 7:(i=t.sent).data.status&&(s=i.data.data,o=s.extras,m=s.insurances,u=s.taxes,d=s.prices,_=s.delivery_data,n(Y({extras_data:{extras:o,insurances:m,taxes:u,delivery_data:_},prices:d})),V.a.rebuild()),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e,a){return t.apply(this,arguments)}}()},Q=function(e){return{type:"SET_DRIVER_LOADING",payload:e}},K=t(51),W=t.n(K),Z=function(e){var a=e||{},t=a.isOpen,r=void 0!==t&&t,c=a.onOpen,l=a.onClose,i=Object(n.useState)(r),s=Object(O.a)(i,2),o=s[0],m=s[1];return{open:o,toggleCard:function(e){void 0!==e?(m(e),e&&(c?c():l&&l())):m((function(e){return!e}))},openCard:function(){m(!0),c&&c()},closeCard:function(){m(!1),l&&l()}}},X=function(){var e=h((function(e){return e.driver})),a=e.data,t=e.loading,r=Object(i.d)();return Object(n.useEffect)((function(){r(function(){var e=Object(C.a)(S.a.mark((function e(a,t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t().driver.loading){e.next=3;break}return e.abrupt("return");case 3:return a(Q(!0)),e.prev=4,e.next=7,P.getDriverInfo();case 7:(n=e.sent).data.status&&(r=n.data.data,Object(i.b)((function(){a({type:"UPDATE_DRIVER",payload:r}),a(Q(!1))}))),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error(e.t0),a(Q(!1));case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(a,t){return e.apply(this,arguments)}}())}),[r]),{driver:a,loading:t}},$=t(115),ee=function(e){var a=Object(n.useState)(e),t=Object(O.a)(a,2),r=t[0],c=t[1],l=h((function(e){return e.auth}),i.c),s=l.loading,o=l.errors,d=Object(i.d)();return{loading:s,values:r,errors:o,onSubmitForm:function(e){var a;e.preventDefault(),d((a=r.email,function(){var e=Object(C.a)(S.a.mark((function e(t,n){var r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n().auth.loading){e.next=3;break}return e.abrupt("return");case 3:return t(F(!0)),e.prev=4,e.next=7,P.postSendEmail(a);case 7:Object(i.b)((function(){t(q(!0)),t(M({})),t(F(!1))})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(4),r=e.t0.response.data.data.message,Object(i.b)((function(){t(q(!1)),t(F(!1)),r&&t(M({email:r}))}));case 14:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(a,t){return e.apply(this,arguments)}}()))},onValueChange:function(e){var a=e.target,t=a.name,n=a.value;c((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(m.a)({},t,n))}))},onFocus:function(e){d({type:"RESET_ERRORS",payload:e.currentTarget.name})}}},ae=function(e,a,t){var r=e.map((function(e){return window.matchMedia(e)})),c=function(){var e=r.findIndex((function(e){return e.matches}));return(null===a||void 0===a?void 0:a[e])||t},l=Object(n.useState)(c),i=Object(O.a)(l,2),s=i[0],o=i[1];return Object(n.useEffect)((function(){var e=function(){return o(c)};return r.forEach((function(a){return a.addListener(e)})),function(){return r.forEach((function(a){return a.removeListener(e)}))}}),[]),s},te=function(e){var a=e||{},t=a.isOpen,r=a.onOpen,c=a.onClose,l=Object(n.useState)(t||!1),i=Object(O.a)(l,2),s=i[0],o=i[1];return[s,function(e){void 0!==e?(o(e),e&&(r?r():c&&c())):o((function(e){return!e}))}]},ne=function(e){var a=h((function(e){return e.reservations})),t=a.reservation,r=a.loading,c=Object(i.d)();return Object(n.useEffect)((function(){c(function(e){return function(){var a=Object(C.a)(S.a.mark((function a(t,n){var r,c,l,s,o,m,d,_,v,f,p,E;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=n().reservations,c=r.data,!r.loading){a.next=3;break}return a.abrupt("return");case 3:return l=c.reservations.filter((function(a){return a.id===e}))[0],Object(i.b)((function(){t(z(!0)),l&&t(H(l))})),a.prev=5,a.next=8,Promise.all([P.getReservation(e),P.getReservationExtras(e)]);case 8:s=a.sent,o=Object(O.a)(s,2),m=o[0],d=o[1],m.data.status&&d.data.status&&(_=d.data.data,v=_.extras,f=_.insurances,p=_.taxes,E=_.delivery_data,Object(i.b)((function(){t(H(Object(u.a)(Object(u.a)({},m.data.data),{},{extras_data:{extras:v,insurances:f,taxes:p,delivery_data:E}}))),t(z(!1))})),V.a.rebuild()),a.next=19;break;case 15:a.prev=15,a.t0=a.catch(5),console.error(a.t0),t(z(!1));case 19:case"end":return a.stop()}}),a,null,[[5,15]])})));return function(e,t){return a.apply(this,arguments)}}()}(+e))}),[e,c]),{reservation:t,loading:r}},re=function(){var e=Object(b.h)().search,a=Object(b.g)().push,t=function(e){var a={};return e.forEach((function(e){var t=e.name,n=e.value;a=Object(u.a)(Object(u.a)({},a),{},Object(m.a)({},t,n))})),a};return{setLocationSearch:function(e){var n=t(e);a({search:G.a.stringify(n)})},updateLocationSearch:function(n){var r=G.a.parse(e),c=t(n);a({search:G.a.stringify(Object(u.a)(Object(u.a)({},r),c))})}}},ce=t(149),le=function(e){return e?e[0].toUpperCase()+e.slice(1).toLowerCase():e},ie=function(e){return e.replace(/\s/,"T")},se=function(e){return e<0||e>=10?e:"0".concat(e)},oe=function(e){var a=Object(n.useRef)(null),t=Object(n.useRef)(null),r=function(){t.current&&t.current.clear()},c=function(){a.current&&(a.current.width=a.current.offsetWidth||700,a.current.height=a.current.offsetHeight||400),r()};return Object(n.useEffect)((function(){return a.current&&(t.current=new ce.a(a.current,{maxWidth:1.5,backgroundColor:"rgba(255, 255, 255, 0)",penColor:"#000000",onBegin:e&&(e.onDraw||void 0)}),c(),window.addEventListener("resize",c)),function(){window.removeEventListener("resize",c)}}),[]),{signRef:a,clearSignature:r,confirmSignature:function(e){if(a.current&&t.current&&!t.current.isEmpty()){var n=function(e){var a=e.getContext("2d"),t=document.createElement("canvas").getContext("2d");if(!a||!t)return"";var n,r,c,l=a.getImageData(0,0,e.width,e.height),i=l.data.length,s={top:0,left:0,right:0,bottom:0};for(n=0;n<i;n+=4)0!==l.data[n+3]&&(r=n/4%e.width,c=~~(n/4/e.width),0===s.top&&(s.top=c),(0===s.left||r<s.left)&&(s.left=r),(0===s.right||s.right<r)&&(s.right=r),(0===s.bottom||s.bottom<c)&&(s.bottom=c));var o=s.bottom-s.top,m=s.right-s.left,u=a.getImageData(s.left,s.top,m,o);return t.canvas.width=m,t.canvas.height=o,t.putImageData(u,0,0),t.canvas.toDataURL()}(a.current),r=function(e){var a="";a=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var t=e.split(",")[0].split(":")[1].split(";")[0],n=new Uint8Array(a.length),r=0;r<a.length;r++)n[r]=a.charCodeAt(r);return new Blob([n],{type:t})}(n);e&&e(n,r)}}}},me=function(){var e=Object(i.d)(),a=te(),t=Object(O.a)(a,2),c=t[0],l=t[1],s=Object(n.useState)(""),o=Object(O.a)(s,2),m=o[0],u=o[1],d=Object(n.useState)(""),_=Object(O.a)(d,2),v=_[0],f=_[1],p=function(e){l(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ka,{text:"Annual",size:"small",onClick:function(e){l(!0)}}),r.a.createElement(j.a,{className:"rs-modal ".concat(W.a.annual__modal),isOpen:c,contentLabel:"Sign Modal",onRequestClose:p},r.a.createElement("div",{className:"rs-modal__header"},r.a.createElement("span",{className:"rs-modal__title"},"Why Annul?"),r.a.createElement("button",{className:"rs-modal__close",onClick:p},r.a.createElement("span",null,"\xd7"))),r.a.createElement("div",{className:"rs-modal__body"},r.a.createElement("textarea",{className:W.a.message,value:m,onChange:function(e){u(e.target.value)},rows:5}),v&&r.a.createElement("p",{className:W.a.annual__error},v)),r.a.createElement("div",{className:"rs-modal__footer rs-modal__controls"},r.a.createElement(Ka,{text:"Cancel",onClick:p}),r.a.createElement(Ka,{text:"Annual",onClick:function(a){m.length<20?f("Needed more than 20 symbols"):(f(""),e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;return function(){var n=Object(C.a)(S.a.mark((function n(r,c){var l,s,o;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=c().reservations,s=l.reservation,!l.loading&&s){n.next=3;break}return n.abrupt("return");case 3:return r(z(!0)),n.prev=4,n.next=7,P.putReservationReject(s.id,{message:e});case 7:(o=n.sent).data.status&&(Object(i.b)((function(){r(Y({status:o.data.data.status,annul:o.data.data.message})),r(z(!1))})),V.a.rebuild(),a&&a()),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(4),console.error(n.t0),r(z(!1)),t&&t(n.t0);case 16:case"end":return n.stop()}}),n,null,[[4,11]])})));return function(e,a){return n.apply(this,arguments)}}()}(m)),l(!1))}}))))},ue=function(){var e=h((function(e){return e.reservations.reservation})).annul;return e?r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"card__title ".concat(W.a.annual__title)},"Annul")),r.a.createElement("div",{className:"column column--2 ".concat(W.a["text-column"])},r.a.createElement("p",{className:W.a.annual__text},e))):null},de=t(23),_e=t.n(de),ve=function(e){var a=e.links;return r.a.createElement("ul",{className:"".concat(_e.a["links-list"]," links-list")},r.a.createElement("li",null,r.a.createElement("a",{href:a.agreement_url,rel:"noopener noreferrer",target:"_blank"},"Agreement")),r.a.createElement("li",null,r.a.createElement("a",{href:a.invoice_url,rel:"noopener noreferrer",target:"_blank"},"Invoice")))},fe=function(e){var a=e.methods,t=Object(n.useState)(null),c=Object(O.a)(t,2),l=c[0],i=c[1],s=a.map((function(e){return{value:e.value,label:e.name,icon:e.image}}));return r.a.createElement(nt,{className:_e.a.payment,name:"payments",onChange:function(e){i(e)},options:s,placeholder:"Payment method",value:l,withIcon:!0})},pe=t(3),Ee=t.n(pe),he=t(56),ge=t.n(he);j.a.setAppElement("#rentsyst_personal");var be=function(){var e=h((function(e){return e.reservations})),a=e.reservation,t=e.loading,n=a&&a.signature.url?a.signature.url:"",c=a&&a.status.toLowerCase(),l="reject"===c||"cancel"===c,s=te(),o=Object(O.a)(s,2),m=o[0],u=o[1],d=Object(i.d)(),_=function(){u(!1)};return r.a.createElement("div",{className:_e.a.sign__modal},n?r.a.createElement("img",{className:ge.a.sign__preview,src:n,alt:""}):r.a.createElement("div",{className:_e.a.sign__create},r.a.createElement("i",{className:"fico fico-contract"}),r.a.createElement("span",{className:_e.a["sign__create-text"]},"Sign an agreement")),t?r.a.createElement(Ee.a,{width:"100%",height:"100%",className:_e.a["sign__btn-skelet"]}):!l&&"done"!==c&&r.a.createElement("button",{type:"button",className:_e.a.sign__btn,onClick:function(e){u(!0)}}),r.a.createElement(j.a,{className:"rs-modal rs-modal--lg ".concat(_e.a.sign__content),isOpen:m,contentLabel:"Sign Modal",onRequestClose:_},r.a.createElement("div",{className:"sign-modal__content"},r.a.createElement("div",{className:"rs-modal__header"},r.a.createElement("span",{className:"rs-modal__title"},"Signature"),r.a.createElement("button",{className:"rs-modal__close",onClick:_},r.a.createElement("span",null,"\xd7"))),r.a.createElement("div",{className:"rs-modal__body"},r.a.createElement(Ba,{preview:n,onConfirm:function(e,a){u(!1),d(function(){var e=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,t=arguments.length>3?arguments[3]:void 0;return function(){var n=Object(C.a)(S.a.mark((function n(r,c){var l,s,o;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=c().reservations,s=l.reservation,!l.loading&&s){n.next=3;break}return n.abrupt("return");case 3:return r(z(!0)),n.prev=4,n.next=7,P.postSignature(s.id,e);case 7:if(!n.sent.data.status){n.next=13;break}return n.next=11,P.getReservation(s.id);case 11:(o=n.sent).data.status&&(Object(i.b)((function(){r(Y(o.data.data)),r(z(!1))})),V.a.rebuild(),a&&a());case 13:n.next=20;break;case 15:n.prev=15,n.t0=n.catch(4),console.error(n.t0),r(z(!1)),t&&t(n.t0);case 20:case"end":return n.stop()}}),n,null,[[4,15]])})));return function(e,a){return n.apply(this,arguments)}}()}(e,a))}})))))},Ne=function(){var e=h((function(e){return e.reservations.reservation})),a=e.agreement_url,t=e.invoice_url,n=e.currency,c=e.prices,l=e.payment_methods;return r.a.createElement("div",{className:"card ".concat(_e.a.bc)},r.a.createElement("div",{className:"column column--title"},r.a.createElement("div",{className:"card__title"},"Billing information"),r.a.createElement(ve,{links:{agreement_url:a,invoice_url:t}})),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"label-title ".concat(_e.a.payment__label)},"Payment type"),r.a.createElement(fe,{methods:l})),r.a.createElement("div",{className:"column column--last"},r.a.createElement("div",{className:"column__row jc-sb ai-b"},r.a.createElement("div",{className:"label-title paid-label"},"Paid:"),r.a.createElement("div",{className:"price bold"},c.paid,"\xa0",n.symbol)),r.a.createElement("div",{className:"column__row ".concat(_e.a.sign__row)},r.a.createElement("div",{className:_e.a.sign__place},r.a.createElement(be,null)))))},ye=t(94),we=t.n(ye),Oe=t(114),xe=t(151),je=t(83),ke=t(82),Se=(t(201),t(44)),Ce=t.n(Se),Re=Object(n.forwardRef)((function(e,a){var t=e.value,n=e.onClick,c=t?t.split(" || "):["--- | -- | ----","--:--"],l=Object(O.a)(c,2),i=l[0],s=l[1];return r.a.createElement("div",{className:Ce.a["control-wrap"],ref:a,onClick:n},r.a.createElement("i",{className:"fico fico-calendar"}),r.a.createElement("div",{className:Ce.a["date-val"]},r.a.createElement("div",{className:Ce.a.date},i),r.a.createElement("div",{className:Ce.a.time},s)))}));Object(ye.registerLocale)("en-GB",xe.a);var Te=function(e){var a=e.initialDates,t=e.availableTimes,c=e.disabledDates,l=e.onChange,i=Object(n.useState)(t),s=Object(O.a)(i,2),o=s[0],m=s[1],u=function(e){return e?"".concat(e.getFullYear(),"-").concat(se(e.getMonth()+1),"-").concat(se(e.getDate())," ").concat(se(e.getHours()),":").concat(se(e.getMinutes())):""},d=function(e,a,n){if(e){var r=(e.getDay()+6)%7,c=t[a];if(c){var l=c[r][n];return l?function(e,a){var t=a.split(":"),n=Object(O.a)(t,2),r=n[0],c=n[1];return Object(je.default)(Object(ke.default)(e,+c),+r)}(e,l):Object(je.default)(Object(ke.default)(e,0),0)}}},_=function(e,a){var t=e,n=d(e,a,"from"),r=d(e,a,"to");return n&&n.getTime()>e.getTime()?t=n:r&&r.getTime()<e.getTime()&&(t=r),{min:n,max:r,selected:t}},v=Object(n.useState)(new Date(ie(a[0]))),f=Object(O.a)(v,2),p=f[0],E=f[1],h=Object(n.useState)(new Date(ie(a[1]))),g=Object(O.a)(h,2),b=g[0],N=g[1],y=Object(n.useState)((function(){return d(p,0,"from")})),w=Object(O.a)(y,2),x=w[0],j=w[1],k=Object(n.useState)((function(){return d(p,0,"to")})),S=Object(O.a)(k,2),C=S[0],R=S[1],T=Object(n.useState)((function(){return d(b,1,"from")})),L=Object(O.a)(T,2),D=L[0],I=L[1],A=Object(n.useState)((function(){return d(b,1,"to")})),B=Object(O.a)(A,2),P=B[0],F=B[1],q=function(e,a){if(!e||!a)return!1;for(var t=e.getTime(),n=a.getTime(),r=0;r<c.length;r++){var l=new Date(ie(c[r].from)).getTime(),i=new Date(ie(c[r].to)).getTime();if(t>l&&t<=i)return!0;if(n>l&&n<=i)return!0;if(l>t&&n>=i)return!0}return!1},M=function(e){var a=_(e,0);a.min&&a.max&&a.min.getTime()===a.max.getTime()||((b&&a.selected.getTime()>b.getTime()||q(a.selected,b))&&N(void 0),E(a.selected),j(a.min),R(a.max),l(u(a.selected),u(b)))},V=function(e){var a=_(e,1);a.min&&a.max&&a.min.getTime()===a.max.getTime()||p&&a.selected.getTime()<=p.getTime()||q(p,a.selected)||(N(a.selected),I(a.min),F(a.max),l(u(p),u(a.selected)))},U=function(e){var a=e.getTime();if(!c.length)return!0;for(var t=0;t<c.length;t++){var n=new Date(ie(c[t].from)).getTime(),r=new Date(ie(c[t].to)).getTime();if(a>=n&&a<=r)return!1}return!0};return Object(n.useEffect)((function(){Object(Oe.a)(t[0],o[0])||(m((function(e){return[t[0],e[1]]})),function(){if(p){var e=_(p,0);E(void 0),j(e.min),R(e.max)}}()),Object(Oe.a)(t[1],o[1])||(m((function(e){return[e[0],t[1]]})),function(){if(b){var e=_(b,1);N(void 0),I(e.min),F(e.max)}}())}),[t]),r.a.createElement("div",{className:Ce.a.container},r.a.createElement("div",{className:Ce.a.item},r.a.createElement("div",{className:"label"},"Pick Up"),r.a.createElement(we.a,{onChange:function(e){return M(e)},selected:p,startDate:p,endDate:b,filterDate:U,selectsStart:!0,showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,minTime:x,maxTime:C,customInput:r.a.createElement(Re,null),dateFormat:"MMM | dd | yyyy || HH:mm",locale:"en-GB"})),r.a.createElement("div",{className:Ce.a.item},r.a.createElement("div",{className:"label"},"Return"),r.a.createElement(we.a,{onChange:function(e){return V(e)},selected:b,startDate:p,minDate:p,endDate:b,filterDate:U,selectsEnd:!0,showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,minTime:D,maxTime:P,customInput:r.a.createElement(Re,null),dateFormat:"MMM | dd | yyyy || HH:mm",locale:"en-GB"})))},Le=t(28),De=t.n(Le),Ie=function(e){var a=e.date,t=e.location,n=e.onLocationClick,c=function(e){if(!e)return null;var a=new Date(ie(e)),t=a.getHours(),n=a.getMinutes();return{day:a.getDate(),month:a.toLocaleString("en",{month:"short"}),year:a.getFullYear(),time:"".concat(t<10?"0".concat(t):t,":").concat(n<10?"0".concat(n):n)}}(a);if(!c)return null;return r.a.createElement("div",{className:De.a.container},r.a.createElement("div",{className:De.a.date},r.a.createElement("div",{className:De.a.month},c.month),r.a.createElement("div",{className:De.a.day},c.day),r.a.createElement("div",{className:De.a.year},c.year)),r.a.createElement("div",null,r.a.createElement("div",{className:De.a.location,onClick:function(e){n&&n()}},t),r.a.createElement("div",{className:De.a.time},c.time)))},Ae=t(86),Be=t(29),Pe=t.n(Be),Fe=function(e){var a=e.driver,t=a.first_name,n=a.last_name,c=[{title:"Driver license",num:"KJ7783"},{title:"Passport",num:"KJ7783FF"}];return r.a.createElement("div",{className:Pe.a.driver},r.a.createElement("div",{className:Pe.a.driver__name},t," ",n),c.length>0&&r.a.createElement("div",{className:Pe.a.driver__docs},c.map((function(e){return r.a.createElement("div",{className:Pe.a.driver__doc,key:e.num},r.a.createElement("div",{className:Pe.a["driver__doc-label"]},e.title),r.a.createElement("div",{className:Pe.a["driver__doc-num"]},e.num))}))))},qe=function(e){var a=e.drivers,t=e.reservation;return r.a.createElement("div",{className:"card ".concat(Pe.a.dc)},r.a.createElement("div",{className:"column column--title"},r.a.createElement("div",{className:"column__row ai-c"},r.a.createElement("span",{className:"card__title"},"Drivers"))),r.a.createElement("div",{className:"column ".concat(Pe.a["column--drivers"])},a[0].first_name?a.map((function(e,a){return r.a.createElement(Fe,{key:a,driver:e})})):r.a.createElement(lt,null)),r.a.createElement("div",{className:"column column--last"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"label-title"},"Rental period"," ",Object(Ae.a)(new Date(ie(t.date_to)),new Date(ie(t.date_from)),{unit:"day",roundingMethod:"ceil"})),r.a.createElement("div",{className:"price"},t.prices.vehicle,"\xa0",t.currency.symbol)):r.a.createElement(st,null)))},Me=function(){var e=h((function(e){return e.reservations.reservation})),a=X().driver;return r.a.createElement(qe,{drivers:[a],reservation:e})},Ve=t(19),Ue=t.n(Ve),Ge=t(18),ze=t.n(Ge),He=function(e){var a=e.id,t=e.title,n=e.value,c=e.price,l=(e.icon,e.deposit,e.deposit_price,e.damage,e.damage_access),i=e.checked,s=void 0!==i&&i,o=e.editable,u=void 0!==o&&o,d=e.currency,_=e.onChange;return r.a.createElement("div",{className:ze.a.item},r.a.createElement("div",{className:ze.a.data},u&&r.a.createElement("input",{className:ze.a["hidden-input"],type:"radio",name:"insurance",defaultValue:n,id:String(a),defaultChecked:s,onChange:function(e){_(a)}}),r.a.createElement("label",{className:Ue()(ze.a.label,Object(m.a)({},ze.a["label--radio"],u)),htmlFor:u?String(a):void 0},"".concat(t," with ").concat(l,"\xa0").concat(d," Excess"))),r.a.createElement("div",{className:"price"},c,"\xa0",d))},Ye=t(140),Je=t.n(Ye),Qe=function(e){var a=e.id,t=e.title,c=(e.icon,e.price_day,e.max_quantity),l=e.quantity,i=void 0===l?0:l,s=(e.type,e.price),o=e.editable,u=e.currency,d=e.onChange,_=Object(n.useState)(i>0),v=Object(O.a)(_,2),f=v[0],p=v[1],E=Object(n.useState)(i),h=Object(O.a)(E,2),g=h[0],b=h[1],N=function(e){var t=e;e<=0?(t=0,p(!1)):c&&e>c?(t=c,p(!0)):(t=e,p(!0)),g!==t&&(b(t),d(a,t))};return r.a.createElement("div",{className:ze.a.item},r.a.createElement("div",{className:ze.a.data},o&&r.a.createElement("input",{className:ze.a["hidden-input"],type:"checkbox",name:"extra_".concat(a),value:g,id:"extra_".concat(a),checked:f,onChange:function(e){var t=!f;t?(b(1),d(a,1)):(b(0),d(a,0)),p(t)}}),r.a.createElement("label",{className:Ue()(ze.a.label,Object(m.a)({},ze.a["label--check"],o)),htmlFor:o?"extra_".concat(a):void 0},"".concat(o?"":"".concat(g," x ")).concat(t)),o&&r.a.createElement("div",{className:ze.a.quantity},r.a.createElement("button",{className:"".concat(ze.a.quantity__button," ").concat(ze.a.left),type:"button",onClick:function(e){N(g-1)}}),r.a.createElement(Je.a,{className:ze.a.quantity__input,type:"text",mask:"999",maskChar:null,value:g,onChange:function(e){N(+e.target.value)}}),r.a.createElement("button",{className:"".concat(ze.a.quantity__button," ").concat(ze.a.right),type:"button",onClick:function(e){N(g+1)}}))),r.a.createElement("div",{className:"price"},s,"\xa0",u))},Ke=function(){var e=Z(),a=e.open,t=e.toggleCard,n=h((function(e){return e.reservations.reservation})),c=function(e,a){var t=Object(i.d)(),n=e.extras_data,r=e.currency,c=a?Object($.a)(n.insurances):n.insurances.filter((function(e){return!0===e.checked})),l=a?Object($.a)(n.extras):n.extras.filter((function(e){return e.quantity>0}));return{insurances:c,extras:l,currency:r,changeInsurance:function(e){t(J(c.map((function(a){return a.checked=a.id===e,a})),l))},changeExtras:function(e,a){t(J(c,l.map((function(t){return t.id===e&&(t.quantity=a),t}))))}}}(n,a),l=c.insurances,s=c.extras,o=c.currency,m=c.changeInsurance,u=c.changeExtras,d=n.status.toLowerCase(),_="cancel"!==d&&"reject"!==d&&"done"!==d;return r.a.createElement("div",{className:"card ".concat(ze.a.card)},r.a.createElement("div",{className:"column column--title"},r.a.createElement("div",{className:"column__row ai-c"},r.a.createElement("span",{className:"card__title"},"Extras"),_&&!a&&r.a.createElement(Ka,{text:"Change",size:"small",onClick:function(e){t()}}))),r.a.createElement("div",{className:"column column--2"},r.a.createElement("div",{className:"label-title"},"Insurance"),r.a.createElement("div",null,l.map((function(e){return r.a.createElement(He,Object.assign({key:e.id,editable:a},e,{currency:o.symbol,onChange:m}))}))),s.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"label-title"},"Extras"),r.a.createElement("div",null,s.map((function(e){return r.a.createElement(Qe,Object.assign({key:e.id,editable:a},e,{currency:o.symbol,onChange:u}))}))))))},We=t(141),Ze=t.n(We),Xe=function(e){var a=e.text;return r.a.createElement("div",{className:Ze.a.icon,"data-tip":a},"?")},$e=t(42),ea=t.n($e),aa=function(e){var a,t=e.className,n=void 0===t?"":t,c=e.text,l=e.color,i=void 0===l?"":l,s=e.to,o=e.size,u=e.disabled,d=void 0!==u&&u;return r.a.createElement(g.b,{className:Ue()(ea.a.button,(a={},Object(m.a)(a,ea.a.small,"small"===o),Object(m.a)(a,ea.a[i],!!i),Object(m.a)(a,ea.a["is-disabled"],d),Object(m.a)(a,n,!!n),a)),to:s},c)},ta=t(64),na=t.n(ta),ra={type:{options:[{value:"",label:"All"},{value:"keyless",label:"Keyless"},{value:"standard",label:"Standard"}],placeholder:"Rental type"},reserved_status:{options:[{value:"",label:"All"},{value:"booking",label:"Booking"},{value:"reserved",label:"Reserved"},{value:"rental",label:"Rental"},{value:"done",label:"Done"},{value:"cancel",label:"Cancel"},{value:"reject",label:"Reject"}],placeholder:"Status"},period:{options:[{value:"",label:"All"},{value:"future",label:"Future"},{value:"past",label:"Past"}],placeholder:""}},ca=function(e){var a=e.filters,t=e.total,n=re().updateLocationSearch,c=function(e,a){n([{name:a,value:e.value}])};return r.a.createElement("div",{className:na.a.container},r.a.createElement("span",{className:na.a.total},function(e){switch(e){case 0:case void 0:return"Not found";case 1:return"1 Reservation";default:return"".concat(e," Reservations")}}(t)),r.a.createElement("div",{className:na.a.filters},Object.keys(ra).map((function(e){var t=ra[e],n=t.options,l=t.placeholder;return r.a.createElement(nt,{key:e,name:e,options:n,value:n.filter((function(t){return t.value===a[e]}))[0]||null,placeholder:l,onChange:c})}))))},la=t(59),ia=t.n(la),sa=function(){return r.a.createElement("div",{className:ia.a.overlay},r.a.createElement("div",{className:ia.a.loader},r.a.createElement("div",{className:ia.a.circle}),r.a.createElement("div",{className:ia.a.circle}),r.a.createElement("div",{className:ia.a.circle}),r.a.createElement("div",{className:ia.a.circle})))},oa=t(34),ma=t.n(oa),ua=function(e){var a=e.name,t=e.value,n=e.onChange,c=e.options;return r.a.createElement("div",{className:"".concat(ma.a["control-wrap"]," ").concat(ma.a["control-wrap--select"])},r.a.createElement("i",{className:"fico fico-place"}),r.a.createElement(nt,{className:ma.a.select,name:a,options:c,value:t,placeholder:"Choose location",onChange:n}))},da=function(e){var a=e.name,t=e.value,c=e.onChange,l=e.placeholder,i=void 0===l?"":l,s=Object(n.useRef)(null),o=Object(n.useState)(t||""),m=Object(O.a)(o,2),u=m[0],d=m[1];Object(n.useEffect)((function(){if(null!==s.current){var e=new google.maps.places.Autocomplete(s.current);window.google.maps.event.addListener(e,"place_changed",(function(){var a=e.getPlace();a.geometry&&(d(a.formatted_address||""),c(a.geometry.location.lat(),a.geometry.location.lng(),a.formatted_address||""))}))}}),[]);return r.a.createElement("div",{className:"".concat(ma.a["control-wrap"]," ").concat(ma.a["control-wrap--input"])},r.a.createElement("i",{className:"fico fico-place is-active",onClick:function(e){if(e.preventDefault(),window.google){var a=new google.maps.Geocoder;"geolocation"in navigator&&navigator.geolocation.getCurrentPosition((function(e){a.geocode({location:{lat:e.coords.latitude,lng:e.coords.longitude}},(function(e,a){if("OK"===a){var t=e[0];t&&t.geometry?(d(t.formatted_address||""),c(t.geometry.location.lat(),t.geometry.location.lng(),t.formatted_address||"")):console.error("No results found")}else console.error("Geocoder failed due to: "+a)}))}))}}}),r.a.createElement("input",{className:ma.a.input,ref:s,type:"text",name:a,value:u,placeholder:i,onChange:function(e){d(e.target.value)}}))},_a=function(e){var a=e.vehicleID,t=e.initialLocations,c=e.availableLocations,l=e.sameReturn,i=e.customLocation,s=e.onChange,o=Object(n.useState)(t[0]),m=Object(O.a)(o,2),d=m[0],_=m[1],v=Object(n.useState)(t[1]),f=Object(O.a)(v,2),p=f[0],E=f[1],h=Object(n.useRef)(l),g=Object(n.useRef)(i),b=Object(n.useState)("system"===d.type),N=Object(O.a)(b,2),y=N[0],w=N[1],x=Object(n.useState)(l),j=Object(O.a)(x,2),k=j[0],R=j[1],T=Object(n.useMemo)((function(){return c.map((function(e){return{value:e.id,label:e.title}}))}),[]),L=function(){var e=Object(C.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P.getVehicleOffice(a,t));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),D=function(e,a,t,n){var r=n&&a?c.filter((function(e){return e.id===a}))[0]:e.office;return t&&void 0!==t.work_time_enabled&&void 0!==t.working_time&&(r=Object(u.a)(Object(u.a)({},r),t)),Object(u.a)(Object(u.a)({},e),{},{office:r,address:n&&r.address?r.address:e.address,lat:n&&r.lat?r.lat:e.lat,lng:n&&r.lng?r.lng:e.lng})},I=function(){var e=Object(C.a)(S.a.mark((function e(a){var t,n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.value){e.next=3;break}return e.abrupt("return");case 3:return n=Object(u.a)({},d),e.prev=4,e.next=7,L({office_id:+t});case 7:r=e.sent,n=D(d,+t,r.data.data,y),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.warn("Office working times are not received"),n=D(d,+t,null,y);case 15:_(n),k?(E(n),s(n,n)):s(n,p);case 17:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(a){return e.apply(this,arguments)}}(),A=function(){var e=Object(C.a)(S.a.mark((function e(a){var t,n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=a.value)&&!k){e.next=3;break}return e.abrupt("return");case 3:return n=Object(u.a)({},p),e.prev=4,e.next=7,L({office_id:+t});case 7:r=e.sent,n=D(p,+t,r.data.data,y),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.warn("Office working times are not received"),n=D(p,+t,null,y);case 15:E(n),s(d,n);case 17:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(a){return e.apply(this,arguments)}}(),B=function(){var e=Object(C.a)(S.a.mark((function e(a,t,n){var r,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(u.a)(Object(u.a)({},d),{},{address:n,lat:a,lng:t}),e.prev=1,e.next=4,L({lat:a,lng:t,address:n});case 4:c=e.sent,r=D(r,null,c.data.data,y),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.warn("Office working times are not received"),r=D(r,null,null,y);case 12:_(r),k?(E(r),s(r,r)):s(r,p);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a,t,n){return e.apply(this,arguments)}}(),F=function(){var e=Object(C.a)(S.a.mark((function e(a,t,n){var r,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=2;break}return e.abrupt("return");case 2:return r=Object(u.a)(Object(u.a)({},p),{},{address:n,lat:a,lng:t}),e.prev=3,e.next=6,L({lat:a,lng:t,address:n});case 6:c=e.sent,r=D(r,null,c.data.data,y),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.warn("Office working times are not received"),r=D(r,null,null,y);case 14:E(r),s(d,r);case 16:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(a,t,n){return e.apply(this,arguments)}}(),q=function(){var e=Object(C.a)(S.a.mark((function e(a){var t,n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w((function(e){return!e})),t=Object(u.a)({},d),n=Object(u.a)({},p),e.prev=3,e.next=6,Promise.all([L(y?{lat:t.lat,lng:t.lng,addres:t.address}:{office_id:String(t.office.id)}),L(y?{lat:n.lat,lng:n.lng,addres:n.address}:{office_id:String(n.office.id)})]);case 6:r=e.sent,t=D(t,t.office.id,r[0].data.data,!y),n=D(n,n.office.id,r[1].data.data,!y),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),console.warn("Office working times are not received"),t=D(t,t.office.id,null,!y),n=D(n,n.office.id,null,!y);case 16:_(t),E(n),s(t,n);case 19:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:ma.a.container},y?r.a.createElement(ua,{name:"location_from",value:{value:d.office.id,label:d.office.title},onChange:I,options:T}):r.a.createElement(da,{name:"location_from",value:d.address,onChange:B}),r.a.createElement("div",{className:"column__row"},g.current&&r.a.createElement(Xa,{check:!y,labelContent:"Custom location",labelClassName:ma.a.checkbox__label,name:"custom_location",disabled:!g.current,onCheck:q}),r.a.createElement(Xa,{check:k,labelContent:"Same return",labelClassName:ma.a.checkbox__label,name:"same_return",disabled:h.current,onCheck:function(e){R((function(e){return!e})),s(d,k?p:d)}})),!k&&(y?r.a.createElement(ua,{name:"location_to",value:{value:p.office.id,label:p.office.title},onChange:A,options:T}):r.a.createElement(da,{name:"location_to",value:p.address,onChange:F})))},va=function(e){var a=e.center,t=e.marker,c=void 0!==t&&t,l=Object(n.useRef)(null),i=Object(n.useRef)(null),s=Object(n.useRef)(null);return Object(n.useEffect)((function(){null!==l.current&&(i.current=new google.maps.Map(l.current,{zoom:15,center:{lat:0,lng:0}}),c&&(s.current=new google.maps.Marker({position:{lat:0,lng:0}}),s.current.setMap(i.current)))}),[]),Object(n.useEffect)((function(){null!==i.current&&a&&(i.current.setCenter(a),c&&s.current&&s.current.setPosition(a))}),[a,c]),a?r.a.createElement("div",{ref:l,style:{width:"100%",height:"100%"}}):null},fa=t(72),pa=t.n(fa),Ea=[{title:"Reservation",link:"/reservations"},{title:"Payments",link:"/payments"},{title:"My account",link:"/account"}],ha=function(){var e=Object(i.d)();return r.a.createElement("ul",{className:pa.a.list},Ea.map((function(e){var a=e.title,t=e.link;return r.a.createElement("li",{key:a},r.a.createElement(g.c,{to:t,className:pa.a.link,activeClassName:pa.a.active},a))})),r.a.createElement("li",{key:"Exit"},r.a.createElement("button",{type:"button",className:pa.a.link,onClick:function(a){e({type:"LOGOUT"})}},"Exit")))},ga=t(142),ba=t.n(ga),Na=t(143),ya=t.n(Na),wa=function(e){var a=e.count_pages,t=e.per_page,n=e.page,c=re().updateLocationSearch;return a?r.a.createElement("div",{className:ya.a.pagination},r.a.createElement(ba.a,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",pageCount:a,forcePage:--n,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){c([{name:"page",value:++e.selected},{name:"per_page",value:t}])},containerClassName:"pagination",activeClassName:"active"})):null},Oa=t(150),xa=t(145),ja=t(144),ka=t.n(ja),Sa=function(e){var a=e.date,t=e.className,n=!!a,c=!!n&&Object(xa.a)(new Date(ie(a)));return r.a.createElement("div",{className:t},r.a.createElement("div",{className:"label"},c?"Your order has started: ":"Time to start rental: "),r.a.createElement("div",{className:Ue()("".concat(ka.a["time-left"]," time-left"),{"time-left--red":c})},n?Object(Oa.a)(new Date(ie(a)),{addSuffix:!0}):"---"))},Ca=t(63),Ra=t.n(Ca),Ta=function(e){var a=e.icon,t=e.value,n=e.isTransmission,c=null;return void 0!==n&&n&&(c=String(t).match(/^([\s\S]*?)\s*\(([\s\S]*?)\)/i)),r.a.createElement("div",{className:Ra.a.param,"data-tip":c?c[1]:null},r.a.createElement("i",{className:"fico fico-".concat(a)}),c?c[2]:t)},La=t(5),Da=t.n(La),Ia=function(e){var a=e.reservation,t=e.loading,n=re().setLocationSearch,c=a.currency,l=a.date_from,i=a.date_to,s=a.id,o=a.insurance,m=a.location_from,u=a.location_to,d=a.mileage_limit,_=a.necessary_actions,v=a.prices,f=a.status,p=a.type,E=a.unique_number,h=a.vehicle,g=p.toLowerCase(),b=f.toLowerCase(),N="reject"===b||"cancel"===b,y=h.brand,w=h.mark,O=h.group,x=h.large_bags,j=h.number_seats,k=h.refill,S=h.transmission;return r.a.createElement("div",{className:Ue()(Da.a.reservation,{"is-rejected":N,"is-keyless":"keyless"===g,"is-standard":"standard"===g})},r.a.createElement("div",{className:Da.a.reservation__header},r.a.createElement("span",{className:Da.a.label},"Reservation: ",r.a.createElement("span",{className:Da.a.number},E)),r.a.createElement("div",{className:Da.a.status},r.a.createElement("span",{className:Da.a.label},"Rental type:"," ",r.a.createElement("span",{className:Da.a["type-val"],onClick:function(e){n([{name:"type",value:g}])}},le(p))),r.a.createElement("span",{className:Da.a.label},"Status:"," ",r.a.createElement("span",{className:Da.a["status-val"],onClick:function(e){n([{name:"reserved_status",value:b}])}},le(f))))),r.a.createElement("div",{className:Da.a.reservation__body},r.a.createElement("div",{className:Da.a.side},r.a.createElement("div",{className:Da.a.vehicle},r.a.createElement("div",{className:Da.a.vehicle__info},r.a.createElement("div",{className:Da.a.vehicle__img},r.a.createElement("img",{src:h.thumbnail,alt:""})),r.a.createElement("div",{className:Da.a.vehicle__group},O),r.a.createElement("div",{className:Da.a.vehicle__title},y," ",w),r.a.createElement("div",{className:Da.a.vehicle__similar},"or similar")),r.a.createElement("div",{className:Da.a.vehicle__info},(j||x)&&r.a.createElement("div",{className:Ra.a.vp__group},j&&r.a.createElement(Ta,{icon:"driver",value:j}),x&&r.a.createElement(Ta,{icon:"profile",value:x})),S.name&&r.a.createElement(Ta,{icon:"transmission",value:S.name,isTransmission:!0}),d&&r.a.createElement(Ta,{icon:"gauge",value:d}),k&&r.a.createElement(Ta,{icon:"gas-station2",value:k})))),r.a.createElement("div",{className:Da.a.side},r.a.createElement("div",{className:Da.a.details},r.a.createElement("div",{className:"".concat(Da.a.details__column," ").concat(Da.a["details__column--mob"])},r.a.createElement("div",{className:Da.a["mob-flex"]},r.a.createElement("div",{className:Da.a.label},"Pick Up"),r.a.createElement(Ie,{date:l,location:"custom"===m.type?m.address:m.office.title})),r.a.createElement("div",{className:Da.a["mob-flex"]},r.a.createElement("div",{className:Da.a.label},"Return"),r.a.createElement(Ie,{date:i,location:"custom"===u.type?u.address:u.office.title}))),r.a.createElement("div",{className:Da.a.details__column},r.a.createElement("div",{className:Da.a.label},"Rental period"," ",Object(Ae.a)(new Date(ie(i)),new Date(ie(l)),{unit:"day",roundingMethod:"ceil"})),r.a.createElement("div",{className:Da.a.label},"Extras"),r.a.createElement("p",{className:Da.a.extras},o.name,"\xa0INSURNCE with ",o.damage_excess,"\xa0",c.symbol," ","Excess"),r.a.createElement("div",{className:Da.a.details__group},r.a.createElement("div",{className:Da.a["details__group-item"]},r.a.createElement("div",{className:Da.a.label},"Subtotal:"),r.a.createElement("div",{className:Da.a.price},v.total,"\xa0",c.symbol)),r.a.createElement("div",{className:Da.a["details__group-item"]},r.a.createElement("div",{className:Da.a.label},"Paid:"),r.a.createElement("div",{className:Da.a.price},v.paid,"\xa0",c.symbol)))))),t&&r.a.createElement(Ee.a,{width:"100%",height:"100%",className:Da.a.reservation__loading})),r.a.createElement("div",{className:Da.a.reservation__footer},!N&&"done"!==b&&r.a.createElement("div",{className:Da.a["reservation__bottom-info"]},r.a.createElement(Sa,{date:l,className:Da.a["rental-time"]}),r.a.createElement(Ua,{className:Da.a.reservation__todo,actions:_})),r.a.createElement("div",{className:Da.a.reservation__btns},r.a.createElement(aa,{text:"Detail",to:"/reservations/".concat(s),disabled:t}),!N&&"done"!==b&&"keyless"===g&&r.a.createElement(Ka,{text:"Start rental",color:"green",disabled:t,onClick:function(){}}))),r.a.createElement(V.a,null))},Aa=function(e){var a=e.loading,t=void 0!==a&&a,n=e.reservations;return r.a.createElement("div",{className:na.a.list},t&&0===n.length?r.a.createElement(ot,null):n.map((function(e){return r.a.createElement(Ia,{key:e.id,reservation:e,loading:t})})))},Ba=function(e){var a=e.preview,t=void 0===a?"":a,c=e.onConfirm,l=Object(n.useState)(!!t),i=Object(O.a)(l,2),s=i[0],o=i[1],m=function(){o(!1)},u=oe({onDraw:m}),d=u.signRef,_=u.clearSignature,v=u.confirmSignature;return r.a.createElement("div",{className:ge.a.sign},r.a.createElement("div",{className:ge.a.sign__field},s&&r.a.createElement("img",{className:ge.a.sign__preview,src:t,alt:""}),r.a.createElement("canvas",{ref:d})),r.a.createElement("div",{className:"".concat(ge.a.sign__controls," rs-modal__controls")},r.a.createElement(Ka,{text:"Clear",onClick:function(e){_(),m()}}),r.a.createElement(Ka,{text:"Confirm",onClick:function(e){v((function(e,a){c&&c(e,a)}))}})))},Pa=t(45),Fa=t.n(Pa),qa=function(){var e=h((function(e){return e.reservations.reservation})),a=e.extras_data,t=e.prices,n=e.currency,c=a.taxes,l=c.vehicle,i=c.taxesTotal;return r.a.createElement("div",{className:"card ai-end"},r.a.createElement("div",{className:"column column--last ".concat(Fa.a.column)},r.a.createElement("div",{className:"column__row jc-sb ai-c ".concat(Fa.a.row)},r.a.createElement("span",null,l.name),r.a.createElement("div",{className:"price"},i,"\xa0",n.symbol)),r.a.createElement("div",{className:"column__row jc-sb ai-c ".concat(Fa.a.row)},r.a.createElement("span",{className:"label-title ".concat(Fa.a["label-title"])},"Subtotal:"),r.a.createElement("div",{className:"price bold"},t.total,"\xa0",n.symbol))))},Ma=t(73),Va=t.n(Ma),Ua=function(e){var a=e.actions,t=e.className,n=Object.keys(a);return r.a.createElement("div",{className:"".concat(Va.a.container).concat(t?" ".concat(t):"")},r.a.createElement("div",{className:"".concat(Va.a.label," todo__label")},function(e){switch(e){case 0:case void 0:return"";case 1:return"Necessary 1 action:";default:return"Necessary ".concat(e," actions:")}}(n.length)),r.a.createElement("div",{className:"".concat(Va.a.actions," todo__actions")},n.map((function(e,t){return r.a.createElement("span",{key:e,className:Va.a.action},a[e])}))))},Ga=t(11),za=t.n(Ga),Ha=function(e){var a=e.vehicle,t=e.mileage_limit,n=a.large_bags,c=a.number_seats,l=a.refill,i=a.transmission,s=a.group,o=a.brand,m=a.mark,u=a.thumbnail;return r.a.createElement("div",{className:"column ".concat(za.a.vehicle)},r.a.createElement("div",{className:za.a.vehicle__info},r.a.createElement("div",{className:za.a.vehicle__img},r.a.createElement("img",{src:u,alt:"".concat(o," ").concat(m)})),r.a.createElement("div",{className:za.a.vehicle__group},s),r.a.createElement("span",{className:za.a.vehicle__title},"".concat(o," ").concat(m," "),r.a.createElement("span",{className:za.a.vehicle__similar},"or similar"))),r.a.createElement("div",{className:za.a.vehicle__info},(i.name||n||c)&&r.a.createElement("div",{className:Ra.a.vp__group},i.name&&r.a.createElement(Ta,{icon:"transmission",value:i.name,isTransmission:!0}),c&&r.a.createElement(Ta,{icon:"driver",value:c}),n&&r.a.createElement(Ta,{icon:"profile",value:n})),t&&r.a.createElement(Ta,{icon:"gauge",value:t}),l&&r.a.createElement(Ta,{icon:"gas-station2",value:l})))},Ya=function(e){var a=e.reservation,t=e.onSave,c=Object(i.d)(),l=Object(n.useState)(!1),s=Object(O.a)(l,2),o=s[0],m=s[1],u=a.location_from,d=a.location_to,_=a.date_from,v=a.date_to,f=a.vehicle,p=Object(n.useState)([u,d]),E=Object(O.a)(p,2),h=E[0],g=E[1],b=Object(n.useState)([_,v]),N=Object(O.a)(b,2),y=N[0],w=N[1],x=Object(n.useState)([]),j=Object(O.a)(x,2),k=j[0],R=j[1];Object(n.useEffect)((function(){Object(C.a)(S.a.mark((function e(){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.getVehicleBusyDates(f.id);case 3:(a=e.sent).data.status&&R(a.data.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[f.id]);return r.a.createElement("div",{className:"".concat(za.a["ld-edit"]," column__body")},r.a.createElement("div",{className:"column__row"},r.a.createElement("div",{className:za.a["ld-edit__dates"]},r.a.createElement(Te,{initialDates:y,availableTimes:[h[0].office.work_time_enabled?h[0].office.working_time:null,h[1].office.work_time_enabled?h[1].office.working_time:null],disabledDates:k,onChange:function(e,a){w([e,a])}})),r.a.createElement("div",{className:"column"},r.a.createElement(_a,{vehicleID:f.id,initialLocations:h,availableLocations:f.available_locations,sameReturn:f.same_return,customLocation:!1,onChange:function(e,a){g([e,a])}}))),r.a.createElement("div",{className:"column__row ".concat(za.a["map-row"])},r.a.createElement("div",{className:"column"},r.a.createElement(Sa,{date:y[0]})),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:za.a["map-place"]},r.a.createElement(va,{center:{lat:h[0].lat,lng:h[0].lng},marker:!0})))),r.a.createElement("div",{className:"card__actions ".concat(za.a.actions)},r.a.createElement(Ka,{text:"Save",size:"small",onClick:function(e){if(!o){m(!0);var a,n,r,l=Object(O.a)(y,2),s=l[0],u=l[1],d=Object(O.a)(h,2),_=d[0],v=d[1];c((a={date_from:s,date_to:u,pickup_location:_.address,return_location:v.address},n=function(){m(!1),t()},r=function(){m(!1)},function(){var e=Object(C.a)(S.a.mark((function e(t,c){var l,s,o;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=c().reservations,s=l.reservation,!l.loading&&s){e.next=3;break}return e.abrupt("return");case 3:return t(z(!0)),e.prev=4,e.next=7,P.putReservation(s.id,a);case 7:(o=e.sent).data.status&&(Object(i.b)((function(){t(Y(o.data.data)),t(z(!1))})),V.a.rebuild(),n&&n()),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(4),console.error(e.t0),t(z(!1)),r&&r(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(a,t){return e.apply(this,arguments)}}()))}},loading:o})))},Ja=function(e){var a=e.reservation,t=e.changeLocation,c=ae(["(max-width: 575px)"],["xs"],"l"),l=a.location_from,i=a.location_to,s=a.date_from,o=a.date_to,u=a.status.toLowerCase(),d="cancel"!==u&&"reject"!==u&&"done"!==u,_=function(e){var a=e.location_from,t=e.location_to,r=Object(n.useState)(!1),c=Object(O.a)(r,2),l=c[0],i=c[1],s=l?t:a,o=s.lat,m=s.lng;return{mapCenter:o&&m?{lat:o,lng:m}:void 0,showPickupLocation:function(){i(!1)},showReturnLocation:function(){i(!0)}}}(a),v=_.mapCenter,f=_.showPickupLocation,p=_.showReturnLocation,E=function(e){t()},h=function(){return r.a.createElement("div",{className:"card__actions ".concat(za.a.actions)},r.a.createElement(Ka,{text:"Change",size:"small",onClick:E}),r.a.createElement(me,null))};return r.a.createElement("div",{className:"column__row jc-fs ai-fs column__body"},r.a.createElement("div",{className:za.a["dl-cotainer"]},r.a.createElement("div",{className:za.a["dl-item"]},r.a.createElement("div",{className:"label"},"Pick Up"),r.a.createElement(Ie,{date:s,location:"custom"===l.type?l.address:l.office.title,onLocationClick:f})),r.a.createElement("div",{className:za.a["dl-item"]},r.a.createElement("div",{className:"label"},"Return"),r.a.createElement(Ie,{date:o,location:"custom"===i.type?i.address:i.office.title,onLocationClick:p})),d&&"l"===c&&h()),r.a.createElement("div",{className:"column column--last"},d&&r.a.createElement(Sa,{date:s}),r.a.createElement("div",{className:Ue()(za.a["map-place"],Object(m.a)({},za.a["map-place--mt"],d))},r.a.createElement(va,{center:v,marker:!0}))),d&&"xs"===c&&h())},Qa=function(){var e=h((function(e){return e.reservations.reservation})),a=ae(["(max-width: 767px)"],["s"],"l"),t=Z(),n=t.open,c=t.openCard,l=t.closeCard,i=e.unique_number,s=e.status,o=e.type,u=e.vehicle,d=e.mileage_limit,_=function(){return r.a.createElement("div",{className:"".concat(za.a["reserve-info"]," mob-full")},r.a.createElement("div",{className:"label"},"Reservation:"),r.a.createElement("div",{className:za.a["reserve-num"]},i))};return r.a.createElement("div",{className:"card ".concat(za.a.vc)},"s"===a&&_(),r.a.createElement(Ha,{vehicle:u,mileage_limit:d}),r.a.createElement("div",{className:"column column--2"},r.a.createElement("div",{className:"column__row jc-fs ai-fs column__head"},"l"===a&&_(),r.a.createElement("div",{className:za.a["reserve-info"]},r.a.createElement("div",{className:"label"},"Retal type:"),r.a.createElement("div",{className:za.a["reserve-type"]},le(o)," ",r.a.createElement(Xe,{text:"Some text"}))),r.a.createElement("div",{className:Ue()(za.a["reserve-info"],Object(m.a)({},za.a["reserve-info--status"],"l"===a))},r.a.createElement("div",{className:"label"},"Status:"),r.a.createElement("div",{className:za.a["reserve-status"]},le(s)))),n?r.a.createElement(Ya,{reservation:e,onSave:l}):r.a.createElement(Ja,{reservation:e,changeLocation:c})))},Ka=function(e){var a,t=e.className,n=void 0===t?"":t,c=e.text,l=e.color,i=void 0===l?"":l,s=e.size,o=e.onClick,u=e.disabled,d=void 0!==u&&u,_=e.type,v=void 0===_?"button":_,f=e.loading,p=void 0!==f&&f;return r.a.createElement("button",{className:Ue()(ea.a.button,(a={},Object(m.a)(a,ea.a.small,"small"===s),Object(m.a)(a,ea.a[i],!!i),Object(m.a)(a,n,!!n),a)),type:v,onClick:o,disabled:d},c,p&&r.a.createElement(Ee.a,{className:ea.a.button__loader}))},Wa=t(95),Za=t.n(Wa),Xa=function(e){var a=e.check,t=e.className,n=e.disabled,c=void 0!==n&&n,l=e.labelClassName,i=e.labelContent,s=e.name,o=e.onCheck;return r.a.createElement("div",{className:"".concat(Za.a.container).concat(t?" ".concat(t):"")},r.a.createElement("input",{className:Za.a.checkbox,type:"checkbox",name:s,id:s,disabled:c,checked:a,onChange:o}),r.a.createElement("label",{htmlFor:s,className:"".concat(Za.a.label).concat(l?" ".concat(l):"")},i))},$a=t(14),et=t(148),at=t(146),tt=t.n(at),nt=function(e){var a=e.className,t=void 0===a?"":a,n=e.id,c=e.isSearchable,l=void 0!==c&&c,i=e.name,s=e.onChange,o=e.options,m=e.placeholder,u=void 0===m?"":m,d=e.value,_=e.withIcon,v=void 0!==_&&_;return r.a.createElement(et.a,{className:"".concat(tt.a.select," ").concat(t),classNamePrefix:"rs",isSearchable:l,onChange:function(e){s(e,i)},components:v?{SingleValue:function(e){return r.a.createElement($a.z.SingleValue,e,r.a.createElement("img",{src:e.data.icon,alt:""}),e.data.label)},Option:function(e){return r.a.createElement($a.z.Option,e,r.a.createElement("img",{src:e.data.icon,alt:""}),e.data.label)}}:void 0,options:o,placeholder:u,value:d,inputProps:{id:n}})},rt=function(){return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"column"}),r.a.createElement("div",{className:"column column--2"},r.a.createElement("div",{className:"column__row jc-fe ai-fs ".concat(za.a.btns)},r.a.createElement(Ee.a,{width:120,height:37}),r.a.createElement(Ee.a,{width:120,height:37,style:{marginLeft:"15px"}}))))},ct=function(){return r.a.createElement("div",{className:"card ".concat(_e.a.bc)},r.a.createElement("div",{className:"column column--title"},r.a.createElement("div",{className:"card__title"},"Billing information"),r.a.createElement(Ee.a,{width:70,height:14,style:{display:"block",marginTop:"15px"}}),r.a.createElement(Ee.a,{width:70,height:14,style:{display:"block",marginTop:"14px"}})),r.a.createElement("div",{className:"column"},r.a.createElement(Ee.a,{width:90,height:12,style:{display:"block",marginBottom:"7px"}}),r.a.createElement(Ee.a,{width:183,height:38})),r.a.createElement("div",{className:"column column--last"},r.a.createElement("div",{className:"column__row jc-sb ai-b"},r.a.createElement(Ee.a,{width:30,height:12,style:{marginBottom:"12px"}}),r.a.createElement(Ee.a,{width:100,height:18})),r.a.createElement("div",{className:"column__row ".concat(_e.a.sign__row)},r.a.createElement("div",{className:_e.a.sign__place},r.a.createElement(Ee.a,{width:"100%",height:"100%"})))))},lt=function(){return r.a.createElement("div",{className:Pe.a.driver},r.a.createElement("div",{className:Pe.a.driver__name}),r.a.createElement(Ee.a,{width:180,height:14}),r.a.createElement("div",{className:Pe.a.driver__docs},r.a.createElement(Ee.a,{width:85,height:30,count:2,style:{marginRight:"15px",marginBottom:"10px"}})))},it=function(){return r.a.createElement("div",{className:"card ".concat(ze.a.card)},r.a.createElement("div",{className:"column column--title"},r.a.createElement("div",{className:"column__row ai-c"},r.a.createElement("span",{className:"card__title"},"Extras"))),r.a.createElement("div",{className:"column column--2"},r.a.createElement(Ee.a,{width:65,height:12,style:{display:"block",marginBottom:"7px"}}),r.a.createElement("div",null,r.a.createElement("div",{className:ze.a.item},r.a.createElement("div",{className:ze.a.data},r.a.createElement(Ee.a,{width:170,height:18,style:{display:"block"}})),r.a.createElement(Ee.a,{width:70,height:18}))),r.a.createElement(Ee.a,{width:65,height:12,style:{display:"block",marginBottom:"7px",marginTop:"20px"}}),r.a.createElement("div",null,r.a.createElement("div",{className:ze.a.item},r.a.createElement("div",{className:ze.a.data},r.a.createElement(Ee.a,{width:170,height:18,style:{display:"block"}})),r.a.createElement(Ee.a,{width:70,height:18})))))},st=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{width:125,height:12,className:"label-title",style:{display:"block"}}),r.a.createElement(Ee.a,{width:60,height:18}))},ot=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(mt,null),r.a.createElement(mt,null))},mt=function(){return r.a.createElement("div",{className:Da.a.reservation},r.a.createElement("div",{className:Da.a.reservation__header},r.a.createElement(Ee.a,{width:160,height:14,style:{marginBottom:5,marginRight:15}}),r.a.createElement(Ee.a,{width:285,height:14,style:{marginBottom:5}})),r.a.createElement("div",{className:Da.a.reservation__body},r.a.createElement("div",{className:Da.a.side},r.a.createElement("div",{className:Da.a.vehicle},r.a.createElement("div",{className:Da.a.vehicle__info,style:{width:150}},r.a.createElement("div",{className:Da.a.vehicle__img},r.a.createElement("img",{src:"/img/img-place.svg",alt:"",style:{objectFit:"unset"}})),r.a.createElement(Ee.a,{width:130,height:13,style:{marginTop:10}}),r.a.createElement(Ee.a,{width:150,height:23,style:{marginTop:5}}),r.a.createElement(Ee.a,{width:50,height:11,style:{marginTop:2}})),r.a.createElement("div",{className:Da.a.vehicle__info,style:{width:110}},r.a.createElement(Ee.a,{width:90,height:12}),r.a.createElement(Ee.a,{width:90,height:12,count:3,style:{marginTop:10,marginRight:20}})))),r.a.createElement("div",{className:Da.a.side},r.a.createElement("div",{className:Da.a.details},r.a.createElement("div",{className:"".concat(Da.a.details__column," ").concat(Da.a["details__column--mob"])},r.a.createElement("div",{className:Da.a["mob-flex"]},r.a.createElement(Ee.a,{width:120,height:14,style:{marginBottom:10}}),r.a.createElement("div",{className:De.a.container},r.a.createElement(Ee.a,{width:33,height:38,style:{marginRight:7}}),r.a.createElement("div",null,r.a.createElement(Ee.a,{width:80,height:12,style:{display:"block"}}),r.a.createElement(Ee.a,{width:80,height:12,style:{display:"block",marginTop:5}})))),r.a.createElement("div",{className:Da.a["mob-flex"]},r.a.createElement(Ee.a,{width:120,height:14,style:{marginBottom:10}}),r.a.createElement("div",{className:De.a.container},r.a.createElement(Ee.a,{width:33,height:38,style:{marginRight:7}}),r.a.createElement("div",null,r.a.createElement(Ee.a,{width:80,height:12,style:{display:"block"}}),r.a.createElement(Ee.a,{width:80,height:12,style:{display:"block",marginTop:5}}))))),r.a.createElement("div",{className:Da.a.details__column},r.a.createElement(Ee.a,{width:180,height:14}),r.a.createElement("div",null,r.a.createElement(Ee.a,{width:50,height:14,style:{marginTop:8,marginBottom:10}})),r.a.createElement(Ee.a,{width:180,height:14,count:2}),r.a.createElement("div",{className:Da.a.details__group},r.a.createElement("div",{className:Da.a["details__group-item"],style:{width:70}},r.a.createElement(Ee.a,{width:60,height:14,style:{marginBottom:10}}),r.a.createElement(Ee.a,{width:70,height:18})),r.a.createElement("div",{className:Da.a["details__group-item"],style:{width:70}},r.a.createElement(Ee.a,{width:60,height:14,style:{marginBottom:10}}),r.a.createElement(Ee.a,{width:70,height:18}))))))),r.a.createElement("div",{className:Da.a.reservation__footer},r.a.createElement("div",{className:Da.a["reservation__bottom-info"]},r.a.createElement(Ee.a,{width:200,height:14,style:{display:"block",marginTop:10,marginRight:15}}),r.a.createElement(Ee.a,{width:270,height:14,style:{display:"block",marginTop:10,marginRight:15}})),r.a.createElement("div",{className:Da.a.reservation__btns},r.a.createElement(Ee.a,{width:130,height:37}),r.a.createElement(Ee.a,{width:130,height:37}))))},ut=function(){return r.a.createElement("div",{className:"card ai-end"},r.a.createElement("div",{className:"column column--last ".concat(Fa.a.column)},r.a.createElement("div",{className:"column__row jc-sb ai-c ".concat(Fa.a.row)},r.a.createElement(Ee.a,{width:35,height:18}),r.a.createElement(Ee.a,{width:60,height:18})),r.a.createElement("div",{className:"column__row jc-sb ai-c ".concat(Fa.a.row)},r.a.createElement(Ee.a,{width:60,height:18}),r.a.createElement(Ee.a,{width:90,height:18}))))},dt=function(){var e=ae(["(max-width: 575px)","(max-width: 767px)"],["xs","s"],"l"),a=function(){return r.a.createElement("div",{className:"".concat(za.a["reserve-info"]," mob-full")},r.a.createElement("div",{className:"label",style:{verticalAlign:"bottom",marginRight:"10px"}},r.a.createElement(Ee.a,{width:70,height:13})),r.a.createElement(Ee.a,{width:80,height:24}))},t=function(){return r.a.createElement("div",{className:"card__actions ".concat(za.a.actions)},r.a.createElement(Ee.a,{width:72,height:20}),r.a.createElement(Ee.a,{width:72,height:20}))};return r.a.createElement("div",{className:"card ".concat(za.a.vc)},"l"!==e&&a(),r.a.createElement("div",{className:"column ".concat(za.a.vehicle)},r.a.createElement("div",{className:za.a.vehicle__info},r.a.createElement("div",{className:za.a.vehicle__img},r.a.createElement("img",{src:"/img/img-place.svg",alt:"",style:{objectFit:"unset"}})),r.a.createElement("div",{className:za.a.vehicle__group},r.a.createElement(Ee.a,{width:180,height:14})),r.a.createElement("span",{className:za.a.vehicle__title},r.a.createElement(Ee.a,{width:180,height:46}))),r.a.createElement("div",{className:za.a.vehicle__info},r.a.createElement(Ee.a,{width:180,height:12,style:{display:"block",marginTop:5}}),r.a.createElement(Ee.a,{width:100,height:12,count:2,style:{display:"block",marginTop:10}}))),r.a.createElement("div",{className:"column column--2"},r.a.createElement("div",{className:"column__row jc-fs ai-fs column__head"},"l"===e&&a(),r.a.createElement("div",{className:za.a["reserve-info"]},r.a.createElement("div",{className:"label"},r.a.createElement(Ee.a,{width:70,height:13})),r.a.createElement(Ee.a,{width:100,height:24})),r.a.createElement("div",{className:Ue()(za.a["reserve-info"],Object(m.a)({},za.a["reserve-info--status"],"l"===e))},r.a.createElement("div",{className:"label"},r.a.createElement(Ee.a,{width:70,height:13})),r.a.createElement(Ee.a,{width:100,height:24}))),r.a.createElement("div",{className:"column__row jc-fs ai-fs column__body"},r.a.createElement("div",{className:za.a["dl-cotainer"]},r.a.createElement("div",{className:za.a["dl-item"]},r.a.createElement(Ee.a,{width:120,height:13,style:{marginBottom:10}}),r.a.createElement("div",{className:De.a.container},r.a.createElement(Ee.a,{width:33,height:38,style:{marginRight:7}}),r.a.createElement("div",null,r.a.createElement(Ee.a,{width:80,height:11,style:{display:"block"}}),r.a.createElement(Ee.a,{width:80,height:12,style:{display:"block",marginTop:5}})))),r.a.createElement("div",{className:za.a["dl-item"]},r.a.createElement(Ee.a,{width:120,height:13,style:{marginBottom:10}}),r.a.createElement("div",{className:De.a.container},r.a.createElement(Ee.a,{width:33,height:38,style:{marginRight:7}}),r.a.createElement("div",null,r.a.createElement(Ee.a,{width:80,height:11,style:{display:"block"}}),r.a.createElement(Ee.a,{width:80,height:12,style:{display:"block",marginTop:5}})))),"xs"!==e&&t()),r.a.createElement("div",{className:"column column--last"},r.a.createElement(Ee.a,{width:180,height:13,style:{marginBottom:10}}),r.a.createElement(Ee.a,{width:180,height:18}),r.a.createElement(Ee.a,{width:220,height:124,style:{marginTop:15}})),"xs"===e&&t())))},_t=t(35),vt=t.n(_t),ft=function(){var e=ee({email:""}),a=e.values,t=e.errors,n=e.onSubmitForm,c=e.onValueChange,l=e.onFocus;return r.a.createElement("form",{className:vt.a.form,onSubmit:n},r.a.createElement("div",{className:Ue()(vt.a.input__wrap,Object(m.a)({},vt.a.error,!!t.email))},t.email&&r.a.createElement("div",{className:vt.a.input__error},r.a.createElement("span",null,t.email)),r.a.createElement("input",{className:vt.a.input,type:"email",name:"email",value:a.email,onChange:c,onFocus:l,placeholder:"email"})),r.a.createElement("div",{className:vt.a.form__buttons},r.a.createElement(Ka,{type:"submit",text:"Sign in",color:"green"})))},pt=function(){var e=h((function(e){return e.auth}),i.c).mailIsSended;return r.a.createElement("div",{className:vt.a.wrapper},e&&r.a.createElement("p",{className:vt.a.info},"\u0412\u0430\u043c \u0432\u044b\u0441\u043b\u0430\u043d\u0430 \u0441\u0441\u044b\u043b\u043a\u0430 \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0430 \u0432 \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442. ",r.a.createElement("br",null)," \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u0432\u043e\u044e \u043f\u043e\u0447\u0442\u0443."),r.a.createElement("div",{className:vt.a.inner},r.a.createElement("h1",{className:vt.a.title},"Sign in"),r.a.createElement(ft,null)))},Et=function(){var e=Object(b.h)().search,a=h((function(e){return e.reservations})),t=a.filters,c=a.data,l=a.loading,s=Object(i.d)(),o=c.reservations,m=c.pagination;return Object(n.useEffect)((function(){var a;s((a=e,function(){var e=Object(C.a)(S.a.mark((function e(t){var n,r,c,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(i.b)((function(){t(z(!0)),t({type:"UPDATE_FILTERS",payload:G.a.parse(a)})})),e.prev=1,e.next=4,P.getReservations(a);case 4:(n=e.sent).data.status&&(r=n.data.data,c=r.items,l=r.pagination,Object(i.b)((function(){t({type:"SET_RESERVATIONS",payload:{reservations:c,pagination:l}}),t(z(!1))})),V.a.rebuild()),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),t(z(!1));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}())),window.scroll(0,0)}),[e,s]),r.a.createElement("div",{className:"page-content"},r.a.createElement(ca,{total:m.total_count,filters:t}),r.a.createElement(Aa,{loading:l,reservations:o}),r.a.createElement(wa,m))},ht=t(147),gt=t.n(ht),bt=function(){var e=Object(b.i)().id,a=ne(e).reservation;Object(n.useEffect)((function(){window.scroll(0,0)}),[]);var t=a&&a.id===+e,c=a&&a.type.toLowerCase(),l=a&&a.status.toLowerCase(),i="reject"===l||"cancel"===l;return r.a.createElement("div",{className:"page-content"},r.a.createElement("div",{className:Ue()(gt.a.reservation,{"is-rejected":i,"is-keyless":"keyless"===c,"is-standard":"standard"===c})},t?r.a.createElement(Qa,null):r.a.createElement(dt,null),r.a.createElement(Me,null),t&&a.extras_data?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ke,null),r.a.createElement(qa,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(it,null),r.a.createElement(ut,null)),t&&a.payment_methods?r.a.createElement(Ne,null):r.a.createElement(ct,null),t?r.a.createElement(r.a.Fragment,null,i&&r.a.createElement(ue,null),r.a.createElement(w,null)):r.a.createElement(rt,null),r.a.createElement(V.a,null)))},Nt=function(){return r.a.createElement("div",{className:"overlay"},r.a.createElement(pt,null))},yt=function(){var e,a=Object(b.h)().search,t=G.a.parse(a).token,c=Object(i.d)(),l=Object(n.useRef)((e=t,Array.isArray(e)?e.find((function(e){return!!e})):e));return Object(n.useEffect)((function(){l.current&&c(function(e){return function(){var a=Object(C.a)(S.a.mark((function a(t,n){return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!n().auth.loading){a.next=3;break}return a.abrupt("return");case 3:return t(F(!0)),a.prev=4,a.next=7,P.postLogin(e);case 7:Object(i.b)((function(){t({type:"LOGIN"}),t(F(!1))})),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(4),t(F(!1)),window.location.href="/login";case 14:case"end":return a.stop()}}),a,null,[[4,10]])})));return function(e,t){return a.apply(this,arguments)}}()}(l.current))}),[c]),l.current?r.a.createElement(sa,null):r.a.createElement(b.a,{to:"/login"})},wt=function(){return r.a.createElement("div",{className:"container"},r.a.createElement(ha,null),r.a.createElement(b.d,null,r.a.createElement(b.b,{exact:!0,path:"/reservations/:id",component:bt}),r.a.createElement(b.b,{exact:!0,path:"/reservations",component:Et}),r.a.createElement(b.a,{exact:!0,from:"/(login)?",to:"/reservations"})))},Ot=function(){return r.a.createElement(b.d,null,r.a.createElement(b.b,{exact:!0,path:"/",component:yt}),r.a.createElement(b.b,{exact:!0,path:"/login",component:Nt}),r.a.createElement(b.a,{to:"/login"}))},xt=function(){var e=h((function(e){return e.auth}),i.c).isLoggedIn;return r.a.createElement(g.a,null,e?r.a.createElement(wt,null):r.a.createElement(Ot,null))};t(259);l.a.render(r.a.createElement(i.a,{store:E},r.a.createElement(xt,null)),document.getElementById("rentsyst_personal"))},28:function(e,a,t){e.exports={container:"dl_container__2ZBt6",date:"dl_date__31IM3",month:"dl_month__1sV_t",day:"dl_day__3s_gy",year:"dl_year__3YlXg",location:"dl_location__1SeYS",time:"dl_time__2Yqkq"}},29:function(e,a,t){e.exports={dc:"dc_dc__1El2q",driver:"dc_driver__3Vz1J",driver__name:"dc_driver__name__2UtEP",driver__docs:"dc_driver__docs__KwPIF",driver__doc:"dc_driver__doc__14g5u","driver__doc-label":"dc_driver__doc-label__2QIfA","driver__doc-num":"dc_driver__doc-num__TPuqC","column--drivers":"dc_column--drivers__2d1eV"}},34:function(e,a,t){e.exports={container:"le_container__1MJ3p","control-wrap":"le_control-wrap__3d0d4",input:"le_input__19pSM",select:"le_select__1wNeC","control-wrap--input":"le_control-wrap--input__2jo0y","control-wrap--select":"le_control-wrap--select__32dBE",checkbox__label:"le_checkbox__label__3v6JI"}},35:function(e,a,t){e.exports={wrapper:"login_wrapper__2LSLd",info:"login_info__L9p8l",inner:"login_inner__218vp",title:"login_title__3Ixb4",form:"login_form__2Dw8q",form__buttons:"login_form__buttons__3m_5O",input:"login_input__24m2Y",input__wrap:"login_input__wrap__12bqF",error:"login_error__2Q1kp",input__error:"login_input__error__2XHWQ"}},42:function(e,a,t){e.exports={button:"button_button__mW1Hw","is-disabled":"button_is-disabled__2LY3O",green:"button_green__1axlI",blue:"button_blue__hKBKB",small:"button_small__79cJQ",button__loader:"button_button__loader__3nOP7"}},44:function(e,a,t){e.exports={container:"de_container__3D7ZC",item:"de_item__tSgN7","control-wrap":"de_control-wrap__w4JO-","date-val":"de_date-val__1MaVP",time:"de_time__3hvAl"}},45:function(e,a,t){e.exports={column:"taxes_column__2yHTG","label-title":"taxes_label-title__3qfOd",row:"taxes_row__uMNFf"}},5:function(e,a,t){e.exports={list:"rslist_list__2BvBf",reservation:"rslist_reservation__1ts5e",label:"rslist_label__2Yp8g",reservation__header:"rslist_reservation__header__TOG4M",number:"rslist_number__2e3bs",status:"rslist_status__34VuL","status-val":"rslist_status-val__2kq1d","type-val":"rslist_type-val__1X-0Q",reservation__body:"rslist_reservation__body__3jiuQ",side:"rslist_side__29b4o",reservation__footer:"rslist_reservation__footer__33Cnp","rental-time":"rslist_rental-time__VRMmf","reservation__bottom-info":"rslist_reservation__bottom-info__YdlO5",reservation__todo:"rslist_reservation__todo__EKqSG",reservation__btns:"rslist_reservation__btns__327l1",reservation__loading:"rslist_reservation__loading__1pZZG",vehicle:"rslist_vehicle__5yObC",vehicle__info:"rslist_vehicle__info__pognw",vehicle__img:"rslist_vehicle__img__3wmhf",vehicle__inner:"rslist_vehicle__inner__1f0Ql",vehicle__group:"rslist_vehicle__group__1nVkk",vehicle__title:"rslist_vehicle__title__1e9P5",vehicle__similar:"rslist_vehicle__similar__P39Ew",details:"rslist_details__8LTDh",details__group:"rslist_details__group__39dTM","details__group-item":"rslist_details__group-item__3aagr",details__column:"rslist_details__column__6kl_p","mob-flex":"rslist_mob-flex__oNRha","details__column--mob":"rslist_details__column--mob__1ws5Q",extras:"rslist_extras__8wbwL",price:"rslist_price__dio9c"}},51:function(e,a,t){e.exports={message:"annul_message__3h9Hr",annual__modal:"annul_annual__modal__8PAR3",annual__title:"annul_annual__title__3ck46",annual__text:"annul_annual__text__2u0iZ",annual__error:"annul_annual__error__2xEzZ","text-column":"annul_text-column__3sMSj"}},56:function(e,a,t){e.exports={sign:"signature_sign__2ybF1",sign__controls:"signature_sign__controls__2hq-j",sign__field:"signature_sign__field__14mJO",sign__preview:"signature_sign__preview__1RQXx"}},59:function(e,a,t){e.exports={overlay:"loader_overlay__24AMR",loader:"loader_loader__3hGht",circle:"loader_circle__1i-WY",ldsEllipsis1:"loader_ldsEllipsis1__2vAFQ",ldsEllipsis2:"loader_ldsEllipsis2__NyByY",ldsEllipsis3:"loader_ldsEllipsis3__hpxPv"}},63:function(e,a,t){e.exports={param:"vp_param__saprb",vp__group:"vp_vp__group__10sNo"}},64:function(e,a,t){e.exports={container:"filters_container__3muaX",total:"filters_total__K_OfR",filters:"filters_filters__260Wk"}},72:function(e,a,t){e.exports={list:"nav_list__1psjv",link:"nav_link__1_nWH",active:"nav_active__Rr801"}},73:function(e,a,t){e.exports={container:"todo_container__1OFj8",label:"todo_label__33WBu",actions:"todo_actions__2BAcf",action:"todo_action__18fdE"}},95:function(e,a,t){e.exports={container:"checkbox_container__2R2RC",label:"checkbox_label__3U1eI",checkbox:"checkbox_checkbox__NHRJE"}}},[[152,1,2]]]);
//# sourceMappingURL=main.b5aad69e.chunk.js.map