{"version":3,"sources":["components/Reservation/ActionsCard/actions.module.sass","components/Reservation/VehicleCard/vc.module.sass","components/InfoTip/infotip.module.sass","components/Pagination/pagination.module.sass","components/RentalTime/rt.module.sass","components/StyleGuide/Select/select.module.sass","pages/pages.module.sass","components/Reservation/ExtrasCard/extras.module.sass","components/Reservation/BillingCard/billing.module.sass","redux/reducers/auth-reducer.ts","redux/types/reservations-types.ts","redux/reducers/reservations-reducer.ts","redux/types/driver-types.ts","redux/reducers/driver-reducer.ts","redux/reducers/index.ts","redux/types/auth-types.ts","redux/store.ts","redux/index.ts","components/Reservation/ActionsCard/ActionsCard.tsx","helpers/constants.ts","services/auth.ts","api/rsApi.ts","services/http.ts","redux/actions/auth-actions.ts","redux/actions/reservations-actions.ts","redux/actions/driver-actions.ts","hooks/useCard.ts","hooks/useDriver.ts","hooks/useLoginForm.ts","hooks/useMedia.ts","hooks/useModal.ts","hooks/useReservation.ts","hooks/useSearch.ts","helpers/utils.ts","hooks/useSignature.ts","components/Reservation/Annual/Annual.tsx","components/Reservation/Annual/AnnualCard.tsx","components/Reservation/BillingCard/DocsLinks.tsx","components/Reservation/BillingCard/Payments.tsx","components/Reservation/BillingCard/SignatureModal.tsx","components/Reservation/BillingCard/BillingCard.tsx","components/DateEdit/DateInput.tsx","components/DateEdit/DateEdit.tsx","components/DateLocation/DateLocation.tsx","components/Reservation/DriverCard/Driver.tsx","components/Reservation/DriverCard/ClosedDriverCard.tsx","components/Reservation/DriverCard/DriverCard.tsx","components/Reservation/ExtrasCard/Insurance.tsx","components/Reservation/ExtrasCard/Extra.tsx","components/Reservation/ExtrasCard/ExtrasCard.tsx","hooks/useExtras.ts","components/InfoTip/InfoTip.tsx","components/StyleGuide/Button/LinkButton.tsx","components/ReservationsList/ListFilter.tsx","components/Loader/Loader.tsx","components/LocationEdit/LocationSelect.tsx","components/LocationEdit/LocationInput.tsx","components/LocationEdit/LocationEdit.tsx","components/Map/Map.tsx","components/Nav/Nav.tsx","components/Pagination/Pagination.tsx","components/RentalTime/RentalTime.tsx","components/VehicleParam/VehicleParam.tsx","components/ReservationsList/ReservationListItem.tsx","components/ReservationsList/ReservationList.tsx","components/Signature/Signature.tsx","components/Reservation/TaxCard/TaxCard.tsx","components/Todo/Todo.tsx","components/Reservation/VehicleCard/Vehicle.tsx","components/Reservation/VehicleCard/LocationDateEdit.tsx","components/Reservation/VehicleCard/LocationDateView.tsx","hooks/useLocaionView.ts","components/Reservation/VehicleCard/VehicleCard.tsx","components/StyleGuide/Button/Button.tsx","components/StyleGuide/Checkbox/Checkbox.tsx","components/StyleGuide/Select/Select.tsx","components/Skeletons/ActionsCardSkeleton.tsx","components/Skeletons/BillingCardSkeleton.tsx","components/Skeletons/DriverCardSkeleton.tsx","components/Skeletons/ExtrasCardSkeleton.tsx","components/Skeletons/RentalPeriodSkeleton.tsx","components/Skeletons/ReservationListSkeleton.tsx","components/Skeletons/TaxesCardSkeleton.tsx","components/Skeletons/VehicleCardSkeleton.tsx","components/LoginForm/Form.tsx","components/LoginForm/LoginForm.tsx","pages/Reservations.tsx","pages/Reservation.tsx","pages/Login.tsx","pages/Auth.tsx","routes/PersonalRoutes.tsx","routes/AuthRoutes.tsx","App.tsx","index.tsx","components/DateLocation/dl.module.sass","components/Reservation/DriverCard/dc.module.sass","components/LocationEdit/le.module.sass","components/LoginForm/login.module.sass","components/StyleGuide/Button/button.module.sass","components/DateEdit/de.module.sass","components/Reservation/TaxCard/taxes.module.sass","components/ReservationsList/rslist.module.sass","components/Reservation/Annual/annul.module.sass","components/Signature/signature.module.sass","components/Loader/loader.module.sass","components/VehicleParam/vp.module.sass","components/ReservationsList/filters.module.sass","components/Nav/nav.module.sass","components/Todo/todo.module.sass","components/StyleGuide/Checkbox/checkbox.module.sass"],"names":["module","exports","initialState","isLoggedIn","localStorage","getItem","loading","mailIsSended","errors","filters","type","reserved_status","period","data","reservations","pagination","begin","count_pages","end","page","per_page","total_count","reservation","first_name","last_name","email","phone","birthday","country","zip","state","city","street","building","documents","rootReducer","combineReducers","auth","action","setItem","removeItem","payload","errorsName","newFilters","Object","keys","forEach","key","filterVal","parsedFilterVal","Array","isArray","prevReservation","driver","composeEnhancers","compose","store","createStore","applyMiddleware","thunk","useTypedSelector","useSelector","ActionsCard","status","lowerCaseType","toLowerCase","lowerCaseStatus","isRedjected","history","useHistory","backHandler","e","goBack","className","styles","btns","text","onClick","todo","actions","necessary_actions","color","API_ROOT","Auth","BEARER","refreshToken","accessTokenExp","_setAuthData","accessToken","exp","setRefreshToken","setBearer","setAccessTokenExp","_parseTokenData","tokensData","access_token","Date","getTime","expires_in","refresh_token","makeLogin","token","a","axios","post","response","refreshTokens","dispatch","Error","debounceRefreshTokens","inner","ms","timer","resolves","clearTimeout","setTimeout","result","r","Promise","resolve","push","_debounce","getBearer","getAccessTokenExp","isAccessTokenExpired","hasRefreshToken","Boolean","AxiosAuth","instance","create","baseURL","init","interceptors","request","use","config","headers","authorization","reject","error","Axios","rsApi","getDriverInfo","method","url","getReservation","id","getReservationExtras","getReservations","query","getVehicleBusyDates","getVehicleOffice","params","postLogin","postSendEmail","postSignature","file","FormData","append","putReservation","putReservationExtras","putReservationReject","setAuthLoading","setMailSended","setErrors","setReservationLoading","setReservation","reservationData","setReservationPart","updateExtras","insurance","extras","getState","extrasData","filter","i","checked","reduce","prev","cur","quantity","insurances","taxes","prices","delivery_data","extras_data","ReactTooltip","rebuild","console","setDriverLoading","useCard","options","isOpen","onOpen","onClose","useState","open","setToggle","toggleCard","undefined","openCard","closeCard","useDriver","useDispatch","useEffect","batch","useLoginForm","fields","values","setValues","shallowEqual","onSubmitForm","mail","preventDefault","message","onValueChange","target","name","value","prevValues","onFocus","currentTarget","useMedia","queries","defaultValue","mediaQueryLists","map","q","window","matchMedia","getValue","index","findIndex","mql","matches","setValue","handler","addListener","removeListener","useModal","modalOpen","setModalStatus","useReservation","reservationPart","all","reserveRes","extrasRes","useSearch","search","useLocation","formParamsObject","newSearch","setLocationSearch","queryString","stringify","updateLocationSearch","searchParams","parse","ucFirst","str","toUpperCase","slice","unspaceDate","date","replace","addZero","num","useSignature","signRef","useRef","signaturePad","clearSignature","current","clear","resizeCanvas","width","offsetWidth","height","offsetHeight","SignaturePad","maxWidth","backgroundColor","penColor","onBegin","onDraw","addEventListener","removeEventListener","confirmSignature","callback","isEmpty","signature","c","ctx","getContext","copy","document","createElement","x","y","pixels","getImageData","l","length","bound","top","left","right","bottom","trimHeight","trimWidth","trimmed","canvas","putImageData","toDataURL","getTrimmedImg","dataURI","byteString","split","indexOf","atob","unescape","mimeString","ia","Uint8Array","charCodeAt","Blob","dataURItoBlob","Annual","toggleModal","setMessage","setError","closeModalHandler","size","annual__modal","contentLabel","onRequestClose","onChange","rows","annual__error","onSuccess","onError","annul","rejectReservation","AnnualCard","annual__title","annual__text","DocsLinks","links","href","agreement_url","rel","invoice_url","Payments","methods","payment","setPayment","label","icon","image","selected","placeholder","withIcon","Modal","setAppElement","SignatureModal","src","sign__modal","stylesSign","sign__preview","alt","sign__create","sign__btn","sign__content","preview","onConfirm","reservationResponse","uploadSignature","BillingCard","currency","payment_methods","bc","payment__label","paid","symbol","sign__row","sign__place","DateInput","forwardRef","ref","time","registerLocale","enGB","DateEdit","initialDates","availableTimes","disabledDates","weekT","setWeekT","formatChangedDate","getFullYear","getMonth","getDate","getHours","getMinutes","getDayTime","day","path","weekDay","getDay","weekTimes","dayPeriodTime","hours","minustes","setHours","setMinutes","formatTime","getWorkingDate","newDate","newMinTime","newMaxTime","min","max","startDate","setStartDate","endDate","setEndDate","minTimeFrom","setMinTimeFrom","maxTimeFrom","setMaxTimeFrom","minTimeTo","setMinTimeTo","maxTimeTo","setMaxTimeTo","checkRangeInDisabled","dateFrom","dateTo","dateFromTime","dateToTime","dFromTime","from","dToTime","to","fromPickerChange","workingDate","toPickerChange","excludeDisabled","dateTime","isEqual","prevAvailable","fromWorkingDate","updateStartLimits","toWorkingDate","updateEndLimits","newStartDate","filterDate","selectsStart","showTimeSelect","timeFormat","timeIntervals","minTime","maxTime","customInput","dateFormat","locale","newEndDate","minDate","selectsEnd","DateLocation","location","onLocationClick","formatedDate","curDate","curHours","curMinutes","month","toLocaleString","year","splitDate","container","Driver","title","driver__name","driver__docs","driver__doc","ClosedDriverCard","drivers","dc","formatDistanceStrict","date_to","date_from","unit","roundingMethod","vehicle","DriverCard","Insurance","price","damage_access","deposit","deposit_price","damage","editable","item","String","defaultChecked","classnames","htmlFor","Extra","max_quantity","price_day","check","setCheck","count","setCount","changeQuantity","newQ","val","quantity__button","quantity__input","mask","maskChar","ExtrasCard","editMode","changeInsurance","changeExtras","extra","useExtras","isChangeble","card","InfoTip","data-tip","LinkButton","disabled","button","small","selects","ListFilter","total","onFilterChange","getTotalText","t","Loader","overlay","loader","circle","LocationSelect","select","LocationInput","inputRef","inputValue","setInputValue","autocomplete","google","maps","places","Autocomplete","event","place","getPlace","geometry","formatted_address","lat","lng","evt","geocoder","Geocoder","navigator","geolocation","getCurrentPosition","geocode","coords","latitude","longitude","results","input","LocationEdit","vehicleID","initialLocations","availableLocations","sameReturn","customLocation","startLocation","setStartLocation","endLocation","setEndLocation","isReturnBlocked","isCustomAvailable","isSystem","setIsSystem","isReturn","setIsReturn","useMemo","office_location","getOfficeWorkTimes","formatNewLocation","officeID","officeWork","system","office","work_time_enabled","working_time","address","changeStartSystemLocation","selectedOfficeId","office_id","warn","changeEndSystemLocation","changeStartCustomLocation","changeEndCustomLocation","changeSystemLocation","prevState","sLocation","eLocation","addres","responces","labelContent","labelClassName","checkbox__label","onCheck","Map","center","marker","mapNodeRef","mapRef","markerRef","zoom","Marker","position","setMap","setCenter","setPosition","style","nav","link","Nav","list","activeClassName","active","Pagination","previousLabel","nextLabel","breakLabel","breakClassName","pageCount","forcePage","marginPagesDisplayed","pageRangeDisplayed","onPageChange","selectedItem","containerClassName","RentalTime","isDate","isBegan","isPast","formatDistanceToNow","addSuffix","VehicleParam","isTransmission","match","param","ReservationListItem","location_from","location_to","mileage_limit","unique_number","brand","mark","group","large_bags","number_seats","refill","transmission","reservation__header","number","reservation__body","side","vehicle__info","vehicle__img","thumbnail","vehicle__group","vehicle__title","vehicle__similar","vpStyles","vp__group","details","details__column","damage_excess","details__group","reservation__loading","reservation__footer","reservation__todo","reservation__btns","ReservationList","Signature","showPreview","setShowPreview","hidePreview","sign","sign__field","sign__controls","TaxCard","taxesTotal","column","row","Todo","actionKeys","getActionsText","Vehicle","LocationDateEdit","onSave","setLoading","locations","setLocations","dates","setDates","disabledDays","setDisabledDays","s","available_locations","same_return","pickup_location","return_location","LocationDateView","changeLocation","media","showReturn","setMapReturn","mapCenter","showPickupLocation","showReturnLocation","useLocaionView","changeLocationHandler","renderControls","VehicleCard","renderReserveNum","vc","Button","button__loader","Checkbox","checkbox","Select","isSearchable","classNamePrefix","components","SingleValue","props","Option","inputProps","ActionsCardSkeleton","marginLeft","BillingCardSkeleton","display","marginTop","marginBottom","DriverCardSkeleton","marginRight","ExtrasCardSkeleton","RentalPeriodSkeleton","ReservationListSkeleton","ReservationListItemSkeleton","objectFit","dlStyles","TaxesCardSkeleton","VehicleCardSkeleton","verticalAlign","Form","form","onSubmit","input__wrap","input__error","form__buttons","LoginForm","wrapper","info","Reservations","items","scroll","Reservation","useParams","isReady","Login","tokenData","tokenIsValid","find","loginAction","PersonalRoutes","exact","component","AuthRoutes","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.b5aad69e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"btns\":\"actions_btns__pmX52\",\"todo\":\"actions_todo__3PhcS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"vc\":\"vc_vc__36hZd\",\"reserve-num\":\"vc_reserve-num__Z3N0U\",\"reserve-type\":\"vc_reserve-type__1ObY0\",\"reserve-status\":\"vc_reserve-status__1x3V0\",\"reserve-info\":\"vc_reserve-info__2buDr\",\"reserve-info--status\":\"vc_reserve-info--status__U--yr\",\"dl-cotainer\":\"vc_dl-cotainer__QWqXo\",\"dl-item\":\"vc_dl-item__5EHax\",\"actions\":\"vc_actions__3U2ry\",\"map-place\":\"vc_map-place__XoUWr\",\"map-place--mt\":\"vc_map-place--mt__2zobN\",\"vehicle\":\"vc_vehicle__2usdW\",\"vehicle__img\":\"vc_vehicle__img__lJoUf\",\"vehicle__group\":\"vc_vehicle__group__Uzc1m\",\"vehicle__title\":\"vc_vehicle__title__1k2P_\",\"vehicle__similar\":\"vc_vehicle__similar__3X4cZ\",\"vehicle__info\":\"vc_vehicle__info__hSpnt\",\"ld-edit\":\"vc_ld-edit__2EoES\",\"ld-edit__row\":\"vc_ld-edit__row__3eJ4U\",\"map-row\":\"vc_map-row__1xVAx\",\"ld-edit__dates\":\"vc_ld-edit__dates__L0cEn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"infotip_icon__1ftfU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"pagination_pagination__2ocnf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"time-left\":\"rt_time-left__1lsTb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"select\":\"select_select__28NYd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reservation\":\"pages_reservation__3lWBS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"extras_card__3QnCD\",\"item\":\"extras_item__1Qvnv\",\"data\":\"extras_data__K7Aw5\",\"hidden-input\":\"extras_hidden-input__3VmYb\",\"label\":\"extras_label__2sYJ0\",\"label--radio\":\"extras_label--radio__1_ocC\",\"label--check\":\"extras_label--check__2cZ-o\",\"quantity\":\"extras_quantity__3emon\",\"quantity__input\":\"extras_quantity__input__1T-tp\",\"quantity__button\":\"extras_quantity__button__25Iz9\",\"left\":\"extras_left__3b30i\",\"right\":\"extras_right__2rY4l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bc\":\"billing_bc__2rbld\",\"links-list\":\"billing_links-list__2C5my\",\"payment\":\"billing_payment__36hF0\",\"paid__label\":\"billing_paid__label__1c5zk\",\"sign__row\":\"billing_sign__row__jyCrj\",\"sign__place\":\"billing_sign__place__15FIS\",\"sign__modal\":\"billing_sign__modal__69g0F\",\"sign__btn\":\"billing_sign__btn__2ni5A\",\"sign__btn-skelet\":\"billing_sign__btn-skelet__1Df_9\",\"sign__create\":\"billing_sign__create__1vKwK\",\"sign__create-text\":\"billing_sign__create-text__2jr2_\",\"sign__content\":\"billing_sign__content__pQKFs\"};","import {\r\n\tLOGIN,\r\n\tLOGOUT,\r\n\tSET_AUTH_LOADING,\r\n\tSET_MAIL_SENDED,\r\n\tSET_ERRORS,\r\n\tRESET_ERRORS,\r\n\tAuthActionTypes,\r\n\tAuthState,\r\n} from \"../types/auth-types\";\r\n\r\nconst initialState: AuthState = {\r\n\tisLoggedIn: localStorage && localStorage.getItem(\"rsIsLogged\") === \"true\",\r\n\tloading: false,\r\n\tmailIsSended: false,\r\n\terrors: {},\r\n};\r\n\r\nexport function authReducer(state = initialState, action: AuthActionTypes): AuthState {\r\n\tswitch (action.type) {\r\n\t\tcase LOGIN:\r\n\t\t\tlocalStorage && localStorage.setItem(\"rsIsLogged\", \"true\");\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoggedIn: true,\r\n\t\t\t};\r\n\t\tcase LOGOUT:\r\n\t\t\tlocalStorage && localStorage.removeItem(\"rsIsLogged\");\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoggedIn: false,\r\n\t\t\t};\r\n\t\tcase SET_AUTH_LOADING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: action.payload,\r\n\t\t\t};\r\n\t\tcase SET_MAIL_SENDED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmailIsSended: action.payload,\r\n\t\t\t};\r\n\t\tcase SET_ERRORS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrors: action.payload,\r\n\t\t\t};\r\n\t\tcase RESET_ERRORS:\r\n\t\t\tconst errorsName = action.payload;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terrors: errorsName ? {...state.errors, [errorsName]: \"\"} : {},\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n","import {ThunkAction} from \"redux-thunk\";\r\nimport {ParsedQuery} from \"query-string\";\r\nimport {RootState} from \"../\";\r\n\r\nexport const SET_RESERVATION_LOADING = \"SET_RESERVATION_LOADING\";\r\nexport const SET_RESERVATIONS = \"SET_RESERVATIONS\";\r\nexport const UPDATE_FILTERS = \"UPDATE_FILTERS\";\r\nexport const SET_RESERVATION = \"SET_RESERVATION\";\r\nexport const UPDATE_RESERVATION = \"UPDATE_RESERVATION\";\r\n\r\nexport interface ReservationsState {\r\n\tfilters: IFilters;\r\n\tloading: boolean;\r\n\tdata: IReservationsData;\r\n\treservation: IReservation | null;\r\n}\r\n\r\ninterface SetLoadingAction {\r\n\ttype: typeof SET_RESERVATION_LOADING;\r\n\tpayload: boolean;\r\n}\r\n\r\ninterface SetReservationsAction {\r\n\ttype: typeof SET_RESERVATIONS;\r\n\tpayload: IReservationsData;\r\n}\r\n\r\ninterface UpdateFiltersAction {\r\n\ttype: typeof UPDATE_FILTERS;\r\n\tpayload: ParsedQuery;\r\n}\r\n\r\ninterface SetReservationAction {\r\n\ttype: typeof SET_RESERVATION;\r\n\tpayload: IReservation;\r\n}\r\n\r\ninterface UpdateReservationAction {\r\n\ttype: typeof UPDATE_RESERVATION;\r\n\tpayload: Partial<IReservation>;\r\n}\r\n\r\nexport type ReservationsActionTypes =\r\n\t| SetLoadingAction\r\n\t| SetReservationsAction\r\n\t| UpdateFiltersAction\r\n\t| SetReservationAction\r\n\t| UpdateReservationAction;\r\n\r\nexport type ReservationsThunkAction = ThunkAction<\r\n\tPromise<void>,\r\n\tRootState,\r\n\tunknown,\r\n\tReservationsActionTypes\r\n>;\r\n","import {\r\n\tSET_RESERVATION_LOADING,\r\n\tSET_RESERVATIONS,\r\n\tSET_RESERVATION,\r\n\tUPDATE_RESERVATION,\r\n\tUPDATE_FILTERS,\r\n\tReservationsActionTypes,\r\n\tReservationsState,\r\n} from \"../types/reservations-types\";\r\n\r\nconst initialState: ReservationsState = {\r\n\tfilters: {\r\n\t\ttype: null,\r\n\t\treserved_status: null,\r\n\t\tperiod: null,\r\n\t},\r\n\tloading: false,\r\n\tdata: {\r\n\t\treservations: [],\r\n\t\tpagination: {\r\n\t\t\tbegin: 0,\r\n\t\t\tcount_pages: 0,\r\n\t\t\tend: 0,\r\n\t\t\tpage: 1,\r\n\t\t\tper_page: 1,\r\n\t\t\ttotal_count: 0,\r\n\t\t},\r\n\t},\r\n\treservation: null,\r\n};\r\n\r\nexport function reservationsReducer(\r\n\tstate = initialState,\r\n\taction: ReservationsActionTypes,\r\n): ReservationsState {\r\n\tswitch (action.type) {\r\n\t\tcase SET_RESERVATION_LOADING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: action.payload,\r\n\t\t\t};\r\n\t\tcase SET_RESERVATIONS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdata: action.payload,\r\n\t\t\t};\r\n\t\tcase UPDATE_FILTERS:\r\n\t\t\tconst newFilters: IFilters = {...state.filters};\r\n\t\t\t(Object.keys(newFilters) as Array<keyof IFilters>).forEach((key) => {\r\n\t\t\t\tconst filterVal = action.payload[key];\r\n\t\t\t\tconst parsedFilterVal = Array.isArray(filterVal) ? filterVal[0] : filterVal;\r\n\t\t\t\tnewFilters[key] = parsedFilterVal ? parsedFilterVal : null;\r\n\t\t\t});\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfilters: {...state.filters, ...newFilters},\r\n\t\t\t};\r\n\t\tcase SET_RESERVATION:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\treservation: action.payload,\r\n\t\t\t};\r\n\t\tcase UPDATE_RESERVATION:\r\n\t\t\tconst prevReservation = {...(state.reservation as IReservation)};\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\treservation: {...prevReservation, ...action.payload},\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n","import {ThunkAction} from \"redux-thunk\";\r\nimport {RootState} from \"..\";\r\n\r\nexport const SET_DRIVER_LOADING = \"SET_DRIVER_LOADING\";\r\nexport const UPDATE_DRIVER = \"UPDATE_DRIVER\";\r\n\r\nexport interface DriverState {\r\n\tloading: boolean;\r\n\tdata: IDriver;\r\n}\r\n\r\ntype SetDriverLoadingAction = {\r\n\ttype: typeof SET_DRIVER_LOADING;\r\n\tpayload: boolean;\r\n};\r\n\r\ntype SetDriverActionType = {\r\n\ttype: typeof UPDATE_DRIVER;\r\n\tpayload: IDriver;\r\n};\r\n\r\nexport type DriverActionTypes = SetDriverLoadingAction | SetDriverActionType;\r\n\r\nexport type DriverThunkAction = ThunkAction<Promise<void>, RootState, unknown, DriverActionTypes>;\r\n","import {\r\n\tSET_DRIVER_LOADING,\r\n\tUPDATE_DRIVER,\r\n\tDriverState,\r\n\tDriverActionTypes,\r\n} from \"../types/driver-types\";\r\n\r\nconst initialState: DriverState = {\r\n\tloading: false,\r\n\tdata: {\r\n\t\tfirst_name: \"\",\r\n\t\tlast_name: null,\r\n\t\temail: \"\",\r\n\t\tphone: null,\r\n\t\tbirthday: null,\r\n\t\tcountry: null,\r\n\t\tzip: null,\r\n\t\tstate: null,\r\n\t\tcity: null,\r\n\t\tstreet: null,\r\n\t\tbuilding: null,\r\n\t\tdocuments: [],\r\n\t},\r\n};\r\n\r\nexport function driverReducer(state = initialState, action: DriverActionTypes): DriverState {\r\n\tswitch (action.type) {\r\n\t\tcase SET_DRIVER_LOADING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: action.payload,\r\n\t\t\t};\r\n\t\tcase UPDATE_DRIVER:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdata: {...state.data, ...action.payload},\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n","import {combineReducers} from \"redux\";\r\nimport {authReducer} from \"./auth-reducer\";\r\nimport {reservationsReducer} from \"./reservations-reducer\";\r\nimport {driverReducer} from \"./driver-reducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n\tauth: authReducer,\r\n\treservations: reservationsReducer,\r\n\tdriver: driverReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import {ThunkAction} from \"redux-thunk\";\r\nimport {RootState} from \"../\";\r\n\r\nexport const LOGIN = \"LOGIN\";\r\nexport const LOGOUT = \"LOGOUT\";\r\nexport const SET_AUTH_LOADING = \"SET_AUTH_LOADING\";\r\nexport const SET_MAIL_SENDED = \"SET_MAIL_SENDED\";\r\nexport const SET_ERRORS = \"SET_ERRORS\";\r\nexport const RESET_ERRORS = \"RESET_ERRORS\";\r\n\r\ntype LoginType = {\r\n\ttype: typeof LOGIN;\r\n};\r\n\r\ntype LogoutType = {\r\n\ttype: typeof LOGOUT;\r\n};\r\nexport interface IFormFields {\r\n\t[key: string]: string;\r\n}\r\nexport interface AuthState {\r\n\tisLoggedIn: boolean;\r\n\tloading: boolean;\r\n\tmailIsSended: boolean;\r\n\terrors: IFormFields;\r\n}\r\n\r\ntype SetAuthLoadingActionType = {\r\n\ttype: typeof SET_AUTH_LOADING;\r\n\tpayload: boolean;\r\n};\r\n\r\ntype SetMailSendedActionType = {\r\n\ttype: typeof SET_MAIL_SENDED;\r\n\tpayload: boolean;\r\n};\r\n\r\ntype setErrorsType = {\r\n\ttype: typeof SET_ERRORS;\r\n\tpayload: IFormFields;\r\n};\r\n\r\ntype resetErrorsType = {\r\n\ttype: typeof RESET_ERRORS;\r\n\tpayload?: string;\r\n};\r\n\r\nexport type AuthActionTypes =\r\n\t| LoginType\r\n\t| LogoutType\r\n\t| SetAuthLoadingActionType\r\n\t| SetMailSendedActionType\r\n\t| setErrorsType\r\n\t| resetErrorsType;\r\n\r\nexport type AuthThunkAction = ThunkAction<Promise<void>, RootState, unknown, AuthActionTypes>;\r\n","import {createStore, applyMiddleware, compose, Store} from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"./reducers\";\r\n\r\nconst composeEnhancers =\r\n\tprocess.env.NODE_ENV !== \"production\" &&\r\n\ttypeof window === \"object\" &&\r\n\t(window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n\t\t? (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\r\n\t\t: compose;\r\n\r\nconst store: Store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\r\n\r\nexport default store;\r\n","import {useSelector, TypedUseSelectorHook} from \"react-redux\";\r\nimport rootReducer from \"./reducers\";\r\n\r\n//export RootState\r\nexport type RootState = ReturnType<typeof rootReducer>;\r\n\r\n//export typed useSelector\r\nexport const useTypedSelector: TypedUseSelectorHook<RootState> = useSelector;\r\n","import React from \"react\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {useTypedSelector} from \"../../../redux/\";\r\nimport {Button, Todo} from \"../../\";\r\n\r\nimport styles from \"./actions.module.sass\";\r\n\r\nexport const ActionsCard: React.FC = () => {\r\n\tconst reservation = useTypedSelector((store) => store.reservations.reservation) as IReservation;\r\n\tconst {status, type} = reservation;\r\n\tconst lowerCaseType = type.toLowerCase();\r\n\tconst lowerCaseStatus = status.toLowerCase();\r\n\r\n\tconst isRedjected = lowerCaseStatus === \"reject\" || lowerCaseStatus === \"cancel\";\r\n\r\n\tconst history = useHistory();\r\n\r\n\tconst backHandler = (e: React.MouseEvent<HTMLButtonElement>): void => {\r\n\t\thistory.goBack();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"card\">\r\n\t\t\t<div className=\"column\">\r\n\t\t\t\t{/* <LinksList>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<a href=\"!#\" target=\"_blank\">\r\n\t\t\t\t\t\t\tHow standard rental works?\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<a href=\"!#\" target=\"_blank\">\r\n\t\t\t\t\t\t\tCustomer service\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</LinksList> */}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"column column--2\">\r\n\t\t\t\t<div className={`column__row jc-fe ai-fs ${styles.btns}`}>\r\n\t\t\t\t\t<Button text=\"Back\" onClick={backHandler} />\r\n\t\t\t\t\t{!isRedjected && lowerCaseStatus !== \"done\" && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<Todo className={styles.todo} actions={reservation.necessary_actions} />\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttext=\"Confirm\"\r\n\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\tlowerCaseType === \"keyless\"\r\n\t\t\t\t\t\t\t\t\t\t? \"green\"\r\n\t\t\t\t\t\t\t\t\t\t: lowerCaseType === \"standard\"\r\n\t\t\t\t\t\t\t\t\t\t? \"blue\"\r\n\t\t\t\t\t\t\t\t\t\t: \"black\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tonClick={backHandler}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","export const API_ROOT = \"https://api-cabinet-test.rentsyst.com/v1\";\r\n","import axios from \"axios\";\r\nimport {API_ROOT} from \"../helpers/constants\";\r\nimport store from \"../redux/store\";\r\nimport {LOGOUT} from \"../redux/types/auth-types\";\r\n\r\ntype tokenType = string;\r\n\r\ninterface ITokensBackData {\r\n\taccess_token?: tokenType;\r\n\texpires_in?: number;\r\n\trefresh_token?: tokenType;\r\n}\r\n\r\ninterface ITokensData {\r\n\taccessToken: tokenType;\r\n\texp: number;\r\n\trefreshToken: tokenType;\r\n}\r\n\r\ntype resolveType = (value?: unknown) => void;\r\n\r\nconst Auth = (function () {\r\n\t//#region Private methods\r\n\r\n\tlet BEARER: string = \"\";\r\n\tlet refreshToken: string = localStorage.getItem(\"refreshToken\") || \"\";\r\n\tlet accessTokenExp: number = 0;\r\n\r\n\tfunction _setAuthData({accessToken, exp, refreshToken}: ITokensData) {\r\n\t\tAuth.setRefreshToken(refreshToken);\r\n\t\tAuth.setBearer(accessToken);\r\n\t\tAuth.setAccessTokenExp(exp);\r\n\t}\r\n\r\n\tfunction _parseTokenData(tokensData: ITokensBackData) {\r\n\t\treturn {\r\n\t\t\taccessToken: tokensData.access_token,\r\n\t\t\texp: new Date().getTime() + (tokensData.expires_in || 0),\r\n\t\t\trefreshToken: tokensData.refresh_token,\r\n\t\t} as ITokensData;\r\n\t}\r\n\r\n\tfunction _resetAuthData(): void {\r\n\t\t// reset tokens\r\n\t\tAuth.setRefreshToken(\"\");\r\n\t\tAuth.setBearer(\"\");\r\n\t\tAuth.setAccessTokenExp(0);\r\n\t}\r\n\r\n\tfunction _debounce<T extends Function>(inner: T, ms: number = 0) {\r\n\t\tlet timer: ReturnType<typeof setTimeout> | null = null;\r\n\t\tlet resolves: resolveType[] = [];\r\n\r\n\t\treturn function () {\r\n\t\t\tif (timer !== null) {\r\n\t\t\t\tclearTimeout(timer);\r\n\t\t\t\ttimer = null;\r\n\t\t\t}\r\n\r\n\t\t\ttimer = setTimeout(() => {\r\n\t\t\t\tconst result = inner();\r\n\t\t\t\tresolves.forEach((r) => r(result));\r\n\t\t\t\tresolves = [];\r\n\t\t\t}, ms);\r\n\r\n\t\t\treturn new Promise((resolve) => resolves.push(resolve));\r\n\t\t};\r\n\t}\r\n\t//#endregion\r\n\r\n\treturn {\r\n\t\t//#region Public methods\r\n\t\tmakeLogin: async function (token: ILoginData) {\r\n\t\t\tconst response = await axios.post(\r\n\t\t\t\t`${API_ROOT}/auth`,\r\n\t\t\t\t{\"one-time-token\": token},\r\n\t\t\t\t// {withCredentials: true}\r\n\t\t\t);\r\n\t\t\t_setAuthData(_parseTokenData(response.data.data));\r\n\t\t\treturn response;\r\n\t\t},\r\n\r\n\t\trefreshTokens: async function () {\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await axios.post(\r\n\t\t\t\t\t`${API_ROOT}/auth/refresh`,\r\n\t\t\t\t\t{\"refresh-token\": refreshToken},\r\n\t\t\t\t\t// {withCredentials: true}\r\n\t\t\t\t);\r\n\t\t\t\t_setAuthData(_parseTokenData(response.data.data));\r\n\t\t\t\treturn response;\r\n\t\t\t} catch (error) {\r\n\t\t\t\t_resetAuthData();\r\n\t\t\t\tlocalStorage.removeItem(\"rsIsLogged\");\r\n\t\t\t\tstore.dispatch({type: LOGOUT});\r\n\t\t\t\tthrow new Error(error);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tdebounceRefreshTokens: _debounce(() => {\r\n\t\t\treturn Auth.refreshTokens();\r\n\t\t}, 100),\r\n\r\n\t\tsetBearer: function (accessToken: tokenType) {\r\n\t\t\tBEARER = `Bearer ${accessToken}`;\r\n\t\t},\r\n\r\n\t\tgetBearer: function (): string {\r\n\t\t\treturn BEARER;\r\n\t\t},\r\n\r\n\t\tsetAccessTokenExp: function (exp: number): void {\r\n\t\t\taccessTokenExp = exp;\r\n\t\t},\r\n\r\n\t\tgetAccessTokenExp: function (): number {\r\n\t\t\treturn accessTokenExp;\r\n\t\t},\r\n\r\n\t\tisAccessTokenExpired: function (): boolean {\r\n\t\t\tconst accessTokenExpDate = accessTokenExp - 5000;\r\n\t\t\tconst nowTime = new Date().getTime();\r\n\t\t\treturn accessTokenExpDate <= nowTime;\r\n\t\t},\r\n\r\n\t\thasRefreshToken: function (): boolean {\r\n\t\t\treturn Boolean(localStorage.getItem(\"refreshToken\"));\r\n\t\t},\r\n\r\n\t\tsetRefreshToken: function (token: tokenType) {\r\n\t\t\trefreshToken = token;\r\n\t\t\tlocalStorage.setItem(\"refreshToken\", token);\r\n\t\t},\r\n\t\t//#endregion\r\n\t};\r\n})();\r\n\r\nexport default Auth;\r\n","import axios, {AxiosPromise} from \"axios\";\r\nimport {API_ROOT} from \"../helpers/constants\";\r\nimport Auth from \"../services/auth\";\r\nimport Http from \"../services/http\";\r\n\r\nconst AxiosAuth = Http.init();\r\n\r\nconst Axios = axios.create({\r\n\tbaseURL: API_ROOT,\r\n});\r\n\r\n//auth\r\nconst postSendEmail = (email: string): AxiosPromise =>\r\n\tAxios({\r\n\t\tmethod: \"post\",\r\n\t\turl: \"/auth/request-login\",\r\n\t\tdata: {email},\r\n\t});\r\n\r\nconst postLogin = (token: ILoginData) => {\r\n\treturn Auth.makeLogin(token);\r\n};\r\n\r\n//reservations\r\nconst getReservations = (query: string): AxiosPromise =>\r\n\tAxiosAuth({\r\n\t\tmethod: \"get\",\r\n\t\turl: `/reservations${query}`,\r\n\t});\r\n\r\nconst getReservation = (id: string | number): AxiosPromise =>\r\n\tAxiosAuth({\r\n\t\tmethod: \"get\",\r\n\t\turl: `/reservations/${id}`,\r\n\t});\r\n\r\nconst getVehicleBusyDates = (id: number | string): AxiosPromise =>\r\n\tAxiosAuth({\r\n\t\tmethod: \"get\",\r\n\t\turl: `/vehicles/${id}/busy-dates`,\r\n\t});\r\n\r\nconst getVehicleOffice = (id: number, params: {[key: string]: string | number}): AxiosPromise =>\r\n\tAxiosAuth({\r\n\t\tmethod: \"get\",\r\n\t\turl: `/vehicles/${id}/reservation-times`,\r\n\t\tparams,\r\n\t});\r\n\r\nconst putReservation = (id: string | number, data: Partial<IReservation>): AxiosPromise =>\r\n\tAxiosAuth({\r\n\t\tmethod: \"put\",\r\n\t\turl: `/reservations/${id}`,\r\n\t\tdata,\r\n\t});\r\n\r\nconst putReservationReject = (id: string | number, data: {message: string}): AxiosPromise =>\r\n\tAxiosAuth({\r\n\t\tmethod: \"put\",\r\n\t\turl: `/reservations/${id}/annul`,\r\n\t\tdata,\r\n\t});\r\n\r\nconst postSignature = (id: string | number, file: Blob): AxiosPromise => {\r\n\tconst data = new FormData();\r\n\tdata.append(\"signature\", file);\r\n\treturn AxiosAuth({\r\n\t\tmethod: \"post\",\r\n\t\turl: `/reservations/${id}/signature`,\r\n\t\tdata,\r\n\t});\r\n};\r\n\r\nconst getReservationExtras = (id: string | number): AxiosPromise =>\r\n\tAxiosAuth({\r\n\t\tmethod: \"get\",\r\n\t\turl: `/reservations/${id}/extras`,\r\n\t});\r\n\r\nconst putReservationExtras = (id: string | number, data: extrasDataType): AxiosPromise =>\r\n\tAxiosAuth({\r\n\t\tmethod: \"put\",\r\n\t\turl: `/reservations/${id}/extras`,\r\n\t\tdata,\r\n\t});\r\n\r\n//account\r\nconst getDriverInfo = (): AxiosPromise => {\r\n\treturn AxiosAuth({\r\n\t\tmethod: \"get\",\r\n\t\turl: \"/account\",\r\n\t});\r\n};\r\n\r\nconst rsApi = {\r\n\tgetDriverInfo,\r\n\tgetReservation,\r\n\tgetReservationExtras,\r\n\tgetReservations,\r\n\tgetVehicleBusyDates,\r\n\tgetVehicleOffice,\r\n\tpostLogin,\r\n\tpostSendEmail,\r\n\tpostSignature,\r\n\tputReservation,\r\n\tputReservationExtras,\r\n\tputReservationReject,\r\n};\r\n\r\nexport default rsApi;\r\n","import axios, {AxiosRequestConfig} from \"axios\";\r\nimport {API_ROOT} from \"../helpers/constants\";\r\n\r\nimport Auth from \"./auth\";\r\n\r\nconst Http = (function () {\r\n\tconst instance = axios.create({\r\n\t\tbaseURL: API_ROOT,\r\n\t});\r\n\r\n\treturn {\r\n\t\tinit: function () {\r\n\t\t\tinstance.interceptors.request.use(\r\n\t\t\t\tasync (config: AxiosRequestConfig) => {\r\n\t\t\t\t\tconfig.headers.authorization = Auth.getBearer();\r\n\t\t\t\t\t// if access token expired and refreshToken is exist >> go to API and get new access token\r\n\t\t\t\t\tif (Auth.isAccessTokenExpired()) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tawait Auth.debounceRefreshTokens();\r\n\t\t\t\t\t\t\tconfig.headers.authorization = Auth.getBearer();\r\n\t\t\t\t\t\t\treturn config;\r\n\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\treturn Promise.reject(error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn config;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t(error) => {\r\n\t\t\t\t\treturn Promise.reject(error);\r\n\t\t\t\t},\r\n\t\t\t);\r\n\r\n\t\t\treturn instance;\r\n\t\t},\r\n\t};\r\n})();\r\n\r\nexport default Http;\r\n","import {batch} from \"react-redux\";\r\nimport {\r\n\tLOGIN,\r\n\tLOGOUT,\r\n\tSET_AUTH_LOADING,\r\n\tSET_MAIL_SENDED,\r\n\tSET_ERRORS,\r\n\tRESET_ERRORS,\r\n\tIFormFields,\r\n\tAuthActionTypes,\r\n\tAuthThunkAction,\r\n} from \"../types/auth-types\";\r\nimport rsApi from \"../../api/rsApi\";\r\n\r\nconst setAuthLoading = (loading: boolean): AuthActionTypes => {\r\n\treturn {\r\n\t\ttype: SET_AUTH_LOADING,\r\n\t\tpayload: loading,\r\n\t};\r\n};\r\n\r\nexport const loginAction = (token: string): AuthThunkAction => async (dispatch, getState) => {\r\n\tconst {loading} = getState().auth;\r\n\tif (loading) return;\r\n\r\n\tdispatch(setAuthLoading(true));\r\n\ttry {\r\n\t\tawait rsApi.postLogin(token);\r\n\t\tbatch(() => {\r\n\t\t\tdispatch({type: LOGIN});\r\n\t\t\tdispatch(setAuthLoading(false));\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tdispatch(setAuthLoading(false));\r\n\t\twindow.location.href = \"/login\";\r\n\t}\r\n};\r\n\r\nconst setMailSended = (status: boolean): AuthActionTypes => {\r\n\treturn {\r\n\t\ttype: SET_MAIL_SENDED,\r\n\t\tpayload: status,\r\n\t};\r\n};\r\n\r\nconst setErrors = (errors: IFormFields): AuthActionTypes => {\r\n\treturn {\r\n\t\ttype: SET_ERRORS,\r\n\t\tpayload: errors,\r\n\t};\r\n};\r\n\r\nexport const resetErrors = (name?: string): AuthActionTypes => {\r\n\treturn {\r\n\t\ttype: RESET_ERRORS,\r\n\t\tpayload: name,\r\n\t};\r\n};\r\n\r\nexport const sendMail = (mail: string): AuthThunkAction => async (dispatch, getState) => {\r\n\tconst {loading} = getState().auth;\r\n\tif (loading) return;\r\n\tdispatch(setAuthLoading(true));\r\n\r\n\ttry {\r\n\t\tawait rsApi.postSendEmail(mail);\r\n\t\tbatch(() => {\r\n\t\t\tdispatch(setMailSended(true));\r\n\t\t\tdispatch(setErrors({}));\r\n\t\t\tdispatch(setAuthLoading(false));\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tconst {message} = error.response.data.data;\r\n\t\tbatch(() => {\r\n\t\t\tdispatch(setMailSended(false));\r\n\t\t\tdispatch(setAuthLoading(false));\r\n\t\t\tif (message) {\r\n\t\t\t\tdispatch(\r\n\t\t\t\t\tsetErrors({\r\n\t\t\t\t\t\temail: message,\r\n\t\t\t\t\t}),\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const LogoutAction = (): AuthActionTypes => {\r\n\treturn {\r\n\t\ttype: LOGOUT,\r\n\t};\r\n};\r\n","import {batch} from \"react-redux\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport queryString, {ParsedQuery} from \"query-string\";\r\nimport {\r\n\tSET_RESERVATION_LOADING,\r\n\tSET_RESERVATIONS,\r\n\tUPDATE_FILTERS,\r\n\tSET_RESERVATION,\r\n\tUPDATE_RESERVATION,\r\n\tReservationsActionTypes,\r\n\tReservationsThunkAction,\r\n} from \"../types/reservations-types\";\r\nimport rsApi from \"../../api/rsApi\";\r\n\r\nconst setReservationLoading = (loading: boolean): ReservationsActionTypes => {\r\n\treturn {\r\n\t\ttype: SET_RESERVATION_LOADING,\r\n\t\tpayload: loading,\r\n\t};\r\n};\r\n\r\nconst setReservations = (newReservationsData: IReservationsData): ReservationsActionTypes => {\r\n\treturn {\r\n\t\ttype: SET_RESERVATIONS,\r\n\t\tpayload: newReservationsData,\r\n\t};\r\n};\r\n\r\nconst updateFilters = (queryParams: ParsedQuery): ReservationsActionTypes => {\r\n\treturn {\r\n\t\ttype: UPDATE_FILTERS,\r\n\t\tpayload: queryParams,\r\n\t};\r\n};\r\n\r\nconst setReservation = (reservationData: IReservation): ReservationsActionTypes => {\r\n\treturn {\r\n\t\ttype: SET_RESERVATION,\r\n\t\tpayload: reservationData,\r\n\t};\r\n};\r\n\r\nconst setReservationPart = (data: Partial<IReservation>): ReservationsActionTypes => {\r\n\treturn {\r\n\t\ttype: UPDATE_RESERVATION,\r\n\t\tpayload: data,\r\n\t};\r\n};\r\n\r\n/**\r\n * Get list of reservations\r\n */\r\nexport const getReservations = (query: string): ReservationsThunkAction => async (dispatch) => {\r\n\tbatch(() => {\r\n\t\tdispatch(setReservationLoading(true));\r\n\t\tdispatch(updateFilters(queryString.parse(query)));\r\n\t});\r\n\ttry {\r\n\t\tconst response = await rsApi.getReservations(query);\r\n\t\tif (response.data.status) {\r\n\t\t\tconst {items, pagination} = response.data.data;\r\n\t\t\tbatch(() => {\r\n\t\t\t\tdispatch(\r\n\t\t\t\t\tsetReservations({\r\n\t\t\t\t\t\treservations: items,\r\n\t\t\t\t\t\tpagination,\r\n\t\t\t\t\t}),\r\n\t\t\t\t);\r\n\t\t\t\tdispatch(setReservationLoading(false));\r\n\t\t\t});\r\n\t\t\tReactTooltip.rebuild();\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tconsole.error(error);\r\n\t\tdispatch(setReservationLoading(false));\r\n\t}\r\n};\r\n\r\n/**\r\n * Get one reservation by id\r\n */\r\nexport const getReservation = (id: string | number): ReservationsThunkAction => async (\r\n\tdispatch,\r\n\tgetState,\r\n) => {\r\n\tconst {data, loading} = getState().reservations;\r\n\tif (loading) return;\r\n\r\n\tconst reservationPart = data.reservations.filter((r) => r.id === id)[0];\r\n\tbatch(() => {\r\n\t\tdispatch(setReservationLoading(true));\r\n\t\treservationPart && dispatch(setReservation(reservationPart));\r\n\t});\r\n\r\n\ttry {\r\n\t\tconst [reserveRes, extrasRes] = await Promise.all([\r\n\t\t\trsApi.getReservation(id),\r\n\t\t\trsApi.getReservationExtras(id),\r\n\t\t]);\r\n\t\tif (reserveRes.data.status && extrasRes.data.status) {\r\n\t\t\tconst {extras, insurances, taxes, delivery_data} = extrasRes.data.data;\r\n\t\t\tbatch(() => {\r\n\t\t\t\tdispatch(\r\n\t\t\t\t\tsetReservation({\r\n\t\t\t\t\t\t...reserveRes.data.data,\r\n\t\t\t\t\t\textras_data: {\r\n\t\t\t\t\t\t\textras,\r\n\t\t\t\t\t\t\tinsurances,\r\n\t\t\t\t\t\t\ttaxes,\r\n\t\t\t\t\t\t\tdelivery_data,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}),\r\n\t\t\t\t);\r\n\t\t\t\tdispatch(setReservationLoading(false));\r\n\t\t\t});\r\n\t\t\tReactTooltip.rebuild();\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tconsole.error(error);\r\n\t\tdispatch(setReservationLoading(false));\r\n\t}\r\n};\r\n\r\n/**\r\n * Update current reservation\r\n */\r\nexport const updateReservation = (\r\n\tdata: any,\r\n\tonSuccess?: () => void,\r\n\tonError?: (error?: any) => void,\r\n): ReservationsThunkAction => async (dispatch, getState) => {\r\n\tconst {reservation, loading} = getState().reservations;\r\n\tif (loading || !reservation) return;\r\n\r\n\tdispatch(setReservationLoading(true));\r\n\r\n\ttry {\r\n\t\tconst response = await rsApi.putReservation(reservation.id, data);\r\n\t\tif (response.data.status) {\r\n\t\t\tbatch(() => {\r\n\t\t\t\tdispatch(setReservationPart(response.data.data));\r\n\t\t\t\tdispatch(setReservationLoading(false));\r\n\t\t\t});\r\n\t\t\tReactTooltip.rebuild();\r\n\t\t\tonSuccess && onSuccess();\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tconsole.error(error);\r\n\t\tdispatch(setReservationLoading(false));\r\n\t\tonError && onError(error);\r\n\t}\r\n};\r\n\r\n/**\r\n * Reject current reservation\r\n */\r\nexport const rejectReservation = (\r\n\tmessage: string = \"\",\r\n\tonSuccess?: () => void,\r\n\tonError?: (error?: any) => void,\r\n): ReservationsThunkAction => async (dispatch, getState) => {\r\n\tconst {reservation, loading} = getState().reservations;\r\n\tif (loading || !reservation) return;\r\n\r\n\tdispatch(setReservationLoading(true));\r\n\r\n\ttry {\r\n\t\tconst response = await rsApi.putReservationReject(reservation.id, {message});\r\n\t\tif (response.data.status) {\r\n\t\t\tbatch(() => {\r\n\t\t\t\tdispatch(\r\n\t\t\t\t\tsetReservationPart({\r\n\t\t\t\t\t\tstatus: response.data.data.status,\r\n\t\t\t\t\t\tannul: response.data.data.message,\r\n\t\t\t\t\t}),\r\n\t\t\t\t);\r\n\t\t\t\tdispatch(setReservationLoading(false));\r\n\t\t\t});\r\n\t\t\tReactTooltip.rebuild();\r\n\t\t\tonSuccess && onSuccess();\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tconsole.error(error);\r\n\t\tdispatch(setReservationLoading(false));\r\n\t\tonError && onError(error);\r\n\t}\r\n};\r\n\r\n/**\r\n * Update extras\r\n */\r\nexport const updateExtras = (\r\n\tinsurance: IInsurance[],\r\n\textras: IExtra[],\r\n): ReservationsThunkAction => async (dispatch, getState) => {\r\n\tconst {reservation} = getState().reservations;\r\n\tif (!reservation) return;\r\n\r\n\tconst extrasData = {\r\n\t\tinsurance: insurance.filter((i) => i.checked === true)[0].id,\r\n\t\textras: extras.reduce((prev: {[key: string]: number}[], cur) => {\r\n\t\t\tif (cur.quantity > 0) prev.push({quantity: cur.quantity, id: cur.id});\r\n\t\t\treturn prev;\r\n\t\t}, []),\r\n\t};\r\n\r\n\ttry {\r\n\t\tconst response = await rsApi.putReservationExtras(reservation.id, extrasData);\r\n\t\tif (response.data.status) {\r\n\t\t\tconst {extras, insurances, taxes, prices, delivery_data} = response.data.data;\r\n\t\t\tdispatch(\r\n\t\t\t\tsetReservationPart({\r\n\t\t\t\t\textras_data: {\r\n\t\t\t\t\t\textras,\r\n\t\t\t\t\t\tinsurances,\r\n\t\t\t\t\t\ttaxes,\r\n\t\t\t\t\t\tdelivery_data,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tprices,\r\n\t\t\t\t}),\r\n\t\t\t);\r\n\t\t\tReactTooltip.rebuild();\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tconsole.error(error);\r\n\t}\r\n};\r\n\r\n/**\r\n * Upload signature for reservation\r\n */\r\nexport const uploadSignature = (\r\n\tsignature: string = \"\",\r\n\tfile: Blob,\r\n\tonSuccess?: () => void,\r\n\tonError?: (error?: any) => void,\r\n): ReservationsThunkAction => async (dispatch, getState) => {\r\n\tconst {reservation, loading} = getState().reservations;\r\n\tif (loading || !reservation) return;\r\n\r\n\tdispatch(setReservationLoading(true));\r\n\r\n\ttry {\r\n\t\tconst signResponse = await rsApi.postSignature(reservation.id, file);\r\n\t\tif (signResponse.data.status) {\r\n\t\t\tconst reservationResponse = await rsApi.getReservation(reservation.id);\r\n\t\t\tif (reservationResponse.data.status) {\r\n\t\t\t\tbatch(() => {\r\n\t\t\t\t\tdispatch(setReservationPart(reservationResponse.data.data));\r\n\t\t\t\t\tdispatch(setReservationLoading(false));\r\n\t\t\t\t});\r\n\t\t\t\tReactTooltip.rebuild();\r\n\t\t\t\tonSuccess && onSuccess();\r\n\t\t\t}\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tconsole.error(error);\r\n\t\tdispatch(setReservationLoading(false));\r\n\t\tonError && onError(error);\r\n\t}\r\n};\r\n","import {batch} from \"react-redux\";\r\nimport {\r\n\tSET_DRIVER_LOADING,\r\n\tUPDATE_DRIVER,\r\n\tDriverActionTypes,\r\n\tDriverThunkAction,\r\n} from \"../types/driver-types\";\r\nimport rsApi from \"../../api/rsApi\";\r\n\r\nconst setDriverLoading = (loading: boolean): DriverActionTypes => {\r\n\treturn {\r\n\t\ttype: SET_DRIVER_LOADING,\r\n\t\tpayload: loading,\r\n\t};\r\n};\r\n\r\nconst updateDriver = (driver: IDriver): DriverActionTypes => {\r\n\treturn {\r\n\t\ttype: UPDATE_DRIVER,\r\n\t\tpayload: driver,\r\n\t};\r\n};\r\n\r\nexport const getDriver = (): DriverThunkAction => async (dispatch, getState) => {\r\n\tconst {loading} = getState().driver;\r\n\tif (loading) return;\r\n\tdispatch(setDriverLoading(true));\r\n\ttry {\r\n\t\tconst response = await rsApi.getDriverInfo();\r\n\t\tif (response.data.status) {\r\n\t\t\tconst {data} = response.data;\r\n\t\t\tbatch(() => {\r\n\t\t\t\tdispatch(updateDriver(data));\r\n\t\t\t\tdispatch(setDriverLoading(false));\r\n\t\t\t});\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tconsole.error(error);\r\n\t\tdispatch(setDriverLoading(false));\r\n\t}\r\n};\r\n","import {useState} from \"react\";\r\n\r\ntype IProps = {\r\n\tisOpen?: boolean;\r\n\tonOpen?: () => void;\r\n\tonClose?: () => void;\r\n};\r\n\r\nexport const useCard = (options?: IProps) => {\r\n\tconst {isOpen = false, onOpen, onClose} = options || {};\r\n\tconst [open, setToggle] = useState(isOpen);\r\n\r\n\tconst toggleCard = (open?: boolean): void => {\r\n\t\tif (open !== undefined) {\r\n\t\t\tsetToggle(open);\r\n\t\t\topen && (onOpen ? onOpen() : onClose && onClose());\r\n\t\t} else {\r\n\t\t\tsetToggle((prev) => !prev);\r\n\t\t}\r\n\t};\r\n\r\n\tconst openCard = () => {\r\n\t\tsetToggle(true);\r\n\t\tonOpen && onOpen();\r\n\t};\r\n\r\n\tconst closeCard = () => {\r\n\t\tsetToggle(false);\r\n\t\tonClose && onClose();\r\n\t};\r\n\r\n\treturn {open, toggleCard, openCard, closeCard} as const;\r\n};\r\n","import {useEffect} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {useTypedSelector} from \"../redux\";\r\nimport {getDriver} from \"../redux/actions\";\r\n\r\nexport const useDriver = () => {\r\n\tconst {data, loading} = useTypedSelector((store) => store.driver);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(getDriver());\r\n\t}, [dispatch]);\r\n\r\n\treturn {\r\n\t\tdriver: data,\r\n\t\tloading,\r\n\t};\r\n};\r\n","import {useState} from \"react\";\r\nimport {useDispatch, shallowEqual} from \"react-redux\";\r\nimport {useTypedSelector} from \"../redux\";\r\nimport {sendMail, resetErrors} from \"../redux/actions\";\r\nimport {IFormFields} from \"../redux/types/auth-types\";\r\n\r\nexport const useLoginForm = (fields: IFormFields) => {\r\n\tconst [values, setValues] = useState(fields);\r\n\tconst {loading, errors} = useTypedSelector((store) => store.auth, shallowEqual);\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst onSubmitForm = (e: React.FormEvent<HTMLFormElement>) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(sendMail(values.email));\r\n\t};\r\n\r\n\tconst onValueChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n\t\tconst {name, value} = e.target;\r\n\t\tsetValues((prevValues) => ({\r\n\t\t\t...prevValues,\r\n\t\t\t[name]: value,\r\n\t\t}));\r\n\t};\r\n\r\n\tconst onFocus = (e: React.FocusEvent<HTMLInputElement>) => {\r\n\t\tdispatch(resetErrors(e.currentTarget.name));\r\n\t};\r\n\r\n\treturn {loading, values, errors, onSubmitForm, onValueChange, onFocus};\r\n};\r\n","import {useEffect, useState} from \"react\";\r\n\r\nexport const useMedia = <T>(queries: string[], values: T[], defaultValue: T) => {\r\n\t// Array containing a media query list for each query\r\n\tconst mediaQueryLists = queries.map((q) => window.matchMedia(q));\r\n\r\n\t// Function that gets value based on matching media query\r\n\tconst getValue = () => {\r\n\t\t// Get index of first media query that matches\r\n\t\tconst index = mediaQueryLists.findIndex((mql) => mql.matches);\r\n\t\t// Return related value or defaultValue if none\r\n\t\treturn values?.[index] || defaultValue;\r\n\t};\r\n\r\n\t// State and setter for matched value\r\n\tconst [value, setValue] = useState<T>(getValue);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\t// Event listener callback\r\n\t\t\t// Note: By defining getValue outside of useEffect we ensure that it has ...\r\n\t\t\t// ... current values of hook args (as this hook callback is created once on mount).\r\n\t\t\tconst handler = () => setValue(getValue);\r\n\t\t\t// Set a listener for each media query with above handler as callback.\r\n\t\t\tmediaQueryLists.forEach((mql) => mql.addListener(handler));\r\n\t\t\t// Remove listeners on cleanup\r\n\t\t\treturn () => mediaQueryLists.forEach((mql) => mql.removeListener(handler));\r\n\t\t},\r\n\t\t// eslint-disable-next-line\r\n\t\t[], // Empty array ensures effect is only run on mount and unmount\r\n\t);\r\n\r\n\treturn value;\r\n};\r\n","import {useState} from \"react\";\r\n\r\ninterface IUseModal {\r\n\tisOpen?: boolean;\r\n\tonOpen?: () => void;\r\n\tonClose?: () => void;\r\n}\r\n\r\nexport const useModal = (options?: IUseModal) => {\r\n\tconst {isOpen, onOpen, onClose} = options || {};\r\n\tconst [modalOpen, setModalStatus] = useState(isOpen || false);\r\n\r\n\tconst toggleModal = (open: boolean): void => {\r\n\t\tif (open !== undefined) {\r\n\t\t\tsetModalStatus(open);\r\n\t\t\topen && (onOpen ? onOpen() : onClose && onClose());\r\n\t\t} else {\r\n\t\t\tsetModalStatus((prev) => !prev);\r\n\t\t}\r\n\t};\r\n\r\n\treturn [modalOpen, toggleModal] as const;\r\n};\r\n","import {useEffect} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {useTypedSelector} from \"../redux\";\r\nimport {getReservation} from \"../redux/actions\";\r\n\r\nexport const useReservation = (id: string | number) => {\r\n\tconst {reservation, loading} = useTypedSelector((store) => store.reservations);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(getReservation(+id));\r\n\t}, [id, dispatch]);\r\n\r\n\treturn {\r\n\t\treservation,\r\n\t\tloading,\r\n\t};\r\n};\r\n","import {useHistory, useLocation} from \"react-router-dom\";\r\nimport queryString, {ParsedQuery} from \"query-string\";\r\n\r\ntype IParams = {\r\n\tname: string;\r\n\tvalue: string | number | undefined | null;\r\n};\r\n\r\nexport const useSearch = () => {\r\n\tconst {search} = useLocation();\r\n\tconst {push} = useHistory();\r\n\r\n\tconst formParamsObject = (params: IParams[]): ParsedQuery => {\r\n\t\tlet newSearch = {};\r\n\t\tparams.forEach(({name, value}) => {\r\n\t\t\tnewSearch = {...newSearch, [name]: value};\r\n\t\t});\r\n\r\n\t\treturn newSearch;\r\n\t};\r\n\r\n\tconst updateLocationSearch = (params: IParams[]): void => {\r\n\t\tconst searchParams = queryString.parse(search);\r\n\t\tconst newSearch = formParamsObject(params);\r\n\t\tpush({\r\n\t\t\tsearch: queryString.stringify({...searchParams, ...newSearch}),\r\n\t\t});\r\n\t};\r\n\r\n\tconst setLocationSearch = (params: IParams[]): void => {\r\n\t\tconst newSearch = formParamsObject(params);\r\n\t\tpush({\r\n\t\t\tsearch: queryString.stringify(newSearch),\r\n\t\t});\r\n\t};\r\n\r\n\treturn {\r\n\t\tsetLocationSearch,\r\n\t\tupdateLocationSearch,\r\n\t};\r\n};\r\n","export const getTrimmedImg = (c: HTMLCanvasElement): string => {\r\n\tconst ctx = c.getContext(\"2d\");\r\n\tconst copy = document.createElement(\"canvas\").getContext(\"2d\");\r\n\tif (!ctx || !copy) return \"\";\r\n\r\n\tconst pixels = ctx.getImageData(0, 0, c.width, c.height);\r\n\tconst l = pixels.data.length;\r\n\tconst bound = {\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\tright: 0,\r\n\t\tbottom: 0,\r\n\t};\r\n\tlet i, x, y;\r\n\r\n\t// Iterate over every pixel to find the highest\r\n\t// and where it ends on every axis ()\r\n\tfor (i = 0; i < l; i += 4) {\r\n\t\tif (pixels.data[i + 3] !== 0) {\r\n\t\t\tx = (i / 4) % c.width;\r\n\t\t\ty = ~~(i / 4 / c.width);\r\n\r\n\t\t\tif (bound.top === 0) {\r\n\t\t\t\tbound.top = y;\r\n\t\t\t}\r\n\r\n\t\t\tif (bound.left === 0) {\r\n\t\t\t\tbound.left = x;\r\n\t\t\t} else if (x < bound.left) {\r\n\t\t\t\tbound.left = x;\r\n\t\t\t}\r\n\r\n\t\t\tif (bound.right === 0) {\r\n\t\t\t\tbound.right = x;\r\n\t\t\t} else if (bound.right < x) {\r\n\t\t\t\tbound.right = x;\r\n\t\t\t}\r\n\r\n\t\t\tif (bound.bottom === 0) {\r\n\t\t\t\tbound.bottom = y;\r\n\t\t\t} else if (bound.bottom < y) {\r\n\t\t\t\tbound.bottom = y;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Calculate the height and width of the content\r\n\tlet trimHeight = bound.bottom - bound.top,\r\n\t\ttrimWidth = bound.right - bound.left,\r\n\t\ttrimmed = ctx.getImageData(bound.left, bound.top, trimWidth, trimHeight);\r\n\r\n\tcopy.canvas.width = trimWidth;\r\n\tcopy.canvas.height = trimHeight;\r\n\tcopy.putImageData(trimmed, 0, 0);\r\n\r\n\t// Return trimmed canvas\r\n\treturn copy.canvas.toDataURL();\r\n};\r\n\r\nexport const dataURItoBlob = (dataURI: string): Blob => {\r\n\t// convert base64/URLEncoded data component to raw binary data held in a string\r\n\tlet byteString: string = \"\";\r\n\tif (dataURI.split(\",\")[0].indexOf(\"base64\") >= 0) {\r\n\t\tbyteString = atob(dataURI.split(\",\")[1]);\r\n\t} else {\r\n\t\tbyteString = unescape(dataURI.split(\",\")[1]);\r\n\t}\r\n\r\n\t// separate out the mime component\r\n\tvar mimeString = dataURI.split(\",\")[0].split(\":\")[1].split(\";\")[0];\r\n\r\n\t// write the bytes of the string to a typed array\r\n\tvar ia = new Uint8Array(byteString.length);\r\n\tfor (var i = 0; i < byteString.length; i++) {\r\n\t\tia[i] = byteString.charCodeAt(i);\r\n\t}\r\n\r\n\treturn new Blob([ia], {type: mimeString});\r\n};\r\n\r\n/**\r\n * Make first letter Upper case\r\n */\r\nexport const ucFirst = (str: string): string => {\r\n\tif (!str) return str;\r\n\treturn str[0].toUpperCase() + str.slice(1).toLowerCase();\r\n};\r\n\r\n/**\r\n * remove space between date and time from sting date\r\n */\r\nexport const unspaceDate = (date: string): string => {\r\n\treturn date.replace(/\\s/, \"T\");\r\n};\r\n\r\ninterface IFormatDate {\r\n\tday: number;\r\n\tmonth: string | number;\r\n\tyear: number;\r\n\ttime: string;\r\n}\r\n/**\r\n * Split date for days, month, years and time\r\n */\r\nexport const splitDate = (date: string): IFormatDate | null => {\r\n\tif (!date) return null;\r\n\tconst curDate = new Date(unspaceDate(date));\r\n\tconst curHours = curDate.getHours();\r\n\tconst curMinutes = curDate.getMinutes();\r\n\treturn {\r\n\t\tday: curDate.getDate(),\r\n\t\tmonth: curDate.toLocaleString(\"en\", {month: \"short\"}),\r\n\t\tyear: curDate.getFullYear(),\r\n\t\ttime: `${curHours < 10 ? `0${curHours}` : curHours}:${\r\n\t\t\tcurMinutes < 10 ? `0${curMinutes}` : curMinutes\r\n\t\t}`,\r\n\t};\r\n};\r\n\r\n/**\r\n * add zero if digit < 10\r\n */\r\nexport const addZero = (num: number): string | number => {\r\n\tif (num < 0 || num >= 10) return num;\r\n\treturn `0${num}`;\r\n};\r\n","import {useEffect, useRef} from \"react\";\r\nimport SignaturePad from \"signature_pad\";\r\nimport {getTrimmedImg, dataURItoBlob} from \"../helpers/utils\";\r\n\r\ntype UseSignatureProps = {\r\n\tonDraw?: () => void;\r\n};\r\n\r\nexport const useSignature = (options?: UseSignatureProps) => {\r\n\tconst signRef = useRef<HTMLCanvasElement | null>(null);\r\n\tconst signaturePad = useRef<SignaturePad | null>(null);\r\n\r\n\tconst clearSignature = (): void => {\r\n\t\tif (signaturePad.current) {\r\n\t\t\tsignaturePad.current.clear();\r\n\t\t}\r\n\t};\r\n\r\n\tconst resizeCanvas = (): void => {\r\n\t\tif (signRef.current) {\r\n\t\t\tsignRef.current.width = signRef.current.offsetWidth || 700;\r\n\t\t\tsignRef.current.height = signRef.current.offsetHeight || 400;\r\n\t\t}\r\n\t\tclearSignature();\r\n\t};\r\n\r\n\tconst confirmSignature = (callback?: (signature: string, file: Blob) => void): void => {\r\n\t\tif (signRef.current && signaturePad.current && !signaturePad.current.isEmpty()) {\r\n\t\t\tconst signature = getTrimmedImg(signRef.current);\r\n\t\t\tconst file = dataURItoBlob(signature);\r\n\r\n\t\t\tcallback && callback(signature, file);\r\n\t\t} else {\r\n\t\t\t//TODO: empty SignaturePad\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (signRef.current) {\r\n\t\t\tsignaturePad.current = new SignaturePad(signRef.current, {\r\n\t\t\t\tmaxWidth: 1.5,\r\n\t\t\t\tbackgroundColor: \"rgba(255, 255, 255, 0)\",\r\n\t\t\t\tpenColor: \"#000000\",\r\n\t\t\t\tonBegin: options && (options.onDraw || undefined),\r\n\t\t\t});\r\n\t\t\tresizeCanvas();\r\n\r\n\t\t\twindow.addEventListener(\"resize\", resizeCanvas);\r\n\t\t}\r\n\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener(\"resize\", resizeCanvas);\r\n\t\t};\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn {signRef, clearSignature, confirmSignature} as const;\r\n};\r\n","import React, {useState} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport Modal from \"react-modal\";\r\nimport {rejectReservation} from \"../../../redux/actions\";\r\nimport {Button} from \"../../\";\r\n\r\nimport styles from \"./annul.module.sass\";\r\n\r\nimport {useModal} from \"../../../hooks\";\r\n\r\nexport const Annual: React.FC = () => {\r\n\tconst dispatch = useDispatch();\r\n\tconst [modalOpen, toggleModal] = useModal();\r\n\tconst [message, setMessage] = useState(\"\");\r\n\tconst [error, setError] = useState(\"\");\r\n\r\n\tconst openAnnualModalHandler = (e: React.MouseEvent<HTMLButtonElement>): void => {\r\n\t\ttoggleModal(true);\r\n\t};\r\n\r\n\tconst closeModalHandler = (e: React.MouseEvent<HTMLButtonElement>): void => {\r\n\t\ttoggleModal(false);\r\n\t};\r\n\r\n\tconst onAnnualConfirm = (e: React.MouseEvent<HTMLButtonElement>): void => {\r\n\t\tif (message.length < 20) {\r\n\t\t\tsetError(\"Needed more than 20 symbols\");\r\n\t\t} else {\r\n\t\t\tsetError(\"\");\r\n\t\t\tdispatch(\r\n\t\t\t\trejectReservation(\r\n\t\t\t\t\tmessage,\r\n\t\t\t\t\t//TODO: process erros for annual reservation\r\n\t\t\t\t),\r\n\t\t\t);\r\n\t\t\ttoggleModal(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst messageChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n\t\tsetMessage(e.target.value);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Button text=\"Annual\" size=\"small\" onClick={openAnnualModalHandler} />\r\n\t\t\t<Modal\r\n\t\t\t\tclassName={`rs-modal ${styles.annual__modal}`}\r\n\t\t\t\tisOpen={modalOpen}\r\n\t\t\t\tcontentLabel=\"Sign Modal\"\r\n\t\t\t\tonRequestClose={closeModalHandler}>\r\n\t\t\t\t<div className=\"rs-modal__header\">\r\n\t\t\t\t\t<span className=\"rs-modal__title\">Why Annul?</span>\r\n\t\t\t\t\t<button className=\"rs-modal__close\" onClick={closeModalHandler}>\r\n\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"rs-modal__body\">\r\n\t\t\t\t\t<textarea className={styles.message} value={message} onChange={messageChange} rows={5} />\r\n\t\t\t\t\t{error && <p className={styles.annual__error}>{error}</p>}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"rs-modal__footer rs-modal__controls\">\r\n\t\t\t\t\t<Button text=\"Cancel\" onClick={closeModalHandler} />\r\n\t\t\t\t\t<Button text=\"Annual\" onClick={onAnnualConfirm} />\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport {useTypedSelector} from \"../../../redux\";\r\n\r\nimport styles from \"./annul.module.sass\";\r\n\r\nexport const AnnualCard: React.FC = () => {\r\n\tconst {annul} = useTypedSelector((store) => store.reservations.reservation) as IReservation;\r\n\treturn annul ? (\r\n\t\t<div className=\"card\">\r\n\t\t\t<div className=\"column\">\r\n\t\t\t\t<div className={`card__title ${styles.annual__title}`}>Annul</div>\r\n\t\t\t</div>\r\n\t\t\t<div className={`column column--2 ${styles[\"text-column\"]}`}>\r\n\t\t\t\t<p className={styles.annual__text}>{annul}</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t) : null;\r\n};\r\n","import React from \"react\";\r\n\r\nimport styles from \"./billing.module.sass\";\r\n\r\ninterface IDocsLinks {\r\n\tlinks: {\r\n\t\tagreement_url: string;\r\n\t\tinvoice_url: string;\r\n\t};\r\n}\r\n\r\nexport const DocsLinks: React.FC<IDocsLinks> = ({links}) => {\r\n\treturn (\r\n\t\t<ul className={`${styles[\"links-list\"]} links-list`}>\r\n\t\t\t<li>\r\n\t\t\t\t<a href={links.agreement_url} rel=\"noopener noreferrer\" target=\"_blank\">\r\n\t\t\t\t\tAgreement\r\n\t\t\t\t</a>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<a href={links.invoice_url} rel=\"noopener noreferrer\" target=\"_blank\">\r\n\t\t\t\t\tInvoice\r\n\t\t\t\t</a>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t);\r\n};\r\n","import React, {useState} from \"react\";\r\nimport {Select} from \"../../\";\r\n// import {PaymentModal} from \"./PaymentModal\";\r\n\r\nimport styles from \"./billing.module.sass\";\r\n\r\ninterface IPayments {\r\n\tmethods: paymentMethodType[];\r\n}\r\n\r\nexport const Payments: React.FC<IPayments> = ({methods}) => {\r\n\tconst [payment, setPayment] = useState<IOption | null>(null);\r\n\r\n\tconst options = methods.map((method) => ({\r\n\t\tvalue: method.value,\r\n\t\tlabel: method.name,\r\n\t\ticon: method.image,\r\n\t}));\r\n\r\n\tconst onPaymenthange = (selected: IOption) => {\r\n\t\tsetPayment(selected);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Select\r\n\t\t\tclassName={styles.payment}\r\n\t\t\tname=\"payments\"\r\n\t\t\tonChange={onPaymenthange}\r\n\t\t\toptions={options}\r\n\t\t\tplaceholder=\"Payment method\"\r\n\t\t\tvalue={payment}\r\n\t\t\twithIcon\r\n\t\t/>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {useTypedSelector} from \"../../../redux\";\r\nimport {uploadSignature} from \"../../../redux/actions\";\r\nimport {Signature} from \"../../\";\r\n\r\nimport stylesSign from \"../../Signature/signature.module.sass\";\r\nimport styles from \"./billing.module.sass\";\r\n\r\nimport {useModal} from \"../../../hooks\";\r\n\r\nModal.setAppElement(\"#rentsyst_personal\");\r\n\r\nexport const SignatureModal: React.FC = () => {\r\n\tconst {reservation, loading} = useTypedSelector((store) => store.reservations);\r\n\tconst src = reservation && reservation.signature.url ? reservation.signature.url : \"\";\r\n\r\n\tconst lowerCaseStatus = reservation && reservation.status.toLowerCase();\r\n\tconst isRedjected = lowerCaseStatus === \"reject\" || lowerCaseStatus === \"cancel\";\r\n\r\n\tconst [modalOpen, toggleModal] = useModal();\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst openSignModalHandler = (e: React.MouseEvent<HTMLButtonElement>): void => {\r\n\t\ttoggleModal(true);\r\n\t};\r\n\r\n\tconst closeModalHandler = () => {\r\n\t\ttoggleModal(false);\r\n\t};\r\n\r\n\tconst onSignatureConfirm = (signature: string, file: Blob): void => {\r\n\t\ttoggleModal(false);\r\n\t\tdispatch(uploadSignature(signature, file));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={styles.sign__modal}>\r\n\t\t\t{src ? (\r\n\t\t\t\t<img className={stylesSign.sign__preview} src={src} alt=\"\" />\r\n\t\t\t) : (\r\n\t\t\t\t<div className={styles.sign__create}>\r\n\t\t\t\t\t<i className=\"fico fico-contract\" />\r\n\t\t\t\t\t<span className={styles[\"sign__create-text\"]}>Sign an agreement</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Skeleton width={\"100%\"} height={\"100%\"} className={styles[\"sign__btn-skelet\"]} />\r\n\t\t\t) : (\r\n\t\t\t\t!isRedjected &&\r\n\t\t\t\tlowerCaseStatus !== \"done\" && (\r\n\t\t\t\t\t<button type=\"button\" className={styles.sign__btn} onClick={openSignModalHandler} />\r\n\t\t\t\t)\r\n\t\t\t)}\r\n\t\t\t<Modal\r\n\t\t\t\tclassName={`rs-modal rs-modal--lg ${styles.sign__content}`}\r\n\t\t\t\tisOpen={modalOpen}\r\n\t\t\t\tcontentLabel=\"Sign Modal\"\r\n\t\t\t\tonRequestClose={closeModalHandler}>\r\n\t\t\t\t<div className=\"sign-modal__content\">\r\n\t\t\t\t\t<div className=\"rs-modal__header\">\r\n\t\t\t\t\t\t<span className=\"rs-modal__title\">Signature</span>\r\n\t\t\t\t\t\t<button className=\"rs-modal__close\" onClick={closeModalHandler}>\r\n\t\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"rs-modal__body\">\r\n\t\t\t\t\t\t<Signature preview={src} onConfirm={onSignatureConfirm} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport {useTypedSelector} from \"../../../redux/\";\r\nimport {DocsLinks} from \"./DocsLinks\";\r\nimport {Payments} from \"./Payments\";\r\nimport {SignatureModal} from \"./SignatureModal\";\r\n\r\nimport styles from \"./billing.module.sass\";\r\n\r\nexport const BillingCard: React.FC = () => {\r\n\tconst {agreement_url, invoice_url, currency, prices, payment_methods} = useTypedSelector(\r\n\t\t(store) => store.reservations.reservation,\r\n\t) as IReservation;\r\n\r\n\treturn (\r\n\t\t<div className={`card ${styles.bc}`}>\r\n\t\t\t<div className=\"column column--title\">\r\n\t\t\t\t<div className=\"card__title\">Billing information</div>\r\n\t\t\t\t<DocsLinks links={{agreement_url, invoice_url}} />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"column\">\r\n\t\t\t\t<div className={`label-title ${styles.payment__label}`}>Payment type</div>\r\n\t\t\t\t<Payments methods={payment_methods} />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"column column--last\">\r\n\t\t\t\t<div className=\"column__row jc-sb ai-b\">\r\n\t\t\t\t\t<div className=\"label-title paid-label\">Paid:</div>\r\n\t\t\t\t\t<div className=\"price bold\">\r\n\t\t\t\t\t\t{prices.paid}&nbsp;{currency.symbol}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={`column__row ${styles.sign__row}`}>\r\n\t\t\t\t\t<div className={styles.sign__place}>\r\n\t\t\t\t\t\t<SignatureModal />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React, {forwardRef} from \"react\";\r\nimport styles from \"./de.module.sass\";\r\n\r\ninterface IDateInput {\r\n\tvalue: string;\r\n\tonClick: () => void;\r\n}\r\n\r\nexport const DateInput = forwardRef<HTMLDivElement, IDateInput>(({value, onClick}, ref) => {\r\n\tconst [date, time] = value ? value.split(\" || \") : [\"--- | -- | ----\", \"--:--\"];\r\n\r\n\treturn (\r\n\t\t<div className={styles[\"control-wrap\"]} ref={ref} onClick={onClick}>\r\n\t\t\t<i className=\"fico fico-calendar\" />\r\n\t\t\t<div className={styles[\"date-val\"]}>\r\n\t\t\t\t<div className={styles.date}>{date}</div>\r\n\t\t\t\t<div className={styles.time}>{time}</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n});\r\n","import React, {useState, useEffect} from \"react\";\r\nimport DatePicker, {registerLocale} from \"react-datepicker\";\r\nimport {isEqual} from \"underscore\";\r\nimport enGB from \"date-fns/locale/en-GB\";\r\nimport setHours from \"date-fns/setHours\";\r\nimport setMinutes from \"date-fns/setMinutes\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport {addZero, unspaceDate} from \"../../helpers/utils\";\r\nimport {DateInput} from \"./DateInput\";\r\nimport styles from \"./de.module.sass\";\r\nregisterLocale(\"en-GB\", enGB);\r\n\r\ntype pickerDateType = Date | undefined;\r\n\r\ntype disabledDate = {\r\n\tfrom: string;\r\n\tto: string;\r\n};\r\n\r\ninterface IDateEdit {\r\n\tinitialDates: [string, string];\r\n\tavailableTimes: [workingType[] | null, workingType[] | null];\r\n\tdisabledDates: disabledDate[];\r\n\tonChange: (s: string, e: string) => void;\r\n}\r\n\r\nexport const DateEdit: React.FC<IDateEdit> = ({\r\n\tinitialDates,\r\n\tavailableTimes,\r\n\tdisabledDates,\r\n\tonChange,\r\n}) => {\r\n\tconst [weekT, setWeekT] = useState(availableTimes);\r\n\r\n\tconst formatTime = (day: Date, time: string): Date => {\r\n\t\tconst [hours, minustes] = time.split(\":\");\r\n\t\treturn setHours(setMinutes(day, +minustes), +hours);\r\n\t};\r\n\r\n\tconst formatChangedDate = (date: pickerDateType): string => {\r\n\t\tif (!date) return \"\";\r\n\t\treturn `${date.getFullYear()}-${addZero(date.getMonth() + 1)}-${addZero(\r\n\t\t\tdate.getDate(),\r\n\t\t)} ${addZero(date.getHours())}:${addZero(date.getMinutes())}`;\r\n\t};\r\n\r\n\tconst getDayTime = (day: pickerDateType, path: 0 | 1, period: \"from\" | \"to\"): pickerDateType => {\r\n\t\tif (!day) return;\r\n\t\tconst weekDay = (day.getDay() + 6) % 7;\r\n\t\tconst weekTimes = availableTimes[path];\r\n\t\tif (weekTimes) {\r\n\t\t\tconst dayPeriodTime = weekTimes[weekDay][period];\r\n\t\t\tif (dayPeriodTime) {\r\n\t\t\t\treturn formatTime(day, dayPeriodTime);\r\n\t\t\t} else {\r\n\t\t\t\treturn setHours(setMinutes(day, 0), 0);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn;\r\n\t};\r\n\r\n\tconst getWorkingDate = (\r\n\t\tdate: Date,\r\n\t\tpath: 0 | 1,\r\n\t): {\r\n\t\tmin: pickerDateType;\r\n\t\tmax: pickerDateType;\r\n\t\tselected: Date;\r\n\t} => {\r\n\t\tlet newDate: Date = date;\r\n\t\tconst newMinTime = getDayTime(date, path, \"from\");\r\n\t\tconst newMaxTime = getDayTime(date, path, \"to\");\r\n\t\tif (newMinTime && newMinTime.getTime() > date.getTime()) {\r\n\t\t\tnewDate = newMinTime;\r\n\t\t} else if (newMaxTime && newMaxTime.getTime() < date.getTime()) {\r\n\t\t\tnewDate = newMaxTime;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tmin: newMinTime,\r\n\t\t\tmax: newMaxTime,\r\n\t\t\tselected: newDate,\r\n\t\t};\r\n\t};\r\n\r\n\tconst [startDate, setStartDate] = useState<pickerDateType>(\r\n\t\tnew Date(unspaceDate(initialDates[0])),\r\n\t);\r\n\tconst [endDate, setEndDate] = useState<pickerDateType>(new Date(unspaceDate(initialDates[1])));\r\n\tconst [minTimeFrom, setMinTimeFrom] = useState<pickerDateType>(() =>\r\n\t\tgetDayTime(startDate, 0, \"from\"),\r\n\t);\r\n\tconst [maxTimeFrom, setMaxTimeFrom] = useState<pickerDateType>(() =>\r\n\t\tgetDayTime(startDate, 0, \"to\"),\r\n\t);\r\n\tconst [minTimeTo, setMinTimeTo] = useState<pickerDateType>(() => getDayTime(endDate, 1, \"from\"));\r\n\tconst [maxTimeTo, setMaxTimeTo] = useState<pickerDateType>(() => getDayTime(endDate, 1, \"to\"));\r\n\r\n\tconst checkRangeInDisabled = (dateFrom: pickerDateType, dateTo: pickerDateType): boolean => {\r\n\t\tif (!dateFrom || !dateTo) return false;\r\n\t\tconst dateFromTime = dateFrom.getTime();\r\n\t\tconst dateToTime = dateTo.getTime();\r\n\t\tfor (let i = 0; i < disabledDates.length; i++) {\r\n\t\t\tconst dFromTime = new Date(unspaceDate(disabledDates[i].from)).getTime();\r\n\t\t\tconst dToTime = new Date(unspaceDate(disabledDates[i].to)).getTime();\r\n\t\t\tif (dateFromTime > dFromTime && dateFromTime <= dToTime) return true;\r\n\t\t\tif (dateToTime > dFromTime && dateToTime <= dToTime) return true;\r\n\t\t\tif (dFromTime > dateFromTime && dateToTime >= dToTime) return true;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\tconst fromPickerChange = (date: Date): void => {\r\n\t\tconst workingDate = getWorkingDate(date, 0);\r\n\t\tif (\r\n\t\t\tworkingDate.min &&\r\n\t\t\tworkingDate.max &&\r\n\t\t\tworkingDate.min.getTime() === workingDate.max.getTime()\r\n\t\t)\r\n\t\t\treturn;\r\n\t\tif (\r\n\t\t\t(endDate && workingDate.selected.getTime() > endDate.getTime()) ||\r\n\t\t\tcheckRangeInDisabled(workingDate.selected, endDate)\r\n\t\t) {\r\n\t\t\tsetEndDate(undefined);\r\n\t\t}\r\n\t\tsetStartDate(workingDate.selected);\r\n\t\tsetMinTimeFrom(workingDate.min);\r\n\t\tsetMaxTimeFrom(workingDate.max);\r\n\t\tonChange(formatChangedDate(workingDate.selected), formatChangedDate(endDate));\r\n\t};\r\n\r\n\tconst toPickerChange = (date: Date): void => {\r\n\t\tconst workingDate = getWorkingDate(date, 1);\r\n\t\tif (\r\n\t\t\tworkingDate.min &&\r\n\t\t\tworkingDate.max &&\r\n\t\t\tworkingDate.min.getTime() === workingDate.max.getTime()\r\n\t\t)\r\n\t\t\treturn;\r\n\t\tif (\r\n\t\t\t(startDate && workingDate.selected.getTime() <= startDate.getTime()) ||\r\n\t\t\tcheckRangeInDisabled(startDate, workingDate.selected)\r\n\t\t)\r\n\t\t\treturn;\r\n\t\tsetEndDate(workingDate.selected);\r\n\t\tsetMinTimeTo(workingDate.min);\r\n\t\tsetMaxTimeTo(workingDate.max);\r\n\t\tonChange(formatChangedDate(startDate), formatChangedDate(workingDate.selected));\r\n\t};\r\n\r\n\tconst excludeDisabled = (date: Date): boolean => {\r\n\t\tconst dateTime = date.getTime();\r\n\t\tif (!disabledDates.length) return true;\r\n\t\tfor (let i = 0; i < disabledDates.length; i++) {\r\n\t\t\tconst dFromTime = new Date(unspaceDate(disabledDates[i].from)).getTime();\r\n\t\t\tconst dToTime = new Date(unspaceDate(disabledDates[i].to)).getTime();\r\n\t\t\tif (dateTime >= dFromTime && dateTime <= dToTime) return false;\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\r\n\tconst updateStartLimits = () => {\r\n\t\tif (startDate) {\r\n\t\t\tconst fromWorkingDate = getWorkingDate(startDate, 0);\r\n\t\t\tsetStartDate(undefined);\r\n\t\t\tsetMinTimeFrom(fromWorkingDate.min);\r\n\t\t\tsetMaxTimeFrom(fromWorkingDate.max);\r\n\t\t}\r\n\t};\r\n\r\n\tconst updateEndLimits = () => {\r\n\t\tif (endDate) {\r\n\t\t\tconst toWorkingDate = getWorkingDate(endDate, 1);\r\n\t\t\tsetEndDate(undefined);\r\n\t\t\tsetMinTimeTo(toWorkingDate.min);\r\n\t\t\tsetMaxTimeTo(toWorkingDate.max);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!isEqual(availableTimes[0], weekT[0])) {\r\n\t\t\tsetWeekT((prevAvailable) => [availableTimes[0], prevAvailable[1]]);\r\n\t\t\tupdateStartLimits();\r\n\t\t}\r\n\r\n\t\tif (!isEqual(availableTimes[1], weekT[1])) {\r\n\t\t\tsetWeekT((prevAvailable) => [prevAvailable[0], availableTimes[1]]);\r\n\t\t\tupdateEndLimits();\r\n\t\t}\r\n\t\t//eslint-disable-next-line\r\n\t}, [availableTimes]);\r\n\r\n\treturn (\r\n\t\t<div className={styles[\"container\"]}>\r\n\t\t\t<div className={styles[\"item\"]}>\r\n\t\t\t\t<div className=\"label\">Pick Up</div>\r\n\t\t\t\t<DatePicker\r\n\t\t\t\t\tonChange={(newStartDate: Date) => fromPickerChange(newStartDate)}\r\n\t\t\t\t\tselected={startDate}\r\n\t\t\t\t\tstartDate={startDate}\r\n\t\t\t\t\tendDate={endDate}\r\n\t\t\t\t\tfilterDate={excludeDisabled}\r\n\t\t\t\t\tselectsStart\r\n\t\t\t\t\tshowTimeSelect\r\n\t\t\t\t\ttimeFormat=\"HH:mm\"\r\n\t\t\t\t\ttimeIntervals={15}\r\n\t\t\t\t\tminTime={minTimeFrom}\r\n\t\t\t\t\tmaxTime={maxTimeFrom}\r\n\t\t\t\t\t//@ts-ignore\r\n\t\t\t\t\tcustomInput={<DateInput />}\r\n\t\t\t\t\tdateFormat=\"MMM | dd | yyyy || HH:mm\"\r\n\t\t\t\t\tlocale=\"en-GB\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles[\"item\"]}>\r\n\t\t\t\t<div className=\"label\">Return</div>\r\n\t\t\t\t<DatePicker\r\n\t\t\t\t\tonChange={(newEndDate: Date) => toPickerChange(newEndDate)}\r\n\t\t\t\t\tselected={endDate}\r\n\t\t\t\t\tstartDate={startDate}\r\n\t\t\t\t\tminDate={startDate}\r\n\t\t\t\t\tendDate={endDate}\r\n\t\t\t\t\tfilterDate={excludeDisabled}\r\n\t\t\t\t\tselectsEnd\r\n\t\t\t\t\tshowTimeSelect\r\n\t\t\t\t\ttimeFormat=\"HH:mm\"\r\n\t\t\t\t\ttimeIntervals={15}\r\n\t\t\t\t\tminTime={minTimeTo}\r\n\t\t\t\t\tmaxTime={maxTimeTo}\r\n\t\t\t\t\t//@ts-ignore\r\n\t\t\t\t\tcustomInput={<DateInput />}\r\n\t\t\t\t\tdateFormat=\"MMM | dd | yyyy || HH:mm\"\r\n\t\t\t\t\tlocale=\"en-GB\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport {splitDate} from \"../../helpers/utils\";\r\n\r\nimport styles from \"./dl.module.sass\";\r\n\r\ninterface IDateLocation {\r\n\tdate: string;\r\n\tlocation: string;\r\n\tonLocationClick?: () => void;\r\n}\r\n\r\nexport const DateLocation: React.FC<IDateLocation> = ({date, location, onLocationClick}) => {\r\n\tconst formatedDate = splitDate(date);\r\n\tif (!formatedDate) return null;\r\n\tconst locationClickHandler = (e: React.MouseEvent) => {\r\n\t\tonLocationClick && onLocationClick();\r\n\t};\r\n\treturn (\r\n\t\t<div className={styles.container}>\r\n\t\t\t<div className={styles.date}>\r\n\t\t\t\t<div className={styles.month}>{formatedDate.month}</div>\r\n\t\t\t\t<div className={styles.day}>{formatedDate.day}</div>\r\n\t\t\t\t<div className={styles.year}>{formatedDate.year}</div>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<div className={styles.location} onClick={locationClickHandler}>\r\n\t\t\t\t\t{location}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={styles.time}>{formatedDate.time}</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from \"react\";\r\n\r\nimport styles from \"./dc.module.sass\";\r\n\r\ninterface IDriverProps {\r\n\tdriver: IDriver;\r\n}\r\n\r\nexport const Driver: React.FC<IDriverProps> = ({driver}) => {\r\n\tconst {first_name, last_name} = driver; //documents here\r\n\tconst documents = [\r\n\t\t{\r\n\t\t\ttitle: \"Driver license\",\r\n\t\t\tnum: \"KJ7783\",\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Passport\",\r\n\t\t\tnum: \"KJ7783FF\",\r\n\t\t},\r\n\t];\r\n\treturn (\r\n\t\t<div className={styles.driver}>\r\n\t\t\t<div className={styles.driver__name}>\r\n\t\t\t\t{first_name} {last_name}\r\n\t\t\t</div>\r\n\t\t\t{documents.length > 0 && (\r\n\t\t\t\t<div className={styles.driver__docs}>\r\n\t\t\t\t\t{documents.map((document) => (\r\n\t\t\t\t\t\t<div className={styles.driver__doc} key={document.num}>\r\n\t\t\t\t\t\t\t<div className={styles[\"driver__doc-label\"]}>{document.title}</div>\r\n\t\t\t\t\t\t\t<div className={styles[\"driver__doc-num\"]}>{document.num}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport formatDistanceStrict from \"date-fns/formatDistanceStrict\";\r\nimport {unspaceDate} from \"../../../helpers//utils\";\r\n// import {Button} from \"../../../components\";\r\nimport {Driver} from \"./Driver\";\r\nimport {DriverCardSkeleton, RentalPeriodSkeleton} from \"../../\";\r\n\r\nimport styles from \"./dc.module.sass\";\r\n\r\ninterface IClosedDriverCard {\r\n\t// changeDriver: () => void;\r\n\tdrivers: IDriver[];\r\n\treservation: IReservation | null;\r\n}\r\n\r\nexport const ClosedDriverCard: React.FC<IClosedDriverCard> = ({drivers, reservation}) => {\r\n\t// const openCardHandler = (e: React.MouseEvent<HTMLButtonElement>): void => {\r\n\t// \tchangeDriver();\r\n\t// };\r\n\r\n\treturn (\r\n\t\t<div className={`card ${styles.dc}`}>\r\n\t\t\t<div className=\"column column--title\">\r\n\t\t\t\t<div className=\"column__row ai-c\">\r\n\t\t\t\t\t<span className=\"card__title\">Drivers</span>\r\n\t\t\t\t\t{/* <Button text=\"Change\" size=\"small\" onClick={() => {}} /> */}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className={`column ${styles[\"column--drivers\"]}`}>\r\n\t\t\t\t{!drivers[0].first_name ? (\r\n\t\t\t\t\t<DriverCardSkeleton />\r\n\t\t\t\t) : (\r\n\t\t\t\t\tdrivers.map((driver, index) => <Driver key={index} driver={driver} />)\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"column column--last\">\r\n\t\t\t\t{reservation ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<div className=\"label-title\">\r\n\t\t\t\t\t\t\tRental period{\" \"}\r\n\t\t\t\t\t\t\t{formatDistanceStrict(\r\n\t\t\t\t\t\t\t\tnew Date(unspaceDate(reservation.date_to)),\r\n\t\t\t\t\t\t\t\tnew Date(unspaceDate(reservation.date_from)),\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tunit: \"day\",\r\n\t\t\t\t\t\t\t\t\troundingMethod: \"ceil\",\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"price\">\r\n\t\t\t\t\t\t\t{reservation.prices.vehicle}&nbsp;{reservation.currency.symbol}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<RentalPeriodSkeleton />\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport {useTypedSelector} from \"../../../redux/\";\r\nimport {ClosedDriverCard} from \"./ClosedDriverCard\";\r\n// import {OpenDriverCard} from \"./OpenDriverCard\";\r\n// import {useCard} from \"../../../hooks\";\r\n\r\nimport {useDriver} from \"../../../hooks\";\r\n\r\nexport const DriverCard: React.FC = () => {\r\n\tconst reservation = useTypedSelector((store) => store.reservations.reservation) as IReservation;\r\n\t// const {open, openCard, closeCard} = useCard();\r\n\tconst {driver} = useDriver();\r\n\r\n\t//TODO: Change castomer\r\n\treturn <ClosedDriverCard drivers={[driver]} reservation={reservation} />;\r\n\r\n\t// return open ? (\r\n\t// \t<OpenDriverCard onChangeDriver={closeCard} reservation={reservation} />\r\n\t// ) : (\r\n\t// \t<ClosedDriverCard changeDriver={openCard} reservation={reservation} />\r\n\t// );\r\n};\r\n","import React from \"react\";\r\nimport classnames from \"classnames\";\r\n\r\nimport styles from \"./extras.module.sass\";\r\n\r\ninterface insuranceProps extends IInsurance {\r\n\tcurrency: string | null;\r\n\teditable: boolean;\r\n\tonChange: (id: number) => void;\r\n}\r\n\r\nexport const Insurance: React.FC<insuranceProps> = ({\r\n\tid,\r\n\ttitle,\r\n\tvalue,\r\n\tprice,\r\n\ticon,\r\n\tdeposit,\r\n\tdeposit_price,\r\n\tdamage,\r\n\tdamage_access,\r\n\tchecked = false,\r\n\teditable = false,\r\n\tcurrency,\r\n\tonChange,\r\n}) => {\r\n\tconst changeInsurance = (e: React.ChangeEvent<HTMLInputElement>): void => {\r\n\t\tonChange(id);\r\n\t};\r\n\treturn (\r\n\t\t<div className={styles.item}>\r\n\t\t\t<div className={styles.data}>\r\n\t\t\t\t{editable && (\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclassName={styles[\"hidden-input\"]}\r\n\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\tname=\"insurance\"\r\n\t\t\t\t\t\tdefaultValue={value}\r\n\t\t\t\t\t\tid={String(id)}\r\n\t\t\t\t\t\tdefaultChecked={checked}\r\n\t\t\t\t\t\tonChange={changeInsurance}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\t<label\r\n\t\t\t\t\tclassName={classnames(styles.label, {\r\n\t\t\t\t\t\t[styles[\"label--radio\"]]: editable,\r\n\t\t\t\t\t})}\r\n\t\t\t\t\thtmlFor={editable ? String(id) : undefined}>\r\n\t\t\t\t\t{`${title} with ${damage_access}\\u00A0${currency} Excess`}\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"price\">\r\n\t\t\t\t{price}&nbsp;{currency}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React, {useState} from \"react\";\r\nimport classnames from \"classnames\";\r\nimport InputMask from \"react-input-mask\";\r\n\r\nimport styles from \"./extras.module.sass\";\r\n\r\ninterface extraProps extends IExtra {\r\n\tcurrency: string | null;\r\n\teditable: boolean;\r\n\tonChange: (id: number, quantity: number) => void;\r\n}\r\n\r\nexport const Extra: React.FC<extraProps> = ({\r\n\tid,\r\n\ttitle,\r\n\ticon,\r\n\tprice_day,\r\n\tmax_quantity,\r\n\tquantity = 0,\r\n\ttype,\r\n\tprice,\r\n\teditable,\r\n\tcurrency,\r\n\tonChange,\r\n}) => {\r\n\tconst [check, setCheck] = useState(quantity > 0);\r\n\tconst [count, setCount] = useState(quantity);\r\n\r\n\tconst onCheck = (e: React.ChangeEvent<HTMLInputElement>): void => {\r\n\t\tconst val = !check;\r\n\t\tif (val) {\r\n\t\t\tsetCount(1);\r\n\t\t\tonChange(id, 1);\r\n\t\t} else {\r\n\t\t\tsetCount(0);\r\n\t\t\tonChange(id, 0);\r\n\t\t}\r\n\t\tsetCheck(val);\r\n\t};\r\n\r\n\tconst changeQuantity = (q: number) => {\r\n\t\tlet newQ = q;\r\n\t\tif (q <= 0) {\r\n\t\t\tnewQ = 0;\r\n\t\t\tsetCheck(false);\r\n\t\t} else if (max_quantity && q > max_quantity) {\r\n\t\t\tnewQ = max_quantity;\r\n\t\t\tsetCheck(true);\r\n\t\t} else {\r\n\t\t\tnewQ = q;\r\n\t\t\tsetCheck(true);\r\n\t\t}\r\n\r\n\t\tif (count !== newQ) {\r\n\t\t\tsetCount(newQ);\r\n\t\t\tonChange(id, newQ);\r\n\t\t}\r\n\t};\r\n\r\n\tconst onChangeQuantityInput = (e: React.ChangeEvent<HTMLInputElement>): void => {\r\n\t\tchangeQuantity(+e.target.value);\r\n\t};\r\n\r\n\tconst decrement = (e: React.MouseEvent<HTMLButtonElement>): void => {\r\n\t\tchangeQuantity(count - 1);\r\n\t};\r\n\r\n\tconst increment = (e: React.MouseEvent<HTMLButtonElement>): void => {\r\n\t\tchangeQuantity(count + 1);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={styles.item}>\r\n\t\t\t<div className={styles.data}>\r\n\t\t\t\t{editable && (\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclassName={styles[\"hidden-input\"]}\r\n\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\tname={`extra_${id}`}\r\n\t\t\t\t\t\tvalue={count}\r\n\t\t\t\t\t\tid={`extra_${id}`}\r\n\t\t\t\t\t\tchecked={check}\r\n\t\t\t\t\t\tonChange={onCheck}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\t<label\r\n\t\t\t\t\tclassName={classnames(styles.label, {\r\n\t\t\t\t\t\t[styles[\"label--check\"]]: editable,\r\n\t\t\t\t\t})}\r\n\t\t\t\t\thtmlFor={editable ? `extra_${id}` : undefined}>\r\n\t\t\t\t\t{`${!editable ? `${count} x ` : \"\"}${title}`}\r\n\t\t\t\t</label>\r\n\t\t\t\t{editable && (\r\n\t\t\t\t\t<div className={styles.quantity}>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName={`${styles.quantity__button} ${styles.left}`}\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tonClick={decrement}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<InputMask\r\n\t\t\t\t\t\t\tclassName={styles.quantity__input}\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tmask=\"999\"\r\n\t\t\t\t\t\t\tmaskChar={null}\r\n\t\t\t\t\t\t\tvalue={count}\r\n\t\t\t\t\t\t\tonChange={onChangeQuantityInput}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName={`${styles.quantity__button} ${styles.right}`}\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tonClick={increment}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"price\">\r\n\t\t\t\t{price}&nbsp;{currency}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport {useTypedSelector} from \"../../../redux\";\r\nimport {Button} from \"../../\";\r\nimport {Insurance} from \"./Insurance\";\r\nimport {Extra} from \"./Extra\";\r\n\r\nimport styles from \"./extras.module.sass\";\r\n\r\nimport {useCard, useExtras} from \"../../../hooks\";\r\n\r\nexport const ExtrasCard: React.FC = () => {\r\n\tconst {open, toggleCard} = useCard();\r\n\tconst reservation = useTypedSelector((store) => store.reservations.reservation) as IReservation;\r\n\tconst {insurances, extras, currency, changeInsurance, changeExtras} = useExtras(\r\n\t\treservation,\r\n\t\topen,\r\n\t);\r\n\r\n\tconst lowerCaseStatus = reservation.status.toLowerCase();\r\n\tconst isChangeble =\r\n\t\tlowerCaseStatus !== \"cancel\" && lowerCaseStatus !== \"reject\" && lowerCaseStatus !== \"done\";\r\n\r\n\tconst changeBtnClick = (e: React.MouseEvent<HTMLButtonElement>): void => {\r\n\t\ttoggleCard();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={`card ${styles.card}`}>\r\n\t\t\t<div className=\"column column--title\">\r\n\t\t\t\t<div className=\"column__row ai-c\">\r\n\t\t\t\t\t<span className=\"card__title\">Extras</span>\r\n\t\t\t\t\t{isChangeble && !open && <Button text={\"Change\"} size=\"small\" onClick={changeBtnClick} />}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"column column--2\">\r\n\t\t\t\t<div className=\"label-title\">Insurance</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{insurances.map((insurance) => (\r\n\t\t\t\t\t\t<Insurance\r\n\t\t\t\t\t\t\tkey={insurance.id}\r\n\t\t\t\t\t\t\teditable={open}\r\n\t\t\t\t\t\t\t{...insurance}\r\n\t\t\t\t\t\t\tcurrency={currency.symbol}\r\n\t\t\t\t\t\t\tonChange={changeInsurance}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t\t{extras.length > 0 && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<div className=\"label-title\">Extras</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{extras.map((extra) => (\r\n\t\t\t\t\t\t\t\t<Extra\r\n\t\t\t\t\t\t\t\t\tkey={extra.id}\r\n\t\t\t\t\t\t\t\t\teditable={open}\r\n\t\t\t\t\t\t\t\t\t{...extra}\r\n\t\t\t\t\t\t\t\t\tcurrency={currency.symbol}\r\n\t\t\t\t\t\t\t\t\tonChange={changeExtras}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import {useDispatch} from \"react-redux\";\r\n\r\nimport {updateExtras} from \"../redux/actions/\";\r\n\r\nexport const useExtras = (reservation: IReservation, editMode: boolean) => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst {extras_data, currency} = reservation;\r\n\r\n\tconst insurances = editMode\r\n\t\t? [...extras_data.insurances]\r\n\t\t: extras_data.insurances.filter((i: IInsurance) => i.checked === true);\r\n\tconst extras = editMode\r\n\t\t? [...extras_data.extras]\r\n\t\t: extras_data.extras.filter((e: IExtra) => e.quantity > 0);\r\n\r\n\tconst changeInsurance = (id: number) => {\r\n\t\tdispatch(\r\n\t\t\tupdateExtras(\r\n\t\t\t\tinsurances.map((insurance: IInsurance) => {\r\n\t\t\t\t\tinsurance.checked = insurance.id === id;\r\n\t\t\t\t\treturn insurance;\r\n\t\t\t\t}),\r\n\t\t\t\textras,\r\n\t\t\t),\r\n\t\t);\r\n\t};\r\n\r\n\tconst changeExtras = (id: number, quantity: number) => {\r\n\t\tdispatch(\r\n\t\t\tupdateExtras(\r\n\t\t\t\tinsurances,\r\n\t\t\t\textras.map((extra: IExtra) => {\r\n\t\t\t\t\tif (extra.id === id) extra.quantity = quantity;\r\n\t\t\t\t\treturn extra;\r\n\t\t\t\t}),\r\n\t\t\t),\r\n\t\t);\r\n\t};\r\n\r\n\treturn {\r\n\t\tinsurances,\r\n\t\textras,\r\n\t\tcurrency,\r\n\t\tchangeInsurance,\r\n\t\tchangeExtras,\r\n\t} as const;\r\n};\r\n","import React from \"react\";\r\n\r\nimport styles from \"./infotip.module.sass\";\r\n\r\ninterface IInfoTip {\r\n\ttext: string;\r\n}\r\nexport const InfoTip: React.FC<IInfoTip> = ({text}) => {\r\n\treturn (\r\n\t\t<div className={styles.icon} data-tip={text}>\r\n\t\t\t?\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport classnames from \"classnames\";\r\n\r\nimport styles from \"./button.module.sass\";\r\n\r\ninterface ILinkButton {\r\n\tclassName?: string;\r\n\ttext: string;\r\n\tcolor?: \"black\" | \"green\" | \"blue\";\r\n\tto: string;\r\n\tsize?: \"small\";\r\n\tdisabled?: boolean;\r\n}\r\n\r\nexport const LinkButton: React.FC<ILinkButton> = ({\r\n\tclassName = \"\",\r\n\ttext,\r\n\tcolor = \"\",\r\n\tto,\r\n\tsize,\r\n\tdisabled = false,\r\n}) => {\r\n\treturn (\r\n\t\t<Link\r\n\t\t\tclassName={classnames(styles.button, {\r\n\t\t\t\t[styles.small]: size === \"small\",\r\n\t\t\t\t[styles[color]]: !!color,\r\n\t\t\t\t[styles[\"is-disabled\"]]: disabled,\r\n\t\t\t\t[className]: !!className,\r\n\t\t\t})}\r\n\t\t\tto={to}>\r\n\t\t\t{text}\r\n\t\t</Link>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport {Select} from \"../\";\r\n\r\nimport styles from \"./filters.module.sass\";\r\n\r\nimport {useSearch} from \"../../hooks\";\r\n\r\ninterface IListFilter {\r\n\tfilters: IFilters;\r\n\ttotal?: number;\r\n}\r\n\r\ntype filterKey = keyof IFilters;\r\n\r\ntype ISelects = {\r\n\t[key in filterKey]: {\r\n\t\toptions: IOption[];\r\n\t\tplaceholder: string;\r\n\t};\r\n};\r\n\r\nconst selects: ISelects = {\r\n\ttype: {\r\n\t\toptions: [\r\n\t\t\t{value: \"\", label: \"All\"},\r\n\t\t\t{value: \"keyless\", label: \"Keyless\"},\r\n\t\t\t{value: \"standard\", label: \"Standard\"},\r\n\t\t],\r\n\t\tplaceholder: \"Rental type\",\r\n\t},\r\n\treserved_status: {\r\n\t\toptions: [\r\n\t\t\t{value: \"\", label: \"All\"},\r\n\t\t\t{value: \"booking\", label: \"Booking\"},\r\n\t\t\t{value: \"reserved\", label: \"Reserved\"},\r\n\t\t\t{value: \"rental\", label: \"Rental\"},\r\n\t\t\t{value: \"done\", label: \"Done\"},\r\n\t\t\t{value: \"cancel\", label: \"Cancel\"},\r\n\t\t\t{value: \"reject\", label: \"Reject\"},\r\n\t\t],\r\n\t\tplaceholder: \"Status\",\r\n\t},\r\n\tperiod: {\r\n\t\toptions: [\r\n\t\t\t{value: \"\", label: \"All\"},\r\n\t\t\t{value: \"future\", label: \"Future\"},\r\n\t\t\t{value: \"past\", label: \"Past\"},\r\n\t\t],\r\n\t\tplaceholder: \"\",\r\n\t},\r\n};\r\n\r\nexport const ListFilter: React.FC<IListFilter> = ({filters, total}) => {\r\n\tconst {updateLocationSearch} = useSearch();\r\n\r\n\tconst getTotalText = (num?: number): string => {\r\n\t\tswitch (num) {\r\n\t\t\tcase 0:\r\n\t\t\tcase undefined:\r\n\t\t\t\treturn \"Not found\";\r\n\t\t\tcase 1:\r\n\t\t\t\treturn \"1 Reservation\";\r\n\t\t\tdefault:\r\n\t\t\t\treturn `${num} Reservations`;\r\n\t\t}\r\n\t};\r\n\r\n\tconst onFilterChange = (selected: IOption, name: filterKey) => {\r\n\t\tupdateLocationSearch([\r\n\t\t\t{\r\n\t\t\t\tname,\r\n\t\t\t\tvalue: selected.value,\r\n\t\t\t},\r\n\t\t]);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={styles.container}>\r\n\t\t\t<span className={styles.total}>{getTotalText(total)}</span>\r\n\t\t\t<div className={styles.filters}>\r\n\t\t\t\t{(Object.keys(selects) as Array<filterKey>).map((name) => {\r\n\t\t\t\t\tconst {options, placeholder} = selects[name];\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tkey={name}\r\n\t\t\t\t\t\t\tname={name}\r\n\t\t\t\t\t\t\toptions={options}\r\n\t\t\t\t\t\t\tvalue={options.filter((t) => t.value === filters[name])[0] || null}\r\n\t\t\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\t\t\tonChange={onFilterChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from \"react\";\r\n\r\nimport styles from \"./loader.module.sass\";\r\n\r\nexport const Loader: React.FC = () => {\r\n\treturn (\r\n\t\t<div className={styles.overlay}>\r\n\t\t\t<div className={styles.loader}>\r\n\t\t\t\t<div className={styles.circle} />\r\n\t\t\t\t<div className={styles.circle} />\r\n\t\t\t\t<div className={styles.circle} />\r\n\t\t\t\t<div className={styles.circle} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport {Select} from \"../../components\";\r\n\r\nimport styles from \"./le.module.sass\";\r\n\r\ntype ILocationSelect = {\r\n\tname: string;\r\n\tvalue: IOption;\r\n\tonChange: (selected: IOption) => void;\r\n\toptions: IOption[];\r\n};\r\n\r\nexport const LocationSelect: React.FC<ILocationSelect> = ({name, value, onChange, options}) => {\r\n\treturn (\r\n\t\t<div className={`${styles[\"control-wrap\"]} ${styles[\"control-wrap--select\"]}`}>\r\n\t\t\t<i className=\"fico fico-place\" />\r\n\t\t\t<Select\r\n\t\t\t\tclassName={styles.select}\r\n\t\t\t\tname={name}\r\n\t\t\t\toptions={options}\r\n\t\t\t\tvalue={value}\r\n\t\t\t\tplaceholder=\"Choose location\"\r\n\t\t\t\tonChange={onChange}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React, {useRef, useState, useEffect} from \"react\";\r\n\r\nimport styles from \"./le.module.sass\";\r\n\r\ntype ILocationInput = {\r\n\tname: string;\r\n\tvalue?: string;\r\n\tplaceholder?: string;\r\n\tonChange: (lat: number, lng: number, address: string) => void;\r\n};\r\n\r\nexport const LocationInput: React.FC<ILocationInput> = ({\r\n\tname,\r\n\tvalue,\r\n\tonChange,\r\n\tplaceholder = \"\",\r\n}) => {\r\n\tconst inputRef = useRef<HTMLInputElement>(null);\r\n\tconst [inputValue, setInputValue] = useState<string>(value || \"\");\r\n\r\n\tuseEffect(() => {\r\n\t\tif (inputRef.current === null) return;\r\n\t\tconst autocomplete = new google.maps.places.Autocomplete(inputRef.current);\r\n\t\twindow.google.maps.event.addListener(autocomplete, \"place_changed\", () => {\r\n\t\t\tconst place = autocomplete.getPlace();\r\n\t\t\tif (!place.geometry) return;\r\n\t\t\tsetInputValue(place.formatted_address || \"\");\r\n\t\t\tonChange(\r\n\t\t\t\tplace.geometry.location.lat(),\r\n\t\t\t\tplace.geometry.location.lng(),\r\n\t\t\t\tplace.formatted_address || \"\",\r\n\t\t\t);\r\n\t\t});\r\n\t\t//eslint-disable-next-line\r\n\t}, []);\r\n\r\n\tconst handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n\t\tsetInputValue(e.target.value);\r\n\t};\r\n\r\n\tconst handleGetLocation = (evt: React.MouseEvent) => {\r\n\t\tevt.preventDefault();\r\n\t\tif (window.google) {\r\n\t\t\tconst geocoder = new google.maps.Geocoder();\r\n\t\t\tif (\"geolocation\" in navigator) {\r\n\t\t\t\tnavigator.geolocation.getCurrentPosition((event) => {\r\n\t\t\t\t\tgeocoder.geocode(\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlocation: {\r\n\t\t\t\t\t\t\t\tlat: event.coords.latitude,\r\n\t\t\t\t\t\t\t\tlng: event.coords.longitude,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfunction (results, status) {\r\n\t\t\t\t\t\t\tif (status === \"OK\") {\r\n\t\t\t\t\t\t\t\tconst place = results[0];\r\n\t\t\t\t\t\t\t\tif (place && place.geometry) {\r\n\t\t\t\t\t\t\t\t\tsetInputValue(place.formatted_address || \"\");\r\n\t\t\t\t\t\t\t\t\tonChange(\r\n\t\t\t\t\t\t\t\t\t\tplace.geometry.location.lat(),\r\n\t\t\t\t\t\t\t\t\t\tplace.geometry.location.lng(),\r\n\t\t\t\t\t\t\t\t\t\tplace.formatted_address || \"\",\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t// if (inputRef.current) inputRef.current.dispatchEvent(new Event(\"blur\"));\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tconsole.error(\"No results found\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tconsole.error(\"Geocoder failed due to: \" + status);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={`${styles[\"control-wrap\"]} ${styles[\"control-wrap--input\"]}`}>\r\n\t\t\t<i className=\"fico fico-place is-active\" onClick={handleGetLocation} />\r\n\t\t\t<input\r\n\t\t\t\tclassName={styles.input}\r\n\t\t\t\tref={inputRef}\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tname={name}\r\n\t\t\t\tvalue={inputValue}\r\n\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React, {useState, useMemo, useRef} from \"react\";\r\nimport {AxiosResponse} from \"axios\";\r\nimport rsApi from \"../../api/rsApi\";\r\nimport {Checkbox} from \"../\";\r\nimport {LocationSelect} from \"./LocationSelect\";\r\nimport {LocationInput} from \"./LocationInput\";\r\n\r\nimport styles from \"./le.module.sass\";\r\n\r\ninterface ILocationEdit {\r\n\tvehicleID: number;\r\n\tinitialLocations: [locationType, locationType];\r\n\tavailableLocations: locationOffice[];\r\n\tsameReturn: boolean;\r\n\tcustomLocation: boolean;\r\n\tonChange: (s: locationType, e: locationType) => void;\r\n}\r\n\r\nexport const LocationEdit: React.FC<ILocationEdit> = ({\r\n\tvehicleID,\r\n\tinitialLocations,\r\n\tavailableLocations,\r\n\tsameReturn,\r\n\tcustomLocation,\r\n\tonChange,\r\n}) => {\r\n\tconst [startLocation, setStartLocation] = useState(initialLocations[0]);\r\n\tconst [endLocation, setEndLocation] = useState(initialLocations[1]);\r\n\tconst isReturnBlocked = useRef(sameReturn);\r\n\tconst isCustomAvailable = useRef(customLocation);\r\n\tconst [isSystem, setIsSystem] = useState(startLocation.type === \"system\");\r\n\tconst [isReturn, setIsReturn] = useState(sameReturn);\r\n\r\n\tconst options = useMemo(\r\n\t\t() =>\r\n\t\t\tavailableLocations.map((office_location) => ({\r\n\t\t\t\tvalue: office_location.id,\r\n\t\t\t\tlabel: office_location.title,\r\n\t\t\t})),\r\n\t\t//eslint-disable-next-line\r\n\t\t[],\r\n\t);\r\n\r\n\tconst getOfficeWorkTimes = async (params: {\r\n\t\t[key: string]: string | number;\r\n\t}): Promise<AxiosResponse> => {\r\n\t\treturn rsApi.getVehicleOffice(vehicleID, params);\r\n\t};\r\n\r\n\tconst formatNewLocation = (\r\n\t\tlocation: locationType,\r\n\t\tofficeID: number | null,\r\n\t\tofficeWork: Pick<locationOffice, \"work_time_enabled\" | \"working_time\"> | null,\r\n\t\tsystem: boolean,\r\n\t) => {\r\n\t\tlet office =\r\n\t\t\tsystem && officeID\r\n\t\t\t\t? availableLocations.filter((office) => office.id === officeID)[0]\r\n\t\t\t\t: location.office;\r\n\t\tif (\r\n\t\t\tofficeWork &&\r\n\t\t\tofficeWork.work_time_enabled !== undefined &&\r\n\t\t\tofficeWork.working_time !== undefined\r\n\t\t) {\r\n\t\t\toffice = {...office, ...officeWork};\r\n\t\t}\r\n\t\treturn {\r\n\t\t\t...location,\r\n\t\t\toffice,\r\n\t\t\taddress: system && office.address ? office.address : location.address,\r\n\t\t\tlat: system && office.lat ? office.lat : location.lat,\r\n\t\t\tlng: system && office.lng ? office.lng : location.lng,\r\n\t\t};\r\n\t};\r\n\r\n\tconst changeStartSystemLocation = async (selected: IOption): Promise<void> => {\r\n\t\tconst selectedOfficeId = selected.value;\r\n\t\tif (!selectedOfficeId) return;\r\n\t\tlet location = {...startLocation};\r\n\t\ttry {\r\n\t\t\tconst response = await getOfficeWorkTimes({office_id: +selectedOfficeId});\r\n\t\t\tlocation = formatNewLocation(startLocation, +selectedOfficeId, response.data.data, isSystem);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.warn(\"Office working times are not received\");\r\n\t\t\tlocation = formatNewLocation(startLocation, +selectedOfficeId, null, isSystem);\r\n\t\t}\r\n\t\tsetStartLocation(location);\r\n\t\tif (isReturn) {\r\n\t\t\tsetEndLocation(location);\r\n\t\t\tonChange(location, location);\r\n\t\t} else {\r\n\t\t\tonChange(location, endLocation);\r\n\t\t}\r\n\t};\r\n\r\n\tconst changeEndSystemLocation = async (selected: IOption): Promise<void> => {\r\n\t\tconst selectedOfficeId = selected.value;\r\n\t\tif (!selectedOfficeId || isReturn) return;\r\n\t\tlet location = {...endLocation};\r\n\t\ttry {\r\n\t\t\tconst response = await getOfficeWorkTimes({office_id: +selectedOfficeId});\r\n\t\t\tlocation = formatNewLocation(endLocation, +selectedOfficeId, response.data.data, isSystem);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.warn(\"Office working times are not received\");\r\n\t\t\tlocation = formatNewLocation(endLocation, +selectedOfficeId, null, isSystem);\r\n\t\t}\r\n\t\tsetEndLocation(location);\r\n\t\tonChange(startLocation, location);\r\n\t};\r\n\r\n\tconst changeStartCustomLocation = async (\r\n\t\tlat: number,\r\n\t\tlng: number,\r\n\t\taddress: string,\r\n\t): Promise<void> => {\r\n\t\tlet location = {...startLocation, address, lat, lng};\r\n\t\ttry {\r\n\t\t\tconst response = await getOfficeWorkTimes({lat, lng, address});\r\n\t\t\tlocation = formatNewLocation(location, null, response.data.data, isSystem);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.warn(\"Office working times are not received\");\r\n\t\t\tlocation = formatNewLocation(location, null, null, isSystem);\r\n\t\t}\r\n\t\tsetStartLocation(location);\r\n\t\tif (isReturn) {\r\n\t\t\tsetEndLocation(location);\r\n\t\t\tonChange(location, location);\r\n\t\t} else {\r\n\t\t\tonChange(location, endLocation);\r\n\t\t}\r\n\t};\r\n\r\n\tconst changeEndCustomLocation = async (\r\n\t\tlat: number,\r\n\t\tlng: number,\r\n\t\taddress: string,\r\n\t): Promise<void> => {\r\n\t\tif (isReturn) return;\r\n\t\tlet location = {...endLocation, address, lat, lng};\r\n\t\ttry {\r\n\t\t\tconst response = await getOfficeWorkTimes({lat, lng, address});\r\n\t\t\tlocation = formatNewLocation(location, null, response.data.data, isSystem);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.warn(\"Office working times are not received\");\r\n\t\t\tlocation = formatNewLocation(location, null, null, isSystem);\r\n\t\t}\r\n\t\tsetEndLocation(location);\r\n\t\tonChange(startLocation, location);\r\n\t};\r\n\r\n\tconst changeSystemLocation = async (e: React.ChangeEvent<HTMLInputElement>): Promise<void> => {\r\n\t\tsetIsSystem((prevState) => !prevState);\r\n\t\tlet sLocation = {...startLocation};\r\n\t\tlet eLocation = {...endLocation};\r\n\t\ttry {\r\n\t\t\tconst responces = await Promise.all([\r\n\t\t\t\tgetOfficeWorkTimes(\r\n\t\t\t\t\t!isSystem\r\n\t\t\t\t\t\t? {office_id: String(sLocation.office.id)}\r\n\t\t\t\t\t\t: {lat: sLocation.lat, lng: sLocation.lng, addres: sLocation.address},\r\n\t\t\t\t),\r\n\t\t\t\tgetOfficeWorkTimes(\r\n\t\t\t\t\t!isSystem\r\n\t\t\t\t\t\t? {office_id: String(eLocation.office.id)}\r\n\t\t\t\t\t\t: {lat: eLocation.lat, lng: eLocation.lng, addres: eLocation.address},\r\n\t\t\t\t),\r\n\t\t\t]);\r\n\t\t\tsLocation = formatNewLocation(\r\n\t\t\t\tsLocation,\r\n\t\t\t\tsLocation.office.id,\r\n\t\t\t\tresponces[0].data.data,\r\n\t\t\t\t!isSystem,\r\n\t\t\t);\r\n\t\t\teLocation = formatNewLocation(\r\n\t\t\t\teLocation,\r\n\t\t\t\teLocation.office.id,\r\n\t\t\t\tresponces[1].data.data,\r\n\t\t\t\t!isSystem,\r\n\t\t\t);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.warn(\"Office working times are not received\");\r\n\t\t\tsLocation = formatNewLocation(sLocation, sLocation.office.id, null, !isSystem);\r\n\t\t\teLocation = formatNewLocation(eLocation, eLocation.office.id, null, !isSystem);\r\n\t\t}\r\n\t\tsetStartLocation(sLocation);\r\n\t\tsetEndLocation(eLocation);\r\n\t\tonChange(sLocation, eLocation);\r\n\t};\r\n\r\n\tconst changeSameReturn = (e: React.ChangeEvent<HTMLInputElement>): void => {\r\n\t\tsetIsReturn((prevState) => !prevState);\r\n\t\tonChange(startLocation, !isReturn ? startLocation : endLocation);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={styles.container}>\r\n\t\t\t{isSystem ? (\r\n\t\t\t\t<LocationSelect\r\n\t\t\t\t\tname={\"location_from\"}\r\n\t\t\t\t\tvalue={{\r\n\t\t\t\t\t\tvalue: startLocation.office.id,\r\n\t\t\t\t\t\tlabel: startLocation.office.title,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonChange={changeStartSystemLocation}\r\n\t\t\t\t\toptions={options}\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<LocationInput\r\n\t\t\t\t\tname={\"location_from\"}\r\n\t\t\t\t\tvalue={startLocation.address}\r\n\t\t\t\t\tonChange={changeStartCustomLocation}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t<div className=\"column__row\">\r\n\t\t\t\t{isCustomAvailable.current && (\r\n\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\tcheck={!isSystem}\r\n\t\t\t\t\t\tlabelContent=\"Custom location\"\r\n\t\t\t\t\t\tlabelClassName={styles.checkbox__label}\r\n\t\t\t\t\t\tname=\"custom_location\"\r\n\t\t\t\t\t\tdisabled={!isCustomAvailable.current}\r\n\t\t\t\t\t\tonCheck={changeSystemLocation}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\t<Checkbox\r\n\t\t\t\t\tcheck={isReturn}\r\n\t\t\t\t\tlabelContent=\"Same return\"\r\n\t\t\t\t\tlabelClassName={styles.checkbox__label}\r\n\t\t\t\t\tname=\"same_return\"\r\n\t\t\t\t\tdisabled={isReturnBlocked.current}\r\n\t\t\t\t\tonCheck={changeSameReturn}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t{!isReturn &&\r\n\t\t\t\t(isSystem ? (\r\n\t\t\t\t\t<LocationSelect\r\n\t\t\t\t\t\tname={\"location_to\"}\r\n\t\t\t\t\t\tvalue={{\r\n\t\t\t\t\t\t\tvalue: endLocation.office.id,\r\n\t\t\t\t\t\t\tlabel: endLocation.office.title,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonChange={changeEndSystemLocation}\r\n\t\t\t\t\t\toptions={options}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<LocationInput\r\n\t\t\t\t\t\tname={\"location_to\"}\r\n\t\t\t\t\t\tvalue={endLocation.address}\r\n\t\t\t\t\t\tonChange={changeEndCustomLocation}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React, {useEffect, useRef} from \"react\";\r\n\r\ninterface IMap {\r\n\tcenter?: {\r\n\t\tlat: number;\r\n\t\tlng: number;\r\n\t};\r\n\tmarker?: boolean;\r\n}\r\n\r\nexport const Map: React.FC<IMap> = ({center, marker = false}) => {\r\n\tconst mapNodeRef: {current: HTMLDivElement | null} = useRef(null);\r\n\tlet mapRef: {current: google.maps.Map | null} = useRef(null);\r\n\tlet markerRef: {current: google.maps.Marker | null} = useRef(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (mapNodeRef.current === null) return;\r\n\t\tmapRef.current = new google.maps.Map(mapNodeRef.current as HTMLDivElement, {\r\n\t\t\tzoom: 15,\r\n\t\t\tcenter: {lat: 0, lng: 0},\r\n\t\t});\r\n\t\tif (marker) {\r\n\t\t\tmarkerRef.current = new google.maps.Marker({\r\n\t\t\t\tposition: {lat: 0, lng: 0},\r\n\t\t\t});\r\n\t\t\tmarkerRef.current.setMap(mapRef.current);\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (mapRef.current === null || !center) return;\r\n\t\tmapRef.current.setCenter(center);\r\n\t\tif (marker && markerRef.current) {\r\n\t\t\tmarkerRef.current.setPosition(center);\r\n\t\t}\r\n\t}, [center, marker]);\r\n\r\n\treturn center ? <div ref={mapNodeRef} style={{width: \"100%\", height: \"100%\"}} /> : null;\r\n};\r\n","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nimport styles from \"./nav.module.sass\";\r\n\r\nimport {LogoutAction} from \"../../redux/actions\";\r\n\r\ntype NavItemType = {\r\n\ttitle: string;\r\n\tlink: string;\r\n};\r\n\r\nconst nav: NavItemType[] = [\r\n\t{\r\n\t\ttitle: \"Reservation\",\r\n\t\tlink: \"/reservations\",\r\n\t},\r\n\t{\r\n\t\ttitle: \"Payments\",\r\n\t\tlink: \"/payments\",\r\n\t},\r\n\t{\r\n\t\ttitle: \"My account\",\r\n\t\tlink: \"/account\",\r\n\t},\r\n];\r\n\r\nexport const Nav: React.FC = () => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst onExitClick = (e: React.MouseEvent<HTMLButtonElement>) => {\r\n\t\tdispatch(LogoutAction());\r\n\t};\r\n\r\n\treturn (\r\n\t\t<ul className={styles.list}>\r\n\t\t\t{nav.map(({title, link}: NavItemType) => (\r\n\t\t\t\t<li key={title}>\r\n\t\t\t\t\t<NavLink to={link} className={styles.link} activeClassName={styles.active}>\r\n\t\t\t\t\t\t{title}\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</li>\r\n\t\t\t))}\r\n\t\t\t<li key=\"Exit\">\r\n\t\t\t\t<button type=\"button\" className={styles.link} onClick={onExitClick}>\r\n\t\t\t\t\tExit\r\n\t\t\t\t</button>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport ReactPaginate from \"react-paginate\";\r\n\r\nimport styles from \"./pagination.module.sass\";\r\n\r\nimport {useSearch} from \"../../hooks\";\r\n\r\nexport const Pagination: React.FC<IPagination> = ({count_pages, per_page, page}) => {\r\n\tconst {updateLocationSearch} = useSearch();\r\n\r\n\tconst onChangePage = (selectedItem: {selected: number}): void => {\r\n\t\tupdateLocationSearch([\r\n\t\t\t{\r\n\t\t\t\tname: \"page\",\r\n\t\t\t\tvalue: ++selectedItem.selected,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"per_page\",\r\n\t\t\t\tvalue: per_page,\r\n\t\t\t},\r\n\t\t]);\r\n\t};\r\n\r\n\treturn count_pages ? (\r\n\t\t<div className={styles.pagination}>\r\n\t\t\t<ReactPaginate\r\n\t\t\t\tpreviousLabel={\"previous\"}\r\n\t\t\t\tnextLabel={\"next\"}\r\n\t\t\t\tbreakLabel={\"...\"}\r\n\t\t\t\tbreakClassName={\"break-me\"}\r\n\t\t\t\tpageCount={count_pages}\r\n\t\t\t\tforcePage={--page}\r\n\t\t\t\tmarginPagesDisplayed={2}\r\n\t\t\t\tpageRangeDisplayed={5}\r\n\t\t\t\tonPageChange={onChangePage}\r\n\t\t\t\tcontainerClassName={\"pagination\"}\r\n\t\t\t\tactiveClassName={\"active\"}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t) : null;\r\n};\r\n","import React from \"react\";\r\nimport classnames from \"classnames\";\r\nimport formatDistanceToNow from \"date-fns/formatDistanceToNow\";\r\nimport isPast from \"date-fns/isPast\";\r\nimport {unspaceDate} from \"../../helpers/utils\";\r\n\r\nimport styles from \"./rt.module.sass\";\r\n\r\ninterface IRentalTime {\r\n\tdate: string;\r\n\tclassName?: string;\r\n}\r\n\r\nexport const RentalTime: React.FC<IRentalTime> = ({date, className}) => {\r\n\tconst isDate = !!date;\r\n\tconst isBegan = isDate ? isPast(new Date(unspaceDate(date))) : false;\r\n\r\n\treturn (\r\n\t\t<div className={className}>\r\n\t\t\t<div className=\"label\">{isBegan ? \"Your order has started: \" : \"Time to start rental: \"}</div>\r\n\t\t\t<div\r\n\t\t\t\tclassName={classnames(`${styles[\"time-left\"]} time-left`, {\r\n\t\t\t\t\t\"time-left--red\": isBegan,\r\n\t\t\t\t})}>\r\n\t\t\t\t{isDate ? formatDistanceToNow(new Date(unspaceDate(date)), {addSuffix: true}) : \"---\"}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from \"react\";\r\n\r\nimport styles from \"./vp.module.sass\";\r\n\r\ninterface IVehicleParam {\r\n\ticon: string;\r\n\tvalue: string | number;\r\n\tisTransmission?: boolean;\r\n}\r\n\r\nexport const VehicleParam: React.FC<IVehicleParam> = ({icon, value, isTransmission = false}) => {\r\n\tlet matches = null;\r\n\tif (isTransmission) {\r\n\t\tmatches = String(value).match(/^([\\s\\S]*?)\\s*\\(([\\s\\S]*?)\\)/i);\r\n\t}\r\n\treturn (\r\n\t\t<div className={styles.param} data-tip={matches ? matches[1] : null}>\r\n\t\t\t<i className={`fico fico-${icon}`} />\r\n\t\t\t{matches ? matches[2] : value}\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport classnames from \"classnames\";\r\nimport formatDistanceStrict from \"date-fns/formatDistanceStrict\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport {ucFirst, unspaceDate} from \"../../helpers/utils\";\r\nimport {Button, LinkButton, DateLocation, RentalTime, Todo} from \"..\";\r\nimport {VehicleParam} from \"../VehicleParam/VehicleParam\";\r\n\r\nimport vpStyles from \"../VehicleParam/vp.module.sass\";\r\nimport styles from \"./rslist.module.sass\";\r\n\r\nimport {useSearch} from \"../../hooks\";\r\n\r\ninterface IReservationListItem {\r\n\treservation: IReservation;\r\n\tloading: boolean;\r\n}\r\nexport const ReservationListItem: React.FC<IReservationListItem> = ({reservation, loading}) => {\r\n\tconst {setLocationSearch} = useSearch();\r\n\tconst {\r\n\t\tcurrency,\r\n\t\tdate_from,\r\n\t\tdate_to,\r\n\t\tid,\r\n\t\tinsurance,\r\n\t\tlocation_from,\r\n\t\tlocation_to,\r\n\t\tmileage_limit,\r\n\t\tnecessary_actions,\r\n\t\tprices,\r\n\t\tstatus,\r\n\t\ttype,\r\n\t\tunique_number,\r\n\t\tvehicle,\r\n\t} = reservation;\r\n\t//get vehicle params\r\n\tconst lowerCaseType = type.toLowerCase();\r\n\tconst lowerCaseStatus = status.toLowerCase();\r\n\r\n\tconst isRedjected = lowerCaseStatus === \"reject\" || lowerCaseStatus === \"cancel\";\r\n\r\n\tconst {brand, mark, group, large_bags, number_seats, refill, transmission} = vehicle;\r\n\r\n\tconst onStatusClick = (e: React.MouseEvent<HTMLSpanElement>): void => {\r\n\t\tsetLocationSearch([\r\n\t\t\t{\r\n\t\t\t\tname: \"reserved_status\",\r\n\t\t\t\tvalue: lowerCaseStatus,\r\n\t\t\t},\r\n\t\t]);\r\n\t};\r\n\r\n\tconst onTypeClick = (e: React.MouseEvent<HTMLSpanElement>): void => {\r\n\t\tsetLocationSearch([\r\n\t\t\t{\r\n\t\t\t\tname: \"type\",\r\n\t\t\t\tvalue: lowerCaseType,\r\n\t\t\t},\r\n\t\t]);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={classnames(styles.reservation, {\r\n\t\t\t\t\"is-rejected\": isRedjected,\r\n\t\t\t\t\"is-keyless\": lowerCaseType === \"keyless\",\r\n\t\t\t\t\"is-standard\": lowerCaseType === \"standard\",\r\n\t\t\t})}>\r\n\t\t\t<div className={styles.reservation__header}>\r\n\t\t\t\t<span className={styles.label}>\r\n\t\t\t\t\tReservation: <span className={styles.number}>{unique_number}</span>\r\n\t\t\t\t</span>\r\n\t\t\t\t<div className={styles.status}>\r\n\t\t\t\t\t<span className={styles.label}>\r\n\t\t\t\t\t\tRental type:{\" \"}\r\n\t\t\t\t\t\t<span className={styles[\"type-val\"]} onClick={onTypeClick}>\r\n\t\t\t\t\t\t\t{ucFirst(type)}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span className={styles.label}>\r\n\t\t\t\t\t\tStatus:{\" \"}\r\n\t\t\t\t\t\t<span className={styles[\"status-val\"]} onClick={onStatusClick}>\r\n\t\t\t\t\t\t\t{ucFirst(status)}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.reservation__body}>\r\n\t\t\t\t<div className={styles.side}>\r\n\t\t\t\t\t<div className={styles.vehicle}>\r\n\t\t\t\t\t\t<div className={styles.vehicle__info}>\r\n\t\t\t\t\t\t\t<div className={styles.vehicle__img}>\r\n\t\t\t\t\t\t\t\t<img src={vehicle.thumbnail} alt=\"\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className={styles.vehicle__group}>{group}</div>\r\n\t\t\t\t\t\t\t<div className={styles.vehicle__title}>\r\n\t\t\t\t\t\t\t\t{brand} {mark}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className={styles.vehicle__similar}>or similar</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={styles.vehicle__info}>\r\n\t\t\t\t\t\t\t{(number_seats || large_bags) && (\r\n\t\t\t\t\t\t\t\t<div className={vpStyles.vp__group}>\r\n\t\t\t\t\t\t\t\t\t{number_seats && <VehicleParam icon=\"driver\" value={number_seats} />}\r\n\t\t\t\t\t\t\t\t\t{large_bags && <VehicleParam icon=\"profile\" value={large_bags} />}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{transmission.name && (\r\n\t\t\t\t\t\t\t\t<VehicleParam icon=\"transmission\" value={transmission.name} isTransmission />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{mileage_limit && <VehicleParam icon=\"gauge\" value={mileage_limit} />}\r\n\t\t\t\t\t\t\t{refill && <VehicleParam icon=\"gas-station2\" value={refill} />}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={styles.side}>\r\n\t\t\t\t\t<div className={styles.details}>\r\n\t\t\t\t\t\t<div className={`${styles.details__column} ${styles[\"details__column--mob\"]}`}>\r\n\t\t\t\t\t\t\t<div className={styles[\"mob-flex\"]}>\r\n\t\t\t\t\t\t\t\t<div className={styles.label}>Pick Up</div>\r\n\t\t\t\t\t\t\t\t<DateLocation\r\n\t\t\t\t\t\t\t\t\tdate={date_from}\r\n\t\t\t\t\t\t\t\t\tlocation={\r\n\t\t\t\t\t\t\t\t\t\tlocation_from.type === \"custom\"\r\n\t\t\t\t\t\t\t\t\t\t\t? location_from.address\r\n\t\t\t\t\t\t\t\t\t\t\t: location_from.office.title\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className={styles[\"mob-flex\"]}>\r\n\t\t\t\t\t\t\t\t<div className={styles.label}>Return</div>\r\n\t\t\t\t\t\t\t\t<DateLocation\r\n\t\t\t\t\t\t\t\t\tdate={date_to}\r\n\t\t\t\t\t\t\t\t\tlocation={\r\n\t\t\t\t\t\t\t\t\t\tlocation_to.type === \"custom\" ? location_to.address : location_to.office.title\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={styles.details__column}>\r\n\t\t\t\t\t\t\t<div className={styles.label}>\r\n\t\t\t\t\t\t\t\tRental period{\" \"}\r\n\t\t\t\t\t\t\t\t{formatDistanceStrict(\r\n\t\t\t\t\t\t\t\t\tnew Date(unspaceDate(date_to)),\r\n\t\t\t\t\t\t\t\t\tnew Date(unspaceDate(date_from)),\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tunit: \"day\",\r\n\t\t\t\t\t\t\t\t\t\troundingMethod: \"ceil\",\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className={styles.label}>Extras</div>\r\n\t\t\t\t\t\t\t<p className={styles.extras}>\r\n\t\t\t\t\t\t\t\t{insurance.name}&nbsp;INSURNCE with {insurance.damage_excess}&nbsp;{currency.symbol}{\" \"}\r\n\t\t\t\t\t\t\t\tExcess\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<div className={styles.details__group}>\r\n\t\t\t\t\t\t\t\t<div className={styles[\"details__group-item\"]}>\r\n\t\t\t\t\t\t\t\t\t<div className={styles.label}>Subtotal:</div>\r\n\t\t\t\t\t\t\t\t\t<div className={styles.price}>\r\n\t\t\t\t\t\t\t\t\t\t{prices.total}&nbsp;{currency.symbol}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className={styles[\"details__group-item\"]}>\r\n\t\t\t\t\t\t\t\t\t<div className={styles.label}>Paid:</div>\r\n\t\t\t\t\t\t\t\t\t<div className={styles.price}>\r\n\t\t\t\t\t\t\t\t\t\t{prices.paid}&nbsp;{currency.symbol}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{loading && (\r\n\t\t\t\t\t<Skeleton width={\"100%\"} height={\"100%\"} className={styles.reservation__loading} />\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.reservation__footer}>\r\n\t\t\t\t{!isRedjected && lowerCaseStatus !== \"done\" && (\r\n\t\t\t\t\t<div className={styles[\"reservation__bottom-info\"]}>\r\n\t\t\t\t\t\t<RentalTime date={date_from} className={styles[\"rental-time\"]} />\r\n\t\t\t\t\t\t<Todo className={styles.reservation__todo} actions={necessary_actions} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className={styles.reservation__btns}>\r\n\t\t\t\t\t<LinkButton text=\"Detail\" to={`/reservations/${id}`} disabled={loading} />\r\n\t\t\t\t\t{!isRedjected && lowerCaseStatus !== \"done\" && lowerCaseType === \"keyless\" && (\r\n\t\t\t\t\t\t<Button text=\"Start rental\" color=\"green\" disabled={loading} onClick={() => {}} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<ReactTooltip />\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport {ReservationListItem} from \"./ReservationListItem\";\r\nimport {ReservationListSkeleton} from \"../\";\r\n\r\nimport styles from \"./filters.module.sass\";\r\n\r\ninterface IReservationList {\r\n\tloading: boolean;\r\n\treservations: IReservation[];\r\n}\r\n\r\nexport const ReservationList: React.FC<IReservationList> = ({loading = false, reservations}) => {\r\n\treturn (\r\n\t\t<div className={styles.list}>\r\n\t\t\t{loading && reservations.length === 0 ? (\r\n\t\t\t\t<ReservationListSkeleton />\r\n\t\t\t) : (\r\n\t\t\t\treservations.map((reservation: IReservation) => (\r\n\t\t\t\t\t<ReservationListItem key={reservation.id} reservation={reservation} loading={loading} />\r\n\t\t\t\t))\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React, {useState} from \"react\";\r\nimport {Button} from \"../\";\r\n\r\nimport styles from \"./signature.module.sass\";\r\n\r\nimport {useSignature} from \"../../hooks\";\r\n\r\ninterface ISignature {\r\n\tpreview?: string;\r\n\tonConfirm?: (signature: string, file: Blob) => void;\r\n}\r\nexport const Signature: React.FC<ISignature> = ({preview = \"\", onConfirm}) => {\r\n\tconst [showPreview, setShowPreview] = useState(!!preview);\r\n\r\n\tconst hidePreview = (): void => {\r\n\t\tsetShowPreview(false);\r\n\t};\r\n\r\n\tconst {signRef, clearSignature, confirmSignature} = useSignature({\r\n\t\tonDraw: hidePreview,\r\n\t});\r\n\r\n\tconst clearHandler = (e: React.MouseEvent<HTMLButtonElement>) => {\r\n\t\tclearSignature();\r\n\t\thidePreview();\r\n\t};\r\n\r\n\tconst confirmHandler = (e: React.MouseEvent<HTMLButtonElement>) => {\r\n\t\tconfirmSignature((signature, file) => {\r\n\t\t\tonConfirm && onConfirm(signature, file);\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={styles.sign}>\r\n\t\t\t<div className={styles.sign__field}>\r\n\t\t\t\t{showPreview && <img className={styles.sign__preview} src={preview} alt=\"\" />}\r\n\t\t\t\t<canvas ref={signRef} />\r\n\t\t\t</div>\r\n\t\t\t<div className={`${styles.sign__controls} rs-modal__controls`}>\r\n\t\t\t\t<Button text=\"Clear\" onClick={clearHandler} />\r\n\t\t\t\t<Button text=\"Confirm\" onClick={confirmHandler} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport {useTypedSelector} from \"../../../redux/\";\r\n\r\nimport styles from \"./taxes.module.sass\";\r\n\r\nexport const TaxCard: React.FC = () => {\r\n\tconst reservation = useTypedSelector((store) => store.reservations.reservation);\r\n\tconst {extras_data, prices, currency} = reservation as IReservation;\r\n\tconst {vehicle, taxesTotal} = extras_data.taxes;\r\n\r\n\treturn (\r\n\t\t<div className=\"card ai-end\">\r\n\t\t\t<div className={`column column--last ${styles.column}`}>\r\n\t\t\t\t<div className={`column__row jc-sb ai-c ${styles.row}`}>\r\n\t\t\t\t\t<span>{vehicle.name}</span>\r\n\t\t\t\t\t<div className=\"price\">\r\n\t\t\t\t\t\t{taxesTotal}&nbsp;{currency.symbol}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={`column__row jc-sb ai-c ${styles.row}`}>\r\n\t\t\t\t\t<span className={`label-title ${styles[\"label-title\"]}`}>Subtotal:</span>\r\n\t\t\t\t\t<div className=\"price bold\">\r\n\t\t\t\t\t\t{prices.total}&nbsp;{currency.symbol}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from \"react\";\r\n\r\nimport styles from \"./todo.module.sass\";\r\n\r\ntype Action = string;\r\n\r\ninterface ITodo {\r\n\tactions: {\r\n\t\t[key: string]: Action;\r\n\t};\r\n\tclassName?: string;\r\n}\r\n\r\nexport const Todo: React.FC<ITodo> = ({actions, className}) => {\r\n\tconst getActionsText = (count: number): string => {\r\n\t\tswitch (count) {\r\n\t\t\tcase 0:\r\n\t\t\tcase undefined:\r\n\t\t\t\treturn \"\";\r\n\t\t\tcase 1:\r\n\t\t\t\treturn \"Necessary 1 action:\";\r\n\t\t\tdefault:\r\n\t\t\t\treturn `Necessary ${count} actions:`;\r\n\t\t}\r\n\t};\r\n\r\n\tconst actionKeys = Object.keys(actions);\r\n\r\n\treturn (\r\n\t\t<div className={`${styles.container}${className ? ` ${className}` : \"\"}`}>\r\n\t\t\t<div className={`${styles.label} todo__label`}>{getActionsText(actionKeys.length)}</div>\r\n\t\t\t<div className={`${styles.actions} todo__actions`}>\r\n\t\t\t\t{actionKeys.map((key, index) => (\r\n\t\t\t\t\t<span key={key} className={styles.action}>\r\n\t\t\t\t\t\t{actions[key]}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport {VehicleParam} from \"../../\";\r\n\r\nimport vpStyles from \"../../VehicleParam/vp.module.sass\";\r\nimport styles from \"./vc.module.sass\";\r\n\r\ninterface IVehicleProps {\r\n\tvehicle: IVehicle;\r\n\tmileage_limit: string;\r\n}\r\n\r\nexport const Vehicle: React.FC<IVehicleProps> = ({vehicle, mileage_limit}) => {\r\n\tconst {large_bags, number_seats, refill, transmission, group, brand, mark, thumbnail} = vehicle;\r\n\treturn (\r\n\t\t<div className={`column ${styles.vehicle}`}>\r\n\t\t\t<div className={styles.vehicle__info}>\r\n\t\t\t\t<div className={styles.vehicle__img}>\r\n\t\t\t\t\t<img src={thumbnail} alt={`${brand} ${mark}`} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={styles.vehicle__group}>{group}</div>\r\n\t\t\t\t<span className={styles.vehicle__title}>\r\n\t\t\t\t\t{`${brand} ${mark} `}\r\n\t\t\t\t\t<span className={styles.vehicle__similar}>or similar</span>\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.vehicle__info}>\r\n\t\t\t\t{(transmission.name || large_bags || number_seats) && (\r\n\t\t\t\t\t<div className={vpStyles.vp__group}>\r\n\t\t\t\t\t\t{transmission.name && (\r\n\t\t\t\t\t\t\t<VehicleParam icon=\"transmission\" value={transmission.name} isTransmission />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{number_seats && <VehicleParam icon=\"driver\" value={number_seats} />}\r\n\t\t\t\t\t\t{large_bags && <VehicleParam icon=\"profile\" value={large_bags} />}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t{mileage_limit && <VehicleParam icon=\"gauge\" value={mileage_limit} />}\r\n\t\t\t\t{refill && <VehicleParam icon=\"gas-station2\" value={refill} />}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React, {useState, useEffect} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport rsApi from \"../../../api/rsApi\";\r\nimport {updateReservation} from \"../../../redux/actions\";\r\nimport {LocationEdit, Button, Map, DateEdit, RentalTime} from \"../..\";\r\n\r\nimport styles from \"./vc.module.sass\";\r\n\r\ninterface ILocationDateEdit {\r\n\treservation: IReservation;\r\n\tonSave: () => void;\r\n}\r\n\r\nexport const LocationDateEdit: React.FC<ILocationDateEdit> = ({reservation, onSave}) => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst {location_from, location_to, date_from, date_to, vehicle} = reservation;\r\n\tconst [locations, setLocations] = useState<[locationType, locationType]>([\r\n\t\tlocation_from,\r\n\t\tlocation_to,\r\n\t]);\r\n\tconst [dates, setDates] = useState<[string, string]>([date_from, date_to]);\r\n\tconst [disabledDays, setDisabledDays] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\t(async function () {\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await rsApi.getVehicleBusyDates(vehicle.id);\r\n\t\t\t\tif (response.data.status) {\r\n\t\t\t\t\tsetDisabledDays(response.data.data);\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error(error);\r\n\t\t\t}\r\n\t\t})();\r\n\t}, [vehicle.id]);\r\n\r\n\tconst changeDates = (s: string, e: string): void => {\r\n\t\tsetDates([s, e]);\r\n\t};\r\n\r\n\tconst changeLocaitons = (s: locationType, e: locationType): void => {\r\n\t\tsetLocations([s, e]);\r\n\t};\r\n\r\n\tconst onSaveHandler = (e: React.MouseEvent<HTMLButtonElement>) => {\r\n\t\tif (loading) return;\r\n\t\tsetLoading(true);\r\n\t\tconst [date_from, date_to] = dates;\r\n\t\tconst [location_from, location_to] = locations;\r\n\t\tdispatch(\r\n\t\t\tupdateReservation(\r\n\t\t\t\t{\r\n\t\t\t\t\tdate_from,\r\n\t\t\t\t\tdate_to,\r\n\t\t\t\t\tpickup_location: location_from.address,\r\n\t\t\t\t\treturn_location: location_to.address,\r\n\t\t\t\t},\r\n\t\t\t\t() => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tonSave();\r\n\t\t\t\t},\r\n\t\t\t\t() => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t//TODO: process erros for dates and locations\r\n\t\t\t\t},\r\n\t\t\t),\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={`${styles[\"ld-edit\"]} column__body`}>\r\n\t\t\t<div className=\"column__row\">\r\n\t\t\t\t<div className={styles[\"ld-edit__dates\"]}>\r\n\t\t\t\t\t<DateEdit\r\n\t\t\t\t\t\tinitialDates={dates}\r\n\t\t\t\t\t\tavailableTimes={[\r\n\t\t\t\t\t\t\tlocations[0].office.work_time_enabled ? locations[0].office.working_time : null,\r\n\t\t\t\t\t\t\tlocations[1].office.work_time_enabled ? locations[1].office.working_time : null,\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tdisabledDates={disabledDays}\r\n\t\t\t\t\t\tonChange={changeDates}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"column\">\r\n\t\t\t\t\t<LocationEdit\r\n\t\t\t\t\t\tvehicleID={vehicle.id}\r\n\t\t\t\t\t\tinitialLocations={locations}\r\n\t\t\t\t\t\tavailableLocations={vehicle.available_locations}\r\n\t\t\t\t\t\tsameReturn={vehicle.same_return}\r\n\t\t\t\t\t\tcustomLocation={false}\r\n\t\t\t\t\t\tonChange={changeLocaitons}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className={`column__row ${styles[\"map-row\"]}`}>\r\n\t\t\t\t<div className=\"column\">\r\n\t\t\t\t\t<RentalTime date={dates[0]} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"column\">\r\n\t\t\t\t\t<div className={styles[\"map-place\"]}>\r\n\t\t\t\t\t\t<Map\r\n\t\t\t\t\t\t\tcenter={{\r\n\t\t\t\t\t\t\t\tlat: locations[0].lat,\r\n\t\t\t\t\t\t\t\tlng: locations[0].lng,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tmarker={true}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className={`card__actions ${styles.actions}`}>\r\n\t\t\t\t<Button text=\"Save\" size=\"small\" onClick={onSaveHandler} loading={loading} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport classnames from \"classnames\";\r\nimport {DateLocation, Button, Map, RentalTime, Annual} from \"../..\";\r\n\r\nimport styles from \"./vc.module.sass\";\r\n\r\nimport {useMedia, useLocaionView} from \"../../../hooks\";\r\n\r\ninterface ILocationDateView {\r\n\treservation: IReservation;\r\n\tchangeLocation: () => void;\r\n}\r\n\r\nexport const LocationDateView: React.FC<ILocationDateView> = ({reservation, changeLocation}) => {\r\n\tconst media = useMedia([\"(max-width: 575px)\"], [\"xs\"], \"l\");\r\n\t//\r\n\tconst {location_from, location_to, date_from, date_to} = reservation;\r\n\tconst lowerCaseStatus = reservation.status.toLowerCase();\r\n\tconst isChangeble =\r\n\t\tlowerCaseStatus !== \"cancel\" && lowerCaseStatus !== \"reject\" && lowerCaseStatus !== \"done\";\r\n\t//get map params\r\n\tconst {mapCenter, showPickupLocation, showReturnLocation} = useLocaionView(reservation);\r\n\r\n\tconst changeLocationHandler = (e: React.MouseEvent<HTMLButtonElement>) => {\r\n\t\tchangeLocation();\r\n\t};\r\n\r\n\tconst renderControls = (): React.ReactElement => (\r\n\t\t<div className={`card__actions ${styles.actions}`}>\r\n\t\t\t<Button text=\"Change\" size=\"small\" onClick={changeLocationHandler} />\r\n\t\t\t<Annual />\r\n\t\t</div>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div className=\"column__row jc-fs ai-fs column__body\">\r\n\t\t\t<div className={styles[\"dl-cotainer\"]}>\r\n\t\t\t\t<div className={styles[\"dl-item\"]}>\r\n\t\t\t\t\t<div className=\"label\">Pick Up</div>\r\n\t\t\t\t\t<DateLocation\r\n\t\t\t\t\t\tdate={date_from}\r\n\t\t\t\t\t\tlocation={\r\n\t\t\t\t\t\t\tlocation_from.type === \"custom\" ? location_from.address : location_from.office.title\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonLocationClick={showPickupLocation}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={styles[\"dl-item\"]}>\r\n\t\t\t\t\t<div className=\"label\">Return</div>\r\n\t\t\t\t\t<DateLocation\r\n\t\t\t\t\t\tdate={date_to}\r\n\t\t\t\t\t\tlocation={\r\n\t\t\t\t\t\t\tlocation_to.type === \"custom\" ? location_to.address : location_to.office.title\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonLocationClick={showReturnLocation}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t{isChangeble && media === \"l\" && renderControls()}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"column column--last\">\r\n\t\t\t\t{isChangeble && <RentalTime date={date_from} />}\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={classnames(styles[\"map-place\"], {\r\n\t\t\t\t\t\t[styles[\"map-place--mt\"]]: isChangeble,\r\n\t\t\t\t\t})}>\r\n\t\t\t\t\t<Map center={mapCenter} marker={true} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{isChangeble && media === \"xs\" && renderControls()}\r\n\t\t</div>\r\n\t);\r\n};\r\n","import {useState} from \"react\";\r\n\r\nexport const useLocaionView = ({location_from, location_to}: IReservation) => {\r\n\tconst [showReturn, setMapReturn] = useState(false);\r\n\r\n\tconst {lat, lng} = showReturn ? location_to : location_from;\r\n\r\n\tconst showPickupLocation = (): void => {\r\n\t\tsetMapReturn(false);\r\n\t};\r\n\r\n\tconst showReturnLocation = (): void => {\r\n\t\tsetMapReturn(true);\r\n\t};\r\n\r\n\treturn {\r\n\t\tmapCenter: lat && lng ? {lat, lng} : undefined,\r\n\t\tshowPickupLocation,\r\n\t\tshowReturnLocation,\r\n\t};\r\n};\r\n","import React from \"react\";\r\nimport classnames from \"classnames\";\r\nimport {useTypedSelector} from \"../../../redux\";\r\nimport {ucFirst} from \"../../../helpers/utils\";\r\nimport {InfoTip} from \"../../\";\r\nimport {Vehicle} from \"./Vehicle\";\r\nimport {LocationDateEdit} from \"./LocationDateEdit\";\r\nimport {LocationDateView} from \"./LocationDateView\";\r\n\r\nimport styles from \"./vc.module.sass\";\r\n\r\nimport {useMedia, useCard} from \"../../../hooks\";\r\n\r\nexport const VehicleCard: React.FC = () => {\r\n\tconst reservation = useTypedSelector((store) => store.reservations.reservation) as IReservation;\r\n\t//is mobile?\r\n\tconst media = useMedia([\"(max-width: 767px)\"], [\"s\"], \"l\");\r\n\tconst {open, openCard, closeCard} = useCard();\r\n\r\n\t//get reservation params\r\n\tconst {unique_number, status, type, vehicle, mileage_limit} = reservation;\r\n\r\n\tconst renderReserveNum = (): React.ReactElement => (\r\n\t\t<div className={`${styles[\"reserve-info\"]} mob-full`}>\r\n\t\t\t<div className=\"label\">Reservation:</div>\r\n\t\t\t<div className={styles[\"reserve-num\"]}>{unique_number}</div>\r\n\t\t</div>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div className={`card ${styles.vc}`}>\r\n\t\t\t{media === \"s\" && renderReserveNum()}\r\n\t\t\t<Vehicle vehicle={vehicle} mileage_limit={mileage_limit} />\r\n\t\t\t<div className=\"column column--2\">\r\n\t\t\t\t<div className=\"column__row jc-fs ai-fs column__head\">\r\n\t\t\t\t\t{media === \"l\" && renderReserveNum()}\r\n\t\t\t\t\t<div className={styles[\"reserve-info\"]}>\r\n\t\t\t\t\t\t<div className=\"label\">Retal type:</div>\r\n\t\t\t\t\t\t<div className={styles[\"reserve-type\"]}>\r\n\t\t\t\t\t\t\t{ucFirst(type)} <InfoTip text=\"Some text\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={classnames(styles[\"reserve-info\"], {\r\n\t\t\t\t\t\t\t[styles[\"reserve-info--status\"]]: media === \"l\",\r\n\t\t\t\t\t\t})}>\r\n\t\t\t\t\t\t<div className=\"label\">Status:</div>\r\n\t\t\t\t\t\t<div className={styles[\"reserve-status\"]}>{ucFirst(status)}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{open ? (\r\n\t\t\t\t\t<LocationDateEdit reservation={reservation} onSave={closeCard} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<LocationDateView reservation={reservation} changeLocation={openCard} />\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport classnames from \"classnames\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\n\r\nimport styles from \"./button.module.sass\";\r\n\r\ninterface IButton {\r\n\tclassName?: string;\r\n\ttext: string;\r\n\tcolor?: \"black\" | \"green\" | \"blue\";\r\n\tonClick?(e: React.MouseEvent<HTMLButtonElement>): void;\r\n\tsize?: \"small\";\r\n\tdisabled?: boolean;\r\n\ttype?: \"button\" | \"submit\";\r\n\tloading?: boolean;\r\n}\r\n\r\nexport const Button: React.FC<IButton> = ({\r\n\tclassName = \"\",\r\n\ttext,\r\n\tcolor = \"\",\r\n\tsize,\r\n\tonClick,\r\n\tdisabled = false,\r\n\ttype = \"button\",\r\n\tloading = false,\r\n}) => {\r\n\treturn (\r\n\t\t<button\r\n\t\t\tclassName={classnames(styles.button, {\r\n\t\t\t\t[styles.small]: size === \"small\",\r\n\t\t\t\t[styles[color]]: !!color,\r\n\t\t\t\t[className]: !!className,\r\n\t\t\t})}\r\n\t\t\ttype={type}\r\n\t\t\tonClick={onClick}\r\n\t\t\tdisabled={disabled}>\r\n\t\t\t{text}\r\n\t\t\t{loading && <Skeleton className={styles.button__loader} />}\r\n\t\t</button>\r\n\t);\r\n};\r\n","import React from \"react\";\r\n\r\nimport styles from \"./checkbox.module.sass\";\r\n\r\ninterface ICheckbox {\r\n\tcheck: boolean;\r\n\tclassName?: string;\r\n\tdisabled?: boolean;\r\n\tlabelClassName?: string;\r\n\tlabelContent: string | React.ReactElement;\r\n\tname: string;\r\n\tonCheck(e: React.ChangeEvent<HTMLInputElement>): void;\r\n}\r\n\r\nexport const Checkbox: React.FC<ICheckbox> = ({\r\n\tcheck,\r\n\tclassName,\r\n\tdisabled = false,\r\n\tlabelClassName,\r\n\tlabelContent,\r\n\tname,\r\n\tonCheck,\r\n}) => {\r\n\treturn (\r\n\t\t<div className={`${styles.container}${className ? ` ${className}` : \"\"}`}>\r\n\t\t\t<input\r\n\t\t\t\tclassName={styles.checkbox}\r\n\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\tname={name}\r\n\t\t\t\tid={name}\r\n\t\t\t\tdisabled={disabled}\r\n\t\t\t\tchecked={check}\r\n\t\t\t\tonChange={onCheck}\r\n\t\t\t/>\r\n\t\t\t<label\r\n\t\t\t\thtmlFor={name}\r\n\t\t\t\tclassName={`${styles.label}${labelClassName ? ` ${labelClassName}` : \"\"}`}>\r\n\t\t\t\t{labelContent}\r\n\t\t\t</label>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport ReactSelect, {ValueType, components, SingleValueProps, OptionProps} from \"react-select\";\r\n\r\nimport styles from \"./select.module.sass\";\r\n\r\ntype OptionType = {value: string | number | null; label: string};\r\n\r\ntype OptionsType = OptionType[];\r\n\r\ninterface ISelect {\r\n\tclassName?: string;\r\n\tid?: string;\r\n\tisSearchable?: boolean;\r\n\tname?: string;\r\n\tonChange(selected?: ValueType<OptionType | OptionsType>, name?: string): void;\r\n\toptions: OptionsType;\r\n\tplaceholder?: string;\r\n\tvalue?: ValueType<OptionType | OptionsType>;\r\n\twithIcon?: boolean;\r\n}\r\n\r\nexport const Select: React.FC<ISelect> = ({\r\n\tclassName = \"\",\r\n\tid,\r\n\tisSearchable = false,\r\n\tname,\r\n\tonChange,\r\n\toptions,\r\n\tplaceholder = \"\",\r\n\tvalue,\r\n\twithIcon = false,\r\n}) => {\r\n\tconst CustomSingleValue: React.ComponentType<SingleValueProps<any>> = (props) => (\r\n\t\t<components.SingleValue {...props}>\r\n\t\t\t<img src={props.data.icon} alt=\"\" />\r\n\t\t\t{props.data.label}\r\n\t\t</components.SingleValue>\r\n\t);\r\n\r\n\tconst CustomOption: React.ComponentType<OptionProps<any>> = (props) => (\r\n\t\t<components.Option {...props}>\r\n\t\t\t<img src={props.data.icon} alt=\"\" />\r\n\t\t\t{props.data.label}\r\n\t\t</components.Option>\r\n\t);\r\n\r\n\tconst onSelectChange = (selected?: ValueType<OptionType | OptionsType>): void => {\r\n\t\tonChange(selected, name);\r\n\t};\r\n\treturn (\r\n\t\t<ReactSelect\r\n\t\t\tclassName={`${styles.select} ${className}`}\r\n\t\t\tclassNamePrefix=\"rs\"\r\n\t\t\tisSearchable={isSearchable}\r\n\t\t\tonChange={onSelectChange}\r\n\t\t\tcomponents={withIcon ? {SingleValue: CustomSingleValue, Option: CustomOption} : undefined}\r\n\t\t\toptions={options}\r\n\t\t\tplaceholder={placeholder}\r\n\t\t\tvalue={value}\r\n\t\t\tinputProps={{\r\n\t\t\t\tid: id,\r\n\t\t\t}}\r\n\t\t/>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\n\r\nimport styles from \"../Reservation/VehicleCard/vc.module.sass\";\r\n\r\nexport const ActionsCardSkeleton: React.FC = () => {\r\n\treturn (\r\n\t\t<div className=\"card\">\r\n\t\t\t<div className=\"column\">\r\n\t\t\t\t{/* <LinksList>\r\n\t\t\t<li>\r\n\t\t\t\t<a href=\"!#\" target=\"_blank\">\r\n\t\t\t\t\tHow standard rental works?\r\n\t\t\t\t</a>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<a href=\"!#\" target=\"_blank\">\r\n\t\t\t\t\tCustomer service\r\n\t\t\t\t</a>\r\n\t\t\t</li>\r\n\t\t</LinksList> */}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"column column--2\">\r\n\t\t\t\t<div className={`column__row jc-fe ai-fs ${styles.btns}`}>\r\n\t\t\t\t\t<Skeleton width={120} height={37} />\r\n\t\t\t\t\t<Skeleton width={120} height={37} style={{marginLeft: \"15px\"}} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\n\r\nimport styles from \"../Reservation/BillingCard/billing.module.sass\";\r\n\r\nexport const BillingCardSkeleton: React.FC = () => {\r\n\treturn (\r\n\t\t<div className={`card ${styles.bc}`}>\r\n\t\t\t<div className=\"column column--title\">\r\n\t\t\t\t<div className=\"card__title\">Billing information</div>\r\n\t\t\t\t<Skeleton width={70} height={14} style={{display: \"block\", marginTop: \"15px\"}} />\r\n\t\t\t\t<Skeleton width={70} height={14} style={{display: \"block\", marginTop: \"14px\"}} />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"column\">\r\n\t\t\t\t<Skeleton width={90} height={12} style={{display: \"block\", marginBottom: \"7px\"}} />\r\n\t\t\t\t<Skeleton width={183} height={38} />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"column column--last\">\r\n\t\t\t\t<div className=\"column__row jc-sb ai-b\">\r\n\t\t\t\t\t<Skeleton width={30} height={12} style={{marginBottom: \"12px\"}} />\r\n\t\t\t\t\t<Skeleton width={100} height={18} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={`column__row ${styles.sign__row}`}>\r\n\t\t\t\t\t<div className={styles.sign__place}>\r\n\t\t\t\t\t\t<Skeleton width=\"100%\" height=\"100%\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\n\r\nimport styles from \"../Reservation/DriverCard/dc.module.sass\";\r\n\r\nexport const DriverCardSkeleton: React.FC = () => {\r\n\treturn (\r\n\t\t<div className={styles.driver}>\r\n\t\t\t<div className={styles.driver__name}></div>\r\n\t\t\t<Skeleton width={180} height={14} />\r\n\t\t\t<div className={styles.driver__docs}>\r\n\t\t\t\t<Skeleton\r\n\t\t\t\t\twidth={85}\r\n\t\t\t\t\theight={30}\r\n\t\t\t\t\tcount={2}\r\n\t\t\t\t\tstyle={{marginRight: \"15px\", marginBottom: \"10px\"}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\n\r\nimport styles from \"../Reservation/ExtrasCard/extras.module.sass\";\r\n\r\nexport const ExtrasCardSkeleton: React.FC = () => {\r\n\treturn (\r\n\t\t<div className={`card ${styles.card}`}>\r\n\t\t\t<div className=\"column column--title\">\r\n\t\t\t\t<div className=\"column__row ai-c\">\r\n\t\t\t\t\t<span className=\"card__title\">Extras</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"column column--2\">\r\n\t\t\t\t<Skeleton width={65} height={12} style={{display: \"block\", marginBottom: \"7px\"}} />\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className={styles.item}>\r\n\t\t\t\t\t\t<div className={styles.data}>\r\n\t\t\t\t\t\t\t<Skeleton width={170} height={18} style={{display: \"block\"}} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Skeleton width={70} height={18} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Skeleton\r\n\t\t\t\t\twidth={65}\r\n\t\t\t\t\theight={12}\r\n\t\t\t\t\tstyle={{display: \"block\", marginBottom: \"7px\", marginTop: \"20px\"}}\r\n\t\t\t\t/>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className={styles.item}>\r\n\t\t\t\t\t\t<div className={styles.data}>\r\n\t\t\t\t\t\t\t<Skeleton width={170} height={18} style={{display: \"block\"}} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Skeleton width={70} height={18} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\n\r\nexport const RentalPeriodSkeleton: React.FC = () => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Skeleton width={125} height={12} className=\"label-title\" style={{display: \"block\"}} />\r\n\t\t\t<Skeleton width={60} height={18} />\r\n\t\t</>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\n\r\nimport styles from \"../ReservationsList/rslist.module.sass\";\r\n\r\nimport dlStyles from \"../DateLocation/dl.module.sass\";\r\n\r\nexport const ReservationListSkeleton: React.FC = () => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ReservationListItemSkeleton />\r\n\t\t\t<ReservationListItemSkeleton />\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst ReservationListItemSkeleton: React.FC = () => {\r\n\treturn (\r\n\t\t<div className={styles.reservation}>\r\n\t\t\t<div className={styles.reservation__header}>\r\n\t\t\t\t<Skeleton width={160} height={14} style={{marginBottom: 5, marginRight: 15}} />\r\n\t\t\t\t<Skeleton width={285} height={14} style={{marginBottom: 5}} />\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.reservation__body}>\r\n\t\t\t\t<div className={styles.side}>\r\n\t\t\t\t\t<div className={styles.vehicle}>\r\n\t\t\t\t\t\t<div className={styles.vehicle__info} style={{width: 150}}>\r\n\t\t\t\t\t\t\t<div className={styles.vehicle__img}>\r\n\t\t\t\t\t\t\t\t<img src=\"/img/img-place.svg\" alt=\"\" style={{objectFit: \"unset\"}} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Skeleton width={130} height={13} style={{marginTop: 10}} />\r\n\t\t\t\t\t\t\t<Skeleton width={150} height={23} style={{marginTop: 5}} />\r\n\t\t\t\t\t\t\t<Skeleton width={50} height={11} style={{marginTop: 2}} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={styles.vehicle__info} style={{width: 110}}>\r\n\t\t\t\t\t\t\t<Skeleton width={90} height={12} />\r\n\t\t\t\t\t\t\t<Skeleton width={90} height={12} count={3} style={{marginTop: 10, marginRight: 20}} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={styles.side}>\r\n\t\t\t\t\t<div className={styles.details}>\r\n\t\t\t\t\t\t<div className={`${styles.details__column} ${styles[\"details__column--mob\"]}`}>\r\n\t\t\t\t\t\t\t<div className={styles[\"mob-flex\"]}>\r\n\t\t\t\t\t\t\t\t<Skeleton width={120} height={14} style={{marginBottom: 10}} />\r\n\t\t\t\t\t\t\t\t<div className={dlStyles.container}>\r\n\t\t\t\t\t\t\t\t\t<Skeleton width={33} height={38} style={{marginRight: 7}} />\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<Skeleton width={80} height={12} style={{display: \"block\"}} />\r\n\t\t\t\t\t\t\t\t\t\t<Skeleton width={80} height={12} style={{display: \"block\", marginTop: 5}} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className={styles[\"mob-flex\"]}>\r\n\t\t\t\t\t\t\t\t<Skeleton width={120} height={14} style={{marginBottom: 10}} />\r\n\t\t\t\t\t\t\t\t<div className={dlStyles.container}>\r\n\t\t\t\t\t\t\t\t\t<Skeleton width={33} height={38} style={{marginRight: 7}} />\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<Skeleton width={80} height={12} style={{display: \"block\"}} />\r\n\t\t\t\t\t\t\t\t\t\t<Skeleton width={80} height={12} style={{display: \"block\", marginTop: 5}} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={styles.details__column}>\r\n\t\t\t\t\t\t\t<Skeleton width={180} height={14} />\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Skeleton width={50} height={14} style={{marginTop: 8, marginBottom: 10}} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Skeleton width={180} height={14} count={2} />\r\n\t\t\t\t\t\t\t<div className={styles.details__group}>\r\n\t\t\t\t\t\t\t\t<div className={styles[\"details__group-item\"]} style={{width: 70}}>\r\n\t\t\t\t\t\t\t\t\t<Skeleton width={60} height={14} style={{marginBottom: 10}} />\r\n\t\t\t\t\t\t\t\t\t<Skeleton width={70} height={18} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className={styles[\"details__group-item\"]} style={{width: 70}}>\r\n\t\t\t\t\t\t\t\t\t<Skeleton width={60} height={14} style={{marginBottom: 10}} />\r\n\t\t\t\t\t\t\t\t\t<Skeleton width={70} height={18} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.reservation__footer}>\r\n\t\t\t\t<div className={styles[\"reservation__bottom-info\"]}>\r\n\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\twidth={200}\r\n\t\t\t\t\t\theight={14}\r\n\t\t\t\t\t\tstyle={{display: \"block\", marginTop: 10, marginRight: 15}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\twidth={270}\r\n\t\t\t\t\t\theight={14}\r\n\t\t\t\t\t\tstyle={{display: \"block\", marginTop: 10, marginRight: 15}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={styles.reservation__btns}>\r\n\t\t\t\t\t<Skeleton width={130} height={37} />\r\n\t\t\t\t\t<Skeleton width={130} height={37} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\n\r\nimport styles from \"../Reservation/TaxCard/taxes.module.sass\";\r\n\r\nexport const TaxesCardSkeleton: React.FC = () => {\r\n\treturn (\r\n\t\t<div className=\"card ai-end\">\r\n\t\t\t<div className={`column column--last ${styles.column}`}>\r\n\t\t\t\t<div className={`column__row jc-sb ai-c ${styles.row}`}>\r\n\t\t\t\t\t<Skeleton width={35} height={18} />\r\n\t\t\t\t\t<Skeleton width={60} height={18} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={`column__row jc-sb ai-c ${styles.row}`}>\r\n\t\t\t\t\t<Skeleton width={60} height={18} />\r\n\t\t\t\t\t<Skeleton width={90} height={18} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport classnames from \"classnames\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport {useMedia} from \"../../hooks/\";\r\n\r\nimport styles from \"../Reservation/VehicleCard/vc.module.sass\";\r\n\r\nimport dlStyles from \"../DateLocation/dl.module.sass\";\r\n\r\nexport const VehicleCardSkeleton: React.FC = () => {\r\n\tconst media = useMedia([\"(max-width: 575px)\", \"(max-width: 767px)\"], [\"xs\", \"s\"], \"l\");\r\n\r\n\tconst renderReserveNum = (): React.ReactElement => (\r\n\t\t<div className={`${styles[\"reserve-info\"]} mob-full`}>\r\n\t\t\t<div className=\"label\" style={{verticalAlign: \"bottom\", marginRight: \"10px\"}}>\r\n\t\t\t\t<Skeleton width={70} height={13} />\r\n\t\t\t</div>\r\n\t\t\t<Skeleton width={80} height={24} />\r\n\t\t</div>\r\n\t);\r\n\r\n\tconst renderControls = (): React.ReactElement => (\r\n\t\t<div className={`card__actions ${styles.actions}`}>\r\n\t\t\t<Skeleton width={72} height={20} />\r\n\t\t\t<Skeleton width={72} height={20} />\r\n\t\t</div>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div className={`card ${styles.vc}`}>\r\n\t\t\t{media !== \"l\" && renderReserveNum()}\r\n\t\t\t<div className={`column ${styles.vehicle}`}>\r\n\t\t\t\t<div className={styles.vehicle__info}>\r\n\t\t\t\t\t<div className={styles.vehicle__img}>\r\n\t\t\t\t\t\t<img src=\"/img/img-place.svg\" alt=\"\" style={{objectFit: \"unset\"}} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={styles.vehicle__group}>\r\n\t\t\t\t\t\t<Skeleton width={180} height={14} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<span className={styles.vehicle__title}>\r\n\t\t\t\t\t\t<Skeleton width={180} height={46} />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={styles.vehicle__info}>\r\n\t\t\t\t\t<Skeleton width={180} height={12} style={{display: \"block\", marginTop: 5}} />\r\n\t\t\t\t\t<Skeleton width={100} height={12} count={2} style={{display: \"block\", marginTop: 10}} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"column column--2\">\r\n\t\t\t\t<div className=\"column__row jc-fs ai-fs column__head\">\r\n\t\t\t\t\t{media === \"l\" && renderReserveNum()}\r\n\t\t\t\t\t<div className={styles[\"reserve-info\"]}>\r\n\t\t\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\t\t\t<Skeleton width={70} height={13} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Skeleton width={100} height={24} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={classnames(styles[\"reserve-info\"], {\r\n\t\t\t\t\t\t\t[styles[\"reserve-info--status\"]]: media === \"l\",\r\n\t\t\t\t\t\t})}>\r\n\t\t\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\t\t\t<Skeleton width={70} height={13} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Skeleton width={100} height={24} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"column__row jc-fs ai-fs column__body\">\r\n\t\t\t\t\t<div className={styles[\"dl-cotainer\"]}>\r\n\t\t\t\t\t\t<div className={styles[\"dl-item\"]}>\r\n\t\t\t\t\t\t\t<Skeleton width={120} height={13} style={{marginBottom: 10}} />\r\n\t\t\t\t\t\t\t<div className={dlStyles.container}>\r\n\t\t\t\t\t\t\t\t<Skeleton width={33} height={38} style={{marginRight: 7}} />\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Skeleton width={80} height={11} style={{display: \"block\"}} />\r\n\t\t\t\t\t\t\t\t\t<Skeleton width={80} height={12} style={{display: \"block\", marginTop: 5}} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={styles[\"dl-item\"]}>\r\n\t\t\t\t\t\t\t<Skeleton width={120} height={13} style={{marginBottom: 10}} />\r\n\t\t\t\t\t\t\t<div className={dlStyles.container}>\r\n\t\t\t\t\t\t\t\t<Skeleton width={33} height={38} style={{marginRight: 7}} />\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Skeleton width={80} height={11} style={{display: \"block\"}} />\r\n\t\t\t\t\t\t\t\t\t<Skeleton width={80} height={12} style={{display: \"block\", marginTop: 5}} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{media !== \"xs\" && renderControls()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"column column--last\">\r\n\t\t\t\t\t\t<Skeleton width={180} height={13} style={{marginBottom: 10}} />\r\n\t\t\t\t\t\t<Skeleton width={180} height={18} />\r\n\t\t\t\t\t\t<Skeleton width={220} height={124} style={{marginTop: 15}} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{media === \"xs\" && renderControls()}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport classnames from \"classnames\";\r\nimport {Button} from \"../\";\r\n\r\nimport styles from \"./login.module.sass\";\r\n\r\nimport {useLoginForm} from \"../../hooks\";\r\n\r\nexport const Form: React.FC = () => {\r\n\tconst {\r\n\t\t// loading,\r\n\t\tvalues,\r\n\t\terrors,\r\n\t\tonSubmitForm,\r\n\t\tonValueChange,\r\n\t\tonFocus,\r\n\t} = useLoginForm({\r\n\t\temail: \"\",\r\n\t\t//more fields\r\n\t});\r\n\r\n\treturn (\r\n\t\t<form className={styles.form} onSubmit={onSubmitForm}>\r\n\t\t\t<div\r\n\t\t\t\tclassName={classnames(styles.input__wrap, {\r\n\t\t\t\t\t[styles.error]: !!errors.email,\r\n\t\t\t\t})}>\r\n\t\t\t\t{errors.email && (\r\n\t\t\t\t\t<div className={styles.input__error}>\r\n\t\t\t\t\t\t<span>{errors.email}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName={styles.input}\r\n\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\tvalue={values.email}\r\n\t\t\t\t\tonChange={onValueChange}\r\n\t\t\t\t\tonFocus={onFocus}\r\n\t\t\t\t\tplaceholder=\"email\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.form__buttons}>\r\n\t\t\t\t<Button type=\"submit\" text=\"Sign in\" color=\"green\" />\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport {shallowEqual} from \"react-redux\";\r\nimport {useTypedSelector} from \"../../redux\";\r\nimport {Form} from \"./Form\";\r\n\r\nimport styles from \"./login.module.sass\";\r\n\r\nexport const LoginForm: React.FC = () => {\r\n\tconst {mailIsSended} = useTypedSelector((store) => store.auth, shallowEqual);\r\n\treturn (\r\n\t\t<div className={styles.wrapper}>\r\n\t\t\t{mailIsSended && (\r\n\t\t\t\t<p className={styles.info}>\r\n\t\t\t\t\t       . <br />   .\r\n\t\t\t\t</p>\r\n\t\t\t)}\r\n\t\t\t<div className={styles.inner}>\r\n\t\t\t\t<h1 className={styles.title}>Sign in</h1>\r\n\t\t\t\t<Form />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React, {useEffect} from \"react\";\r\nimport {useLocation} from \"react-router-dom\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {ReservationList, ListFilter, Pagination} from \"../components\";\r\nimport {useTypedSelector} from \"../redux\";\r\nimport {getReservations} from \"../redux/actions\";\r\n\r\nexport const Reservations: React.FC = () => {\r\n\tconst {search} = useLocation();\r\n\tconst {filters, data, loading} = useTypedSelector((store) => store.reservations);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst {reservations, pagination} = data;\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(getReservations(search));\r\n\t\twindow.scroll(0, 0);\r\n\t}, [search, dispatch]);\r\n\r\n\treturn (\r\n\t\t<div className=\"page-content\">\r\n\t\t\t<ListFilter total={pagination.total_count} filters={filters} />\r\n\t\t\t<ReservationList loading={loading} reservations={reservations} />\r\n\t\t\t<Pagination {...pagination} />\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React, {useEffect} from \"react\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport classnames from \"classnames\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport {\r\n\tActionsCard,\r\n\tActionsCardSkeleton,\r\n\tAnnualCard,\r\n\tBillingCard,\r\n\tBillingCardSkeleton,\r\n\tDriverCard,\r\n\tExtrasCard,\r\n\tExtrasCardSkeleton,\r\n\tTaxCard,\r\n\tTaxesCardSkeleton,\r\n\tVehicleCard,\r\n\tVehicleCardSkeleton,\r\n} from \"../components\";\r\n\r\nimport styles from \"./pages.module.sass\";\r\n\r\nimport {useReservation} from \"../hooks\";\r\n\r\nexport const Reservation: React.FC = () => {\r\n\tconst {id} = useParams<{id: string}>();\r\n\tconst {reservation} = useReservation(id);\r\n\r\n\tuseEffect(() => {\r\n\t\twindow.scroll(0, 0);\r\n\t}, []);\r\n\r\n\tconst isReady = reservation && reservation.id === +id;\r\n\r\n\tconst lowerCaseType = reservation && reservation.type.toLowerCase();\r\n\tconst lowerCaseStatus = reservation && reservation.status.toLowerCase();\r\n\r\n\tconst isRedjected = lowerCaseStatus === \"reject\" || lowerCaseStatus === \"cancel\";\r\n\r\n\treturn (\r\n\t\t<div className=\"page-content\">\r\n\t\t\t<div\r\n\t\t\t\tclassName={classnames(styles.reservation, {\r\n\t\t\t\t\t\"is-rejected\": isRedjected,\r\n\t\t\t\t\t\"is-keyless\": lowerCaseType === \"keyless\",\r\n\t\t\t\t\t\"is-standard\": lowerCaseType === \"standard\",\r\n\t\t\t\t})}>\r\n\t\t\t\t{/* Vehicle card */}\r\n\t\t\t\t{isReady ? <VehicleCard /> : <VehicleCardSkeleton />}\r\n\t\t\t\t{/* Driver card */}\r\n\t\t\t\t<DriverCard />\r\n\t\t\t\t{/* Extras card */}\r\n\t\t\t\t{isReady && (reservation as IReservation).extras_data ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<ExtrasCard />\r\n\t\t\t\t\t\t<TaxCard />\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<ExtrasCardSkeleton />\r\n\t\t\t\t\t\t<TaxesCardSkeleton />\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t\t{isReady && (reservation as IReservation).payment_methods ? (\r\n\t\t\t\t\t<BillingCard />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<BillingCardSkeleton />\r\n\t\t\t\t)}\r\n\t\t\t\t{isReady ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{isRedjected && <AnnualCard />}\r\n\t\t\t\t\t\t<ActionsCard />\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ActionsCardSkeleton />\r\n\t\t\t\t)}\r\n\t\t\t\t<ReactTooltip />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport {LoginForm} from \"../components\";\r\n\r\nexport const Login: React.FC = () => {\r\n\treturn (\r\n\t\t<div className=\"overlay\">\r\n\t\t\t<LoginForm />\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React, {useRef, useEffect} from \"react\";\r\nimport {Redirect, useLocation} from \"react-router-dom\";\r\nimport queryString from \"query-string\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {Loader} from \"../components\";\r\nimport {loginAction} from \"../redux/actions\";\r\n\r\nconst parseToken = (tokenData: string | string[] | null) => {\r\n\tlet parsedToken: string | undefined | null = \"\";\r\n\tif (Array.isArray(tokenData)) {\r\n\t\tparsedToken = tokenData.find((t) => !!t);\r\n\t} else {\r\n\t\tparsedToken = tokenData;\r\n\t}\r\n\treturn parsedToken;\r\n};\r\n\r\nexport const Auth: React.FC = () => {\r\n\tconst {search} = useLocation();\r\n\tconst {token} = queryString.parse(search);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst tokenIsValid = useRef(parseToken(token));\r\n\r\n\tuseEffect(() => {\r\n\t\tif (tokenIsValid.current) dispatch(loginAction(tokenIsValid.current));\r\n\t}, [dispatch]);\r\n\r\n\treturn tokenIsValid.current ? <Loader /> : <Redirect to=\"/login\" />;\r\n};\r\n","import React from \"react\";\r\nimport {Switch, Route, Redirect} from \"react-router-dom\";\r\nimport {Reservations, Reservation} from \"../pages\";\r\nimport {Nav} from \"../components\";\r\n\r\nexport const PersonalRoutes: React.FC = () => {\r\n\treturn (\r\n\t\t<div className=\"container\">\r\n\t\t\t<Nav />\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route exact path=\"/reservations/:id\" component={Reservation} />\r\n\t\t\t\t<Route exact path=\"/reservations\" component={Reservations} />\r\n\t\t\t\t<Redirect exact from=\"/(login)?\" to=\"/reservations\" />\r\n\t\t\t</Switch>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport {Switch, Route, Redirect} from \"react-router-dom\";\r\nimport {Login, Auth} from \"../pages\";\r\n\r\nexport const AuthRoutes: React.FC = () => {\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<Route exact path=\"/\" component={Auth} />\r\n\t\t\t<Route exact path=\"/login\" component={Login} />\r\n\t\t\t<Redirect to=\"/login\" />\r\n\t\t</Switch>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport {shallowEqual} from \"react-redux\";\r\nimport {useTypedSelector} from \"./redux\";\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport {AuthRoutes, PersonalRoutes} from \"./routes\";\r\n\r\nconst App: React.FC = () => {\r\n\tconst {isLoggedIn} = useTypedSelector((store) => store.auth, shallowEqual);\r\n\t// const dispatch = useDispatch();\r\n\r\n\treturn <BrowserRouter>{isLoggedIn ? <PersonalRoutes /> : <AuthRoutes />}</BrowserRouter>;\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport {Provider} from \"react-redux\";\r\nimport store from \"./redux/store\";\r\nimport App from \"./App\";\r\n\r\nimport \"./styles/main.sass\";\r\n\r\nReactDOM.render(\r\n\t<Provider store={store}>\r\n\t\t<App />\r\n\t</Provider>,\r\n\tdocument.getElementById(\"rentsyst_personal\"),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"dl_container__2ZBt6\",\"date\":\"dl_date__31IM3\",\"month\":\"dl_month__1sV_t\",\"day\":\"dl_day__3s_gy\",\"year\":\"dl_year__3YlXg\",\"location\":\"dl_location__1SeYS\",\"time\":\"dl_time__2Yqkq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dc\":\"dc_dc__1El2q\",\"driver\":\"dc_driver__3Vz1J\",\"driver__name\":\"dc_driver__name__2UtEP\",\"driver__docs\":\"dc_driver__docs__KwPIF\",\"driver__doc\":\"dc_driver__doc__14g5u\",\"driver__doc-label\":\"dc_driver__doc-label__2QIfA\",\"driver__doc-num\":\"dc_driver__doc-num__TPuqC\",\"column--drivers\":\"dc_column--drivers__2d1eV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"le_container__1MJ3p\",\"control-wrap\":\"le_control-wrap__3d0d4\",\"input\":\"le_input__19pSM\",\"select\":\"le_select__1wNeC\",\"control-wrap--input\":\"le_control-wrap--input__2jo0y\",\"control-wrap--select\":\"le_control-wrap--select__32dBE\",\"checkbox__label\":\"le_checkbox__label__3v6JI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"login_wrapper__2LSLd\",\"info\":\"login_info__L9p8l\",\"inner\":\"login_inner__218vp\",\"title\":\"login_title__3Ixb4\",\"form\":\"login_form__2Dw8q\",\"form__buttons\":\"login_form__buttons__3m_5O\",\"input\":\"login_input__24m2Y\",\"input__wrap\":\"login_input__wrap__12bqF\",\"error\":\"login_error__2Q1kp\",\"input__error\":\"login_input__error__2XHWQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"button_button__mW1Hw\",\"is-disabled\":\"button_is-disabled__2LY3O\",\"green\":\"button_green__1axlI\",\"blue\":\"button_blue__hKBKB\",\"small\":\"button_small__79cJQ\",\"button__loader\":\"button_button__loader__3nOP7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"de_container__3D7ZC\",\"item\":\"de_item__tSgN7\",\"control-wrap\":\"de_control-wrap__w4JO-\",\"date-val\":\"de_date-val__1MaVP\",\"time\":\"de_time__3hvAl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"column\":\"taxes_column__2yHTG\",\"label-title\":\"taxes_label-title__3qfOd\",\"row\":\"taxes_row__uMNFf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"rslist_list__2BvBf\",\"reservation\":\"rslist_reservation__1ts5e\",\"label\":\"rslist_label__2Yp8g\",\"reservation__header\":\"rslist_reservation__header__TOG4M\",\"number\":\"rslist_number__2e3bs\",\"status\":\"rslist_status__34VuL\",\"status-val\":\"rslist_status-val__2kq1d\",\"type-val\":\"rslist_type-val__1X-0Q\",\"reservation__body\":\"rslist_reservation__body__3jiuQ\",\"side\":\"rslist_side__29b4o\",\"reservation__footer\":\"rslist_reservation__footer__33Cnp\",\"rental-time\":\"rslist_rental-time__VRMmf\",\"reservation__bottom-info\":\"rslist_reservation__bottom-info__YdlO5\",\"reservation__todo\":\"rslist_reservation__todo__EKqSG\",\"reservation__btns\":\"rslist_reservation__btns__327l1\",\"reservation__loading\":\"rslist_reservation__loading__1pZZG\",\"vehicle\":\"rslist_vehicle__5yObC\",\"vehicle__info\":\"rslist_vehicle__info__pognw\",\"vehicle__img\":\"rslist_vehicle__img__3wmhf\",\"vehicle__inner\":\"rslist_vehicle__inner__1f0Ql\",\"vehicle__group\":\"rslist_vehicle__group__1nVkk\",\"vehicle__title\":\"rslist_vehicle__title__1e9P5\",\"vehicle__similar\":\"rslist_vehicle__similar__P39Ew\",\"details\":\"rslist_details__8LTDh\",\"details__group\":\"rslist_details__group__39dTM\",\"details__group-item\":\"rslist_details__group-item__3aagr\",\"details__column\":\"rslist_details__column__6kl_p\",\"mob-flex\":\"rslist_mob-flex__oNRha\",\"details__column--mob\":\"rslist_details__column--mob__1ws5Q\",\"extras\":\"rslist_extras__8wbwL\",\"price\":\"rslist_price__dio9c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"annul_message__3h9Hr\",\"annual__modal\":\"annul_annual__modal__8PAR3\",\"annual__title\":\"annul_annual__title__3ck46\",\"annual__text\":\"annul_annual__text__2u0iZ\",\"annual__error\":\"annul_annual__error__2xEzZ\",\"text-column\":\"annul_text-column__3sMSj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sign\":\"signature_sign__2ybF1\",\"sign__controls\":\"signature_sign__controls__2hq-j\",\"sign__field\":\"signature_sign__field__14mJO\",\"sign__preview\":\"signature_sign__preview__1RQXx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"loader_overlay__24AMR\",\"loader\":\"loader_loader__3hGht\",\"circle\":\"loader_circle__1i-WY\",\"ldsEllipsis1\":\"loader_ldsEllipsis1__2vAFQ\",\"ldsEllipsis2\":\"loader_ldsEllipsis2__NyByY\",\"ldsEllipsis3\":\"loader_ldsEllipsis3__hpxPv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"param\":\"vp_param__saprb\",\"vp__group\":\"vp_vp__group__10sNo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"filters_container__3muaX\",\"total\":\"filters_total__K_OfR\",\"filters\":\"filters_filters__260Wk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"nav_list__1psjv\",\"link\":\"nav_link__1_nWH\",\"active\":\"nav_active__Rr801\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"todo_container__1OFj8\",\"label\":\"todo_label__33WBu\",\"actions\":\"todo_actions__2BAcf\",\"action\":\"todo_action__18fdE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"checkbox_container__2R2RC\",\"label\":\"checkbox_label__3U1eI\",\"checkbox\":\"checkbox_checkbox__NHRJE\"};"],"sourceRoot":""}