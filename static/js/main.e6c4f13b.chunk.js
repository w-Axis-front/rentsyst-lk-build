(this["webpackJsonprentsyst-personal"]=this["webpackJsonprentsyst-personal"]||[]).push([[0],{116:function(e,a,t){e.exports={btns:"actions_btns__2RLY-",todo:"actions_todo__YybXC"}},123:function(e,a,t){e.exports={select:"select_select__Phg0W"}},15:function(e,a,t){e.exports={container:"ae_container__1qOwX","account-wrap":"ae_account-wrap__1Pik_",account__button:"ae_account__button__utCx-","account__personal-data-wrapper":"ae_account__personal-data-wrapper__10k02","account__form-row":"ae_account__form-row__23emt","account__form-group":"ae_account__form-group__2-V45","account__form-group-m":"ae_account__form-group-m__oYWEW","account__form-group-s":"ae_account__form-group-s__21Yh-",account:"ae_account__18VlF","account__help-block":"ae_account__help-block__2xOXr",avatar:"ae_avatar__2wZvI",avatar__preview:"ae_avatar__preview__1TV29",avatar__btn:"ae_avatar__btn__2NU9Z","avatar__btn-edit":"ae_avatar__btn-edit__3FkUl",avatar__file:"ae_avatar__file__2buJc","avatar__btn-remove":"ae_avatar__btn-remove__3BGWq",documents__title:"ae_documents__title__2RJi-",document:"ae_document__Q8OWK",document__styled:"ae_document__styled__1umng",document__label:"ae_document__label__M8xAj",document__text:"ae_document__text__2z9Fx",document__thumb:"ae_document__thumb__3gE_M","document__thumb-unpointed":"ae_document__thumb-unpointed__28YP0","document__photo-remove":"ae_document__photo-remove__3srpw",document__photo:"ae_document__photo__15jaO","document__item-remove":"ae_document__item-remove__qKCoj",document__upload:"ae_document__upload__2zaL_","document__form-photo-input":"ae_document__form-photo-input__CMAw3",document__btn:"ae_document__btn__38flC",document__select:"ae_document__select__1W70M",modal:"ae_modal__3ZJPO",modal__content:"ae_modal__content__ywIFJ"}},169:function(e,a,t){e.exports={icon:"infotip_icon__2E9oE"}},17:function(e,a,t){e.exports={vc:"vc_vc__1Svnd","reserve-num":"vc_reserve-num__3Vsir","reserve-type":"vc_reserve-type__1yYWW","reserve-status":"vc_reserve-status__N7riq","reserve-info":"vc_reserve-info__2fUV2","reserve-info--status":"vc_reserve-info--status__I1Yny","dl-cotainer":"vc_dl-cotainer__1a43_","dl-item":"vc_dl-item__19Nog",actions:"vc_actions__bv12N","map-place":"vc_map-place__1j8_g","map-place--mt":"vc_map-place--mt__1cWcN",vehicle:"vc_vehicle__F4yVw",vehicle__img:"vc_vehicle__img__164Rf",vehicle__group:"vc_vehicle__group__TyDTO",vehicle__title:"vc_vehicle__title__3wfaI",vehicle__similar:"vc_vehicle__similar__1bmdX",vehicle__info:"vc_vehicle__info__18_S-","ld-edit":"vc_ld-edit__2V37Y","ld-edit__row":"vc_ld-edit__row__qDtn-","map-row":"vc_map-row__3Utwl","ld-edit__dates":"vc_ld-edit__dates__JppuL"}},171:function(e,a,t){e.exports={pagination:"pagination_pagination__3Y6jX"}},172:function(e,a,t){e.exports={"time-left":"rt_time-left__zRzhc"}},180:function(e,a,t){e.exports=t(326)},19:function(e,a,t){e.exports={bc:"billing_bc__QRbe2","links-list":"billing_links-list__3nQY3",payments:"billing_payments__1K730",payments__method:"billing_payments__method__1PDAL",discount:"billing_discount__3fMdB",discount__label:"billing_discount__label__2gke-",discount__details:"billing_discount__details__2IG2R",discount__form:"billing_discount__form__3HOPX",discount__icon:"billing_discount__icon__1vUyH",discount__input:"billing_discount__input__11r8l","discount__input-info":"billing_discount__input-info__PTeXn","discount__input-error":"billing_discount__input-error__1D_ce",discount__btn:"billing_discount__btn___cq-D",discount__remove:"billing_discount__remove__QWvuS","is-loading":"billing_is-loading__3bIZQ",prices:"billing_prices__JP7Ft","label-discount":"billing_label-discount__3YSH_","total-row":"billing_total-row__3bF1W",sign__place:"billing_sign__place__2JLmI",sign__modal:"billing_sign__modal__1dhez",sign__btn:"billing_sign__btn__31xm7","sign__btn-skelet":"billing_sign__btn-skelet__2APZX",sign__create:"billing_sign__create__24LUi","sign__create-text":"billing_sign__create-text__hPRoy",sign__content:"billing_sign__content__3Hk2O","pay-link":"billing_pay-link__9eJMw"}},24:function(e,a,t){e.exports={card:"extras_card__1Fbf3",item:"extras_item__36j4O",data:"extras_data__oDwug","hidden-input":"extras_hidden-input__1Z207",label:"extras_label__OX4v7","label--radio":"extras_label--radio__3VvUI","label--check":"extras_label--check__39LV8",quantity:"extras_quantity__2XhVQ",quantity__input:"extras_quantity__input__2qpRc",quantity__button:"extras_quantity__button__2QiRd",left:"extras_left__3BmKD",right:"extras_right__2jJJy","i-desc":"extras_i-desc__1j02k"}},29:function(e,a,t){e.exports={dc:"dc_dc__31Lqb",driver:"dc_driver__2LuDU",driver__name:"dc_driver__name__3gcFO",driver__docs:"dc_driver__docs__1A3wN",driver__doc:"dc_driver__doc__17Hhs","driver__doc-label":"dc_driver__doc-label__3xlgK","driver__doc-num":"dc_driver__doc-num__JpAbX","driver__license-btn":"dc_driver__license-btn__EIdXT","btn-skeleton":"dc_btn-skeleton__3FbAC","driver__license-error":"dc_driver__license-error__jz0PY","column--drivers":"dc_column--drivers__11HiH"}},325:function(e,a,t){},326:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(32),l=t.n(c),o=t(7),i=t(56),s=t(166),u=t(1),m={isLoggedIn:localStorage&&"true"===localStorage.getItem("rsIsLogged"),loading:!1,mailIsSended:!1,message:""};var d={filters:{type:null,reserved_status:null,period:null},loading:!1,data:{reservations:[],pagination:{begin:0,count_pages:0,end:0,page:1,per_page:1,total_count:0}},reservation:null};var _=t(42),v=function(e,a,t){var n=e.findIndex((function(e){return e.id===t})),r=e.find((function(e){return e.id===t}));return r?[].concat(Object(_.a)(e.slice(0,n)),[Object(u.a)(Object(u.a)({},r),{},{photos:r.photos?r.photos.filter((function(e){return e.id!==a})):[]})],Object(_.a)(e.slice(n+1))):Object(_.a)(e)},p={loading:!1,data:{first_name:"",last_name:"",email:"",phone:"",birthday:"",country:null,zip:"",state:"",city:"",street:"",building:"",documents:[],avatar:null}};var f=Object(i.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN":return localStorage&&localStorage.setItem("rsIsLogged","true"),Object(u.a)(Object(u.a)({},e),{},{isLoggedIn:!0});case"LOGOUT":return localStorage&&localStorage.removeItem("rsIsLogged"),Object(u.a)(Object(u.a)({},e),{},{isLoggedIn:!1});case"SET_AUTH_LOADING":return Object(u.a)(Object(u.a)({},e),{},{loading:a.payload});case"SET_MAIL_SENDED":return Object(u.a)(Object(u.a)({},e),{},{mailIsSended:a.payload.status,message:a.payload.message||""});default:return e}},reservations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_RESERVATION_LOADING":return Object(u.a)(Object(u.a)({},e),{},{loading:a.payload});case"SET_RESERVATIONS":return Object(u.a)(Object(u.a)({},e),{},{data:a.payload});case"UPDATE_FILTERS":var t=Object(u.a)({},e.filters);return Object.keys(t).forEach((function(e){var n=a.payload[e],r=Array.isArray(n)?n[0]:n;t[e]=r||null})),Object(u.a)(Object(u.a)({},e),{},{filters:Object(u.a)(Object(u.a)({},e.filters),t)});case"SET_RESERVATION":return Object(u.a)(Object(u.a)({},e),{},{reservation:a.payload});case"UPDATE_RESERVATION":var n=Object(u.a)({},e.reservation);return Object(u.a)(Object(u.a)({},e),{},{reservation:Object(u.a)(Object(u.a)({},n),a.payload)});default:return e}},driver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_DRIVER_LOADING":return Object(u.a)(Object(u.a)({},e),{},{loading:a.payload});case"UPDATE_DRIVER":return Object(u.a)(Object(u.a)({},e),{},{data:Object(u.a)(Object(u.a)({},e.data),a.payload)});case"UPDATE_DRIVER_AVATAR":return Object(u.a)(Object(u.a)({},e),{},{data:Object(u.a)(Object(u.a)({},e.data),{},{avatar:a.payload})});case"UPDATE_DRIVER_DOCUMENTS":return Object(u.a)(Object(u.a)({},e),{},{data:Object(u.a)(Object(u.a)({},e.data),{},{documents:e.data.documents.filter((function(e){return e.id!==a.payload}))})});case"UPDATE_DRIVER_DOCUMENT_PHOTO":return Object(u.a)(Object(u.a)({},e),{},{data:Object(u.a)(Object(u.a)({},e.data),{},{documents:v(e.data.documents,a.payload.photoId,a.payload.docId)})});default:return e}}}),b=i.d,g=Object(i.e)(f,b(Object(i.a)(s.a))),h=t(51),E=(t(189),o.e),y=t(38),N=t(27),O=t(116),j=t.n(O),w=function(){var e=E((function(e){return e.reservations.reservation})),a=e.status,t=e.type.toLowerCase(),n=a.toLowerCase(),c="reject"===n||"cancel"===n,l=Object(N.g)(),o=function(e){l.goBack()};return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"column"}),r.a.createElement("div",{className:"column column--2"},r.a.createElement("div",{className:"column__row jc-fe ai-fs ".concat(j.a.btns)},r.a.createElement(it,{text:"Back",onClick:o}),!c&&"done"!==n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(at,{className:j.a.todo,actions:e.necessary_actions}),r.a.createElement(it,{text:"Confirm",color:"keyless"===t?"green":"standard"===t?"blue":"black",onClick:o})))))},x=t(4),k=t(35),C=t.n(k),D=t(3),S=t.n(D),R=t(14),T=t(66),I=t.n(T),L="https://api-cabinet-test.rentsyst.com/v1",A=new Date(Date.now()-567648e6),F=function(){var e="",a=localStorage.getItem("refreshToken")||"",t=0;function n(e){var a=e.accessToken,t=e.exp,n=e.refreshToken;F.setRefreshToken(n),F.setBearer(a),F.setAccessTokenExp(t)}function r(e){return{accessToken:e.access_token,exp:(new Date).getTime()+(e.expires_in||0),refreshToken:e.refresh_token}}return{makeLogin:function(){var e=Object(R.a)(S.a.mark((function e(a){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.post("".concat(L,"/auth"),{"one-time-token":a});case 2:return n(r((t=e.sent).data.data)),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),refreshTokens:function(){var e=Object(R.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.post("".concat(L,"/auth/refresh"),{"refresh-token":a});case 3:return n(r((t=e.sent).data.data)),e.abrupt("return",t);case 8:throw e.prev=8,e.t0=e.catch(0),F.setRefreshToken(""),F.setBearer(""),F.setAccessTokenExp(0),localStorage.removeItem("rsIsLogged"),g.dispatch({type:"LOGOUT"}),new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),debounceRefreshTokens:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=null,n=[];return function(){return null!==t&&(clearTimeout(t),t=null),t=setTimeout((function(){var a=e();n.forEach((function(e){return e(a)})),n=[]}),a),new Promise((function(e){return n.push(e)}))}}((function(){return F.refreshTokens()}),100),setBearer:function(a){e="Bearer ".concat(a)},getBearer:function(){return e},setAccessTokenExp:function(e){t=e},getAccessTokenExp:function(){return t},isAccessTokenExpired:function(){return t-5e3<=(new Date).getTime()},hasRefreshToken:function(){return Boolean(localStorage.getItem("refreshToken"))},setRefreshToken:function(e){a=e,localStorage.setItem("refreshToken",e)}}}(),P=F,M=function(){var e=I.a.create({baseURL:L});return{init:function(){return e.interceptors.request.use(function(){var e=Object(R.a)(S.a.mark((function e(a){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.headers.authorization=P.getBearer(),!P.isAccessTokenExpired()){e.next=14;break}return e.prev=2,e.next=5,P.debounceRefreshTokens();case 5:return a.headers.authorization=P.getBearer(),e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",Promise.reject(e.t0));case 12:e.next=15;break;case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(a){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),e}}}().init(),U=I.a.create({baseURL:L}),B={deleteReservationCoupon:function(e){return M({method:"delete",url:"/reservations/".concat(e,"/coupon")})},deleteReservationLoyalty:function(e){return M({method:"delete",url:"/reservations/".concat(e,"/loyalty")})},getDriverInfo:function(){return M({method:"get",url:"/account"})},getReservation:function(e){return M({method:"get",url:"/reservations/".concat(e)})},getReservationExtras:function(e){return M({method:"get",url:"/reservations/".concat(e,"/extras")})},getReservations:function(e){return M({method:"get",url:"/reservations".concat(e)})},getVehicleBusyDates:function(e){return M({method:"get",url:"/vehicles/".concat(e,"/busy-dates")})},getVehicleOffice:function(e,a){return M({method:"get",url:"/vehicles/".concat(e,"/reservation-times"),params:a})},postLogin:function(e){return P.makeLogin(e)},postReservationCoupon:function(e,a){return M({method:"post",url:"/reservations/".concat(e,"/coupon"),data:{coupon:a}})},postReservationLoyalty:function(e,a){return M({method:"post",url:"/reservations/".concat(e,"/loyalty"),data:{amount:a}})},postSendEmail:function(e){return U({method:"post",url:"/auth/request-login",data:{email:e}})},postSignature:function(e,a){var t=new FormData;return t.append("signature",a),M({method:"post",url:"/reservations/".concat(e,"/signature"),data:t})},putReservation:function(e,a){return M({method:"put",url:"/reservations/".concat(e),data:a})},putReservationExtras:function(e,a){return M({method:"put",url:"/reservations/".concat(e,"/extras"),data:a})},putReservationReject:function(e,a){return M({method:"put",url:"/reservations/".concat(e,"/annul"),data:a})},postAvatar:function(e){var a=new FormData;return a.append("avatar",e),M({method:"post",url:"/account/avatar",data:a})},deleteAvatar:function(e){return M({method:"delete",url:"/account/avatar/".concat(e)})},deleteDocument:function(e){return M({method:"delete",url:"/account/documents/".concat(e)})},deleteDocumentPhoto:function(e,a){return M({method:"delete",url:"/account/documents/".concat(a,"/photos/").concat(e)})},postSendAccountData:function(e){return M({method:"put",url:"/account",data:e})},postDocumentFile:function(e){var a=new FormData;return a.append("file",e),M({method:"post",url:"/account/documents/photos",data:a})},postSendDocument:function(e){return M({method:"post",url:"/account/documents",data:e})},updateDocument:function(e,a){return M({method:"put",url:"/account/documents/".concat(e),data:a})},getAccountCountries:function(){return M({method:"get",url:"/account/countries"})}},q=function(e){return{type:"SET_AUTH_LOADING",payload:e}},V=function(e,a){return{type:"SET_MAIL_SENDED",payload:{status:e,message:a}}},G=t(49),H=t(57),z=t.n(H),Y=function(e){return{type:"SET_RESERVATION_LOADING",payload:e}},W=function(e){return{type:"SET_RESERVATION",payload:e}},X=function(e){return{type:"UPDATE_RESERVATION",payload:e}},J=function(e,a,t){return function(){var n=Object(R.a)(S.a.mark((function n(r,c){var l,i,s;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=c().reservations,i=l.reservation,!l.loading&&i){n.next=3;break}return n.abrupt("return");case 3:return r(Y(!0)),n.prev=4,n.next=7,B.putReservation(i.id,e);case 7:(s=n.sent).data.status&&(Object(o.b)((function(){r(X(s.data.data)),r(Y(!1))})),G.a.rebuild(),a&&a()),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(4),console.error("Update reservation server errror"),r(Y(!1)),t&&t(n.t0.response.data);case 16:case"end":return n.stop()}}),n,null,[[4,11]])})));return function(e,a){return n.apply(this,arguments)}}()},K=function(e,a){return function(){var t=Object(R.a)(S.a.mark((function t(n,r){var c,l,i,s,u,m,d,_,v,p,f;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r().reservations,l=c.reservation,i=c.loading,l&&!i){t.next=3;break}return t.abrupt("return");case 3:return n(Y(!0)),s={insurance:e.filter((function(e){return!0===e.checked}))[0].id,extras:a.reduce((function(e,a){return a.quantity>0&&e.push({quantity:a.quantity,id:a.id}),e}),[])},t.prev=5,t.next=8,B.putReservationExtras(l.id,s);case 8:(u=t.sent).data.status&&(m=u.data.data,d=m.extras,_=m.insurances,v=m.taxes,p=m.prices,f=m.delivery_data,Object(o.b)((function(){n(X({extras_data:{extras:d,insurances:_,taxes:v,delivery_data:f},prices:p})),n(Y(!1))})),G.a.rebuild()),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(5),console.error("Update extras server error"),n(Y(!1));case 16:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,a){return t.apply(this,arguments)}}()},Q=function(e,a,t){return function(){var n=Object(R.a)(S.a.mark((function n(r,c){var l,i,s;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=c().reservations,i=l.reservation,!l.loading&&i){n.next=3;break}return n.abrupt("return");case 3:return r(Y(!0)),n.prev=4,n.next=7,B.postReservationCoupon(i.id,e);case 7:(s=n.sent).status&&(Object(o.b)((function(){r(X(s.data.data)),r(Y(!1))})),a&&a()),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(4),console.error("Send coupon server error"),r(Y(!1)),t&&t(n.t0.response.data);case 16:case"end":return n.stop()}}),n,null,[[4,11]])})));return function(e,a){return n.apply(this,arguments)}}()},Z=function(e,a,t){return function(){var n=Object(R.a)(S.a.mark((function n(r,c){var l,i,s;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=c().reservations,i=l.reservation,!l.loading&&i){n.next=3;break}return n.abrupt("return");case 3:return r(Y(!0)),n.prev=4,n.next=7,B.postReservationLoyalty(i.id,e);case 7:(s=n.sent).status&&(Object(o.b)((function(){r(X(s.data.data)),r(Y(!1))})),a&&a()),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(4),console.error("Send loyalty points server error"),r(Y(!1)),t&&t(n.t0.response.data);case 16:case"end":return n.stop()}}),n,null,[[4,11]])})));return function(e,a){return n.apply(this,arguments)}}()},$=function(e,a){return function(){var t=Object(R.a)(S.a.mark((function t(n,r){var c,l,i;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r().reservations,l=c.reservation,!c.loading&&l){t.next=3;break}return t.abrupt("return");case 3:return n(Y(!0)),t.prev=4,t.next=7,B.deleteReservationCoupon(l.id);case 7:(i=t.sent).status&&(Object(o.b)((function(){n(X(i.data.data)),n(Y(!1))})),e&&e()),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(4),console.error("Remove coupon server error"),n(Y(!1)),a&&a(t.t0.response.data);case 16:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e,a){return t.apply(this,arguments)}}()},ee=function(e,a){return function(){var t=Object(R.a)(S.a.mark((function t(n,r){var c,l,i;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r().reservations,l=c.reservation,!c.loading&&l){t.next=3;break}return t.abrupt("return");case 3:return n(Y(!0)),t.prev=4,t.next=7,B.deleteReservationLoyalty(l.id);case 7:(i=t.sent).status&&(Object(o.b)((function(){n(X(i.data.data)),n(Y(!1))})),e&&e()),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(4),console.error("Remove loyalty server error"),n(Y(!1)),a&&a(t.t0.response.data);case 16:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e,a){return t.apply(this,arguments)}}()},ae=function(e){return{type:"SET_DRIVER_LOADING",payload:e}},te=function(e){return{type:"UPDATE_DRIVER",payload:e}},ne=function(e){return{type:"UPDATE_DRIVER_AVATAR",payload:e}},re=function(e,a){return function(){var e=Object(R.a)(S.a.mark((function e(t,n){var r,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n().driver.loading){e.next=3;break}return e.abrupt("return");case 3:return t(ae(!0)),e.prev=4,e.next=7,B.getDriverInfo();case 7:(r=e.sent).data.status&&(c=r.data.data,Object(o.b)((function(){t(te(c)),t(ae(!1))}))),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("Get driver info server error"),t(ae(!1)),a&&a(e.t0.response.data);case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(a,t){return e.apply(this,arguments)}}()},ce=t(62),le=t.n(ce),oe=function(e){var a=e||{},t=a.isOpen,r=void 0!==t&&t,c=a.onOpen,l=a.onClose,o=Object(n.useState)(r),i=Object(x.a)(o,2),s=i[0],u=i[1];return{open:s,toggleCard:function(e){void 0!==e?(u(e),e&&(c?c():l&&l())):u((function(e){return!e}))},openCard:function(){u(!0),c&&c()},closeCard:function(){u(!1),l&&l()}}},ie=t(18),se=function(e){var a=Object(n.useState)(e),t=Object(x.a)(a,2),r=t[0],c=t[1],l=E((function(e){return e.auth}),o.c),i=l.loading,s=l.mailIsSended,m=l.message,d=Object(o.d)();return{hasError:!s&&!!m,loading:i,onSubmitForm:function(e){var a;e.preventDefault(),d((a=r.email,function(){var e=Object(R.a)(S.a.mark((function e(t,n){var r,c,l,i,s,u,m;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n().auth.loading){e.next=3;break}return e.abrupt("return");case 3:return t(q(!0)),e.prev=4,e.next=7,B.postSendEmail(a);case 7:r=e.sent,c=r.data,l=c.status,i=c.data,Object(o.b)((function(){t(V(l,i)),t(q(!1))})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),s=e.t0.response.data,u=s.status,m=s.error,Object(o.b)((function(){t(V(u,m)),t(q(!1))}));case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(a,t){return e.apply(this,arguments)}}()))},onValueChange:function(e){var a=e.target,t=a.name,n=a.value;c((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(ie.a)({},t,n))}))},values:r}},ue=function(e,a,t){var r=e.map((function(e){return window.matchMedia(e)})),c=function(){var e=r.findIndex((function(e){return e.matches}));return(null===a||void 0===a?void 0:a[e])||t},l=Object(n.useState)(c),o=Object(x.a)(l,2),i=o[0],s=o[1];return Object(n.useEffect)((function(){var e=function(){return s(c)};return r.forEach((function(a){return a.addListener(e)})),function(){return r.forEach((function(a){return a.removeListener(e)}))}}),[]),i},me=function(e){var a=e||{},t=a.isOpen,r=a.onOpen,c=a.onClose,l=Object(n.useState)(t||!1),o=Object(x.a)(l,2),i=o[0],s=o[1];return[i,function(e){void 0!==e?(s(e),e&&(r?r():c&&c())):s((function(e){return!e}))}]},de=function(e){var a=E((function(e){return e.reservations})),t=a.reservation,r=a.loading,c=Object(o.d)();return Object(n.useEffect)((function(){c(function(e){return function(){var a=Object(R.a)(S.a.mark((function a(t,n){var r,c,l,i,s,m,d,_,v,p,f,b;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=n().reservations,c=r.data,!r.loading){a.next=3;break}return a.abrupt("return");case 3:return l=c.reservations.filter((function(a){return a.id===e}))[0],Object(o.b)((function(){t(Y(!0)),l&&t(W(l))})),a.prev=5,a.next=8,Promise.all([B.getReservation(e),B.getReservationExtras(e)]);case 8:i=a.sent,s=Object(x.a)(i,2),m=s[0],d=s[1],m.data.status&&d.data.status&&(_=d.data.data,v=_.extras,p=_.insurances,f=_.taxes,b=_.delivery_data,Object(o.b)((function(){t(W(Object(u.a)(Object(u.a)({},m.data.data),{},{extras_data:{extras:v,insurances:p,taxes:f,delivery_data:b}}))),t(Y(!1))})),G.a.rebuild()),a.next=19;break;case 15:a.prev=15,a.t0=a.catch(5),console.error("Get reservation server error"),t(Y(!1));case 19:case"end":return a.stop()}}),a,null,[[5,15]])})));return function(e,t){return a.apply(this,arguments)}}()}(+e))}),[e,c]),{reservation:t,loading:r}},_e=function(){var e=Object(N.h)().search,a=Object(N.g)().push,t=function(e){var a={};return e.forEach((function(e){var t=e.name,n=e.value;a=Object(u.a)(Object(u.a)({},a),{},Object(ie.a)({},t,n))})),a};return{setLocationSearch:function(e){var n=t(e);a({search:z.a.stringify(n)})},updateLocationSearch:function(n){var r=z.a.parse(e),c=t(n);a({search:z.a.stringify(Object(u.a)(Object(u.a)({},r),c))})}}},ve=t(178),pe=function(e){var a="";a=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var t=e.split(",")[0].split(":")[1].split(";")[0],n=new Uint8Array(a.length),r=0;r<a.length;r++)n[r]=a.charCodeAt(r);return new Blob([n],{type:t})},fe=function(e){return e?e[0].toUpperCase()+e.slice(1).toLowerCase():e},be=function(e){return e.replace(/\s/,"T")},ge=function(e){return e?new Date(be(e)):null},he=function(e){return e<0||e>=10?e:"0".concat(e)},Ee=function(e){var a=Object(n.useRef)(null),t=Object(n.useRef)(null),r=function(){t.current&&t.current.clear()},c=function(){a.current&&(a.current.width=a.current.offsetWidth||700,a.current.height=a.current.offsetHeight||400),r()};return Object(n.useEffect)((function(){return a.current&&(t.current=new ve.a(a.current,{maxWidth:1.5,backgroundColor:"rgba(255, 255, 255, 0)",penColor:"#000000",onBegin:e&&(e.onDraw||void 0)}),c(),window.addEventListener("resize",c)),function(){window.removeEventListener("resize",c)}}),[]),{signRef:a,clearSignature:r,confirmSignature:function(e){if(a.current&&t.current&&!t.current.isEmpty()){var n=function(e){var a=e.getContext("2d"),t=document.createElement("canvas").getContext("2d");if(!a||!t)return"";var n,r,c,l=a.getImageData(0,0,e.width,e.height),o=l.data.length,i={top:0,left:0,right:0,bottom:0};for(n=0;n<o;n+=4)0!==l.data[n+3]&&(r=n/4%e.width,c=~~(n/4/e.width),0===i.top&&(i.top=c),(0===i.left||r<i.left)&&(i.left=r),(0===i.right||i.right<r)&&(i.right=r),(0===i.bottom||i.bottom<c)&&(i.bottom=c));var s=i.bottom-i.top,u=i.right-i.left,m=a.getImageData(i.left,i.top,u,s);return t.canvas.width=u,t.canvas.height=s,t.putImageData(m,0,0),t.canvas.toDataURL()}(a.current),r=pe(n);e&&e(n,r)}}}},ye=function(){var e=Object(o.d)(),a=me(),t=Object(x.a)(a,2),c=t[0],l=t[1],i=Object(n.useState)(""),s=Object(x.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(""),_=Object(x.a)(d,2),v=_[0],p=_[1],f=function(e){l(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(it,{text:"Annual",size:"small",onClick:function(e){l(!0)}}),r.a.createElement(C.a,{className:"rs-modal ".concat(le.a.annual__modal),isOpen:c,contentLabel:"Sign Modal",onRequestClose:f},r.a.createElement("div",{className:"rs-modal__header"},r.a.createElement("span",{className:"rs-modal__title"},"Why Annul?"),r.a.createElement("button",{className:"rs-modal__close",onClick:f},r.a.createElement("span",null,"\xd7"))),r.a.createElement("div",{className:"rs-modal__body"},r.a.createElement("textarea",{className:le.a.message,value:u,onChange:function(e){m(e.target.value)},rows:5}),v&&r.a.createElement("p",{className:le.a.annual__error},v)),r.a.createElement("div",{className:"rs-modal__footer rs-modal__controls"},r.a.createElement(it,{text:"Cancel",onClick:f}),r.a.createElement(it,{text:"Annual",onClick:function(a){u.length<20?p("Needed more than 20 symbols"):(p(""),e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;return function(){var n=Object(R.a)(S.a.mark((function n(r,c){var l,i,s;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=c().reservations,i=l.reservation,!l.loading&&i){n.next=3;break}return n.abrupt("return");case 3:return r(Y(!0)),n.prev=4,n.next=7,B.putReservationReject(i.id,{message:e});case 7:(s=n.sent).data.status&&(Object(o.b)((function(){r(X({status:s.data.data.status,annul:s.data.data.message})),r(Y(!1))})),G.a.rebuild(),a&&a()),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(4),console.error("Reject reservation server error"),r(Y(!1)),t&&t(n.t0.response.data);case 16:case"end":return n.stop()}}),n,null,[[4,11]])})));return function(e,a){return n.apply(this,arguments)}}()}(u)),l(!1))}}))))},Ne=function(){var e=E((function(e){return e.reservations.reservation})).annul;return e?r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"card__title ".concat(le.a.annual__title)},"Annul")),r.a.createElement("div",{className:"column column--2 ".concat(le.a["text-column"])},r.a.createElement("p",{className:le.a.annual__text},e))):null},Oe=t(19),je=t.n(Oe),we=function(e){var a=e.links;return r.a.createElement("ul",{className:"".concat(je.a["links-list"]," links-list")},r.a.createElement("li",null,r.a.createElement("a",{href:a.agreement_url,rel:"noopener noreferrer",target:"_blank"},"Agreement")),r.a.createElement("li",null,r.a.createElement("a",{href:a.invoice_url,rel:"noopener noreferrer",target:"_blank"},"Invoice")))},xe=t(167),ke=t.n(xe),Ce=t(89),De=t.n(Ce),Se=function(e){var a=e.image,t=e.info,c=e.name,l=(e.number,e.value),o=e.mask,i=e.error,s=e.loading,u=e.onApply,m=Object(n.useState)(!1),d=Object(x.a)(m,2),_=d[0],v=d[1],p=Object(n.useState)(""),f=Object(x.a)(p,2),b=f[0],g=f[1],h=Object(n.useRef)(null),E=function(e){g(e.currentTarget.value)};return r.a.createElement("div",{className:je.a.discount},r.a.createElement(mt,{labelClassName:je.a.discount__label,check:_,name:"payment_".concat(l),onCheck:function(e){v((function(e){return!e}))},labelContent:r.a.createElement(r.a.Fragment,null,a&&r.a.createElement("img",{className:je.a.discount__icon,src:a,alt:""}),c)}),_&&r.a.createElement("div",{className:je.a.discount__details},t&&r.a.createElement("span",{className:je.a["discount__input-info"]},t),r.a.createElement("div",{className:je.a.discount__form},o?r.a.createElement(De.a,{ref:h,className:je.a.discount__input,type:"text",mask:o,value:b,onChange:E}):r.a.createElement("input",{ref:h,className:je.a.discount__input,type:"text",value:b,onChange:E}),r.a.createElement(it,{className:je.a.discount__btn,text:"Apply",size:"small",onClick:function(e){b?u(b):h.current&&(h.current.inputElement?h.current.inputElement.focus():h.current.focus())},loading:s})),i&&r.a.createElement("span",{className:je.a["discount__input-error"]},i)))},Re=t(22),Te=t.n(Re),Ie=function(e){var a=e.value,t=e.icon,n=e.onRemove,c=e.loading,l=void 0!==c&&c;return r.a.createElement("div",{className:"".concat(je.a.discount," ").concat(je.a.discount__form)},r.a.createElement("div",{className:je.a.discount__label},t&&r.a.createElement("img",{className:je.a.discount__icon,src:t,alt:""}),a),r.a.createElement("button",{className:Te()(je.a.discount__remove,Object(ie.a)({},je.a["is-loading"],l)),type:"button",onClick:function(e){n()}},r.a.createElement("i",{className:"fico fico-delete"})))},Le=ke()({prefix:"",suffix:"",includeThousandsSeparator:!1,allowDecimal:!0,decimalSymbol:".",decimalLimit:2,allowNegative:!1,allowLeadingZeroes:!1}),Ae=function(){var e=E((function(e){return e.reservations})),a=e.reservation,t=e.loading,c=a,l=c.payment_methods,i=c.discounts,s=c.status,u=c.payment_method,m=s.toLowerCase(),d="reject"===m||"cancel"===m||"done"===m,v=Object(n.useState)(null),p=Object(x.a)(v,2),f=p[0],b=p[1],g=Object(n.useState)(""),h=Object(x.a)(g,2),y=h[0],N=h[1],O=Object(n.useState)(""),j=Object(x.a)(O,2),w=j[0],k=j[1],C=Object(n.useState)(!1),D=Object(x.a)(C,2),T=D[0],I=D[1],L=Object(o.d)(),A=l.reduce((function(e,a){var t=Object(x.a)(e,3),n=t[0],r=t[1],c=t[2];return"Coupon"===a.value?[n,a,c]:"Loyalty system"===a.value?[n,r,a]:[[].concat(Object(_.a)(n),[{value:a.value,label:a.name,icon:a.image}]),r,c]}),[[],{},{}]),F=Object(x.a)(A,3),P=F[0],M=F[1],U=F[2];Object(n.useEffect)((function(){if(u){var e=P.find((function(e){return e.value===u}));e&&b(e)}}),[u]);var B=function(e){if(!T&&a){I(!0);var t=a.date_from,n=a.date_to,r=a.location_from,c=a.location_to;L(J({date_from:t,date_to:n,pickup_location:r.office.id,return_location:c.office.id,payment_method:e},(function(){I(!1)}),(function(){I(!1)})))}},q=function(){var e=Object(R.a)(S.a.mark((function e(a){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(""),L(Q(a,void 0,(function(e){N(e.error)})));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),V=function(){var e=Object(R.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L($());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(R.a)(S.a.mark((function e(a){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(""),L(Z(a,void 0,(function(e){k(e.error)})));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),H=function(){var e=Object(R.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L(ee());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:je.a.payments},r.a.createElement(ft,{className:je.a.payments__method,name:"payments",onChange:function(e){b(e),B(e.value)},options:P,placeholder:"Payment method",value:f,withIcon:!0}),i.coupon.name&&M.value?r.a.createElement(Ie,{value:i.coupon.name,icon:M.image,onRemove:V,loading:t}):!d&&M.value?r.a.createElement(Se,Object.assign({},M,{onApply:q,error:y,loading:t})):null,i.loyalty.used&&U.value?r.a.createElement(Ie,{value:i.loyalty.used,icon:U.image,onRemove:H,loading:t}):!d&&U.value?r.a.createElement(Se,Object.assign({},U,{mask:Le,onApply:G,info:"Available ".concat(i.loyalty.available," point(s)"),error:w,loading:t})):null)},Fe=t(2),Pe=t.n(Fe),Me=t(67),Ue=t.n(Me);C.a.setAppElement("#rentsyst_personal");var Be=function(){var e=E((function(e){return e.reservations})),a=e.reservation,t=e.loading,n=a&&a.signature.url?a.signature.url:"",c=a&&a.status.toLowerCase(),l="reject"===c||"cancel"===c,i=me(),s=Object(x.a)(i,2),u=s[0],m=s[1],d=Object(o.d)(),_=function(){m(!1)};return r.a.createElement("div",{className:je.a.sign__modal},n?r.a.createElement("img",{className:Ue.a.sign__preview,src:n,alt:""}):r.a.createElement("div",{className:je.a.sign__create},r.a.createElement("i",{className:"fico fico-contract"}),r.a.createElement("span",{className:je.a["sign__create-text"]},"Sign an agreement")),t?r.a.createElement(Pe.a,{width:"100%",height:"100%",className:je.a["sign__btn-skelet"]}):!l&&"done"!==c&&r.a.createElement("button",{type:"button",className:je.a.sign__btn,onClick:function(e){m(!0)}}),r.a.createElement(C.a,{className:"rs-modal rs-modal--lg ".concat(je.a.sign__content),isOpen:u,contentLabel:"Sign Modal",onRequestClose:_},r.a.createElement("div",{className:"sign-modal__content"},r.a.createElement("div",{className:"rs-modal__header"},r.a.createElement("span",{className:"rs-modal__title"},"Signature"),r.a.createElement("button",{className:"rs-modal__close",onClick:_},r.a.createElement("span",null,"\xd7"))),r.a.createElement("div",{className:"rs-modal__body"},r.a.createElement(Ja,{preview:n,onConfirm:function(e,a){m(!1),d(function(){var e=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,t=arguments.length>3?arguments[3]:void 0;return function(){var n=Object(R.a)(S.a.mark((function n(r,c){var l,i,s;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=c().reservations,i=l.reservation,!l.loading&&i){n.next=3;break}return n.abrupt("return");case 3:return r(Y(!0)),n.prev=4,n.next=7,B.postSignature(i.id,e);case 7:if(!n.sent.data.status){n.next=13;break}return n.next=11,B.getReservation(i.id);case 11:(s=n.sent).data.status&&(Object(o.b)((function(){r(X(s.data.data)),r(Y(!1))})),G.a.rebuild(),a&&a());case 13:n.next=20;break;case 15:n.prev=15,n.t0=n.catch(4),console.error("Upload signature server error"),r(Y(!1)),t&&t(n.t0.response.data);case 20:case"end":return n.stop()}}),n,null,[[4,15]])})));return function(e,a){return n.apply(this,arguments)}}()}(e,a))}})))))},qe=function(){var e=E((function(e){return e.reservations.reservation})),a=e.agreement_url,t=e.currency,n=e.discounts,c=e.invoice_url,l=e.prices,o=e.payment_link;return r.a.createElement("div",{className:"card ".concat(je.a.bc)},r.a.createElement("div",{className:"column column--title"},r.a.createElement("div",{className:"card__title"},"Billing information"),r.a.createElement(we,{links:{agreement_url:a,invoice_url:c}}),r.a.createElement("div",{className:je.a.sign__place},r.a.createElement(Be,null))),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"label-title ".concat(je.a.payment__label)},"Payment type"),r.a.createElement(Ae,null),o&&r.a.createElement(Bt,{href:"".concat(o,"&from=").concat(window.location.href),text:"Pay",target:"_blank",color:"green",className:je.a["pay-link"]})),r.a.createElement("div",{className:"column column--last ".concat(je.a.prices)},r.a.createElement("div",{className:"column__row jc-sb ai-b"},r.a.createElement("div",{className:"label-title"},"Paid:"),r.a.createElement("div",{className:"price bold"},l.paid,"\xa0",t.symbol)),r.a.createElement("div",{className:"column__row jc-sb ai-b"},r.a.createElement("div",{className:"label-title"},"Deposit:"),r.a.createElement("div",{className:"price bold"},l.paid_deposit,"\xa0",t.symbol)),n.coupon.price&&r.a.createElement("div",{className:"column__row jc-sb ai-b"},r.a.createElement("div",{className:"label-title ".concat(je.a["label-discount"])},"Coupon:"),r.a.createElement("div",{className:"price"},n.coupon.price,"\xa0",t.symbol)),n.loyalty.used&&r.a.createElement("div",{className:"column__row jc-sb ai-b"},r.a.createElement("div",{className:"label-title ".concat(je.a["label-discount"])},"Loyalty:"),r.a.createElement("div",{className:"price"},n.loyalty.used,"\xa0point(s)")),r.a.createElement("div",{className:"column__row jc-sb ai-b ".concat(je.a["total-row"])},r.a.createElement("div",{className:"label-title"},"Due\xa0balance:"),r.a.createElement("div",{className:"price bold"},l.balance,"\xa0",t.symbol))))},Ve=t(48),Ge=t.n(Ve),He=t(78),ze=t(96),Ye=t(121),We=t(122),Xe=(t(232),t(53)),Je=t.n(Xe),Ke=Object(n.forwardRef)((function(e,a){var t=e.value,n=e.onClick,c=t?t.split(" || "):["--- | -- | ----","--:--"],l=Object(x.a)(c,2),o=l[0],i=l[1];return r.a.createElement("div",{className:Je.a["control-wrap"],ref:a,onClick:n},r.a.createElement("i",{className:"fico fico-calendar"}),r.a.createElement("div",{className:Je.a["date-val"]},r.a.createElement("div",{className:Je.a.date},o),r.a.createElement("div",{className:"".concat(Je.a.time," date-val-time")},i)))}));Object(Ve.registerLocale)("en-GB",ze.a);var Qe=function(e){var a=e.initialDates,t=e.availableTimes,c=e.disabledDates,l=e.onChange,o=Object(n.useState)(t),i=Object(x.a)(o,2),s=i[0],u=i[1],m=function(e){return e?"".concat(e.getFullYear(),"-").concat(he(e.getMonth()+1),"-").concat(he(e.getDate())," ").concat(he(e.getHours()),":").concat(he(e.getMinutes())):""},d=function(e,a,n){if(e){var r=(e.getDay()+6)%7,c=t[a];if(c){var l=c[r][n];return l?function(e,a){var t=a.split(":"),n=Object(x.a)(t,2),r=n[0],c=n[1];return Object(Ye.a)(Object(We.a)(e,+c),+r)}(e,l):Object(Ye.a)(Object(We.a)(e,0),0)}}},_=function(e,a){var t=e,n=d(e,a,"from"),r=d(e,a,"to");return n&&n.getTime()>e.getTime()?t=n:r&&r.getTime()<e.getTime()&&(t=r),{min:n,max:r,selected:t}},v=Object(n.useState)(new Date(be(a[0]))),p=Object(x.a)(v,2),f=p[0],b=p[1],g=Object(n.useState)(new Date(be(a[1]))),h=Object(x.a)(g,2),E=h[0],y=h[1],N=Object(n.useState)((function(){return d(f,0,"from")})),O=Object(x.a)(N,2),j=O[0],w=O[1],k=Object(n.useState)((function(){return d(f,0,"to")})),C=Object(x.a)(k,2),D=C[0],S=C[1],R=Object(n.useState)((function(){return d(E,1,"from")})),T=Object(x.a)(R,2),I=T[0],L=T[1],A=Object(n.useState)((function(){return d(E,1,"to")})),F=Object(x.a)(A,2),P=F[0],M=F[1],U=function(e,a){if(!e||!a)return!1;for(var t=e.getTime(),n=a.getTime(),r=0;r<c.length;r++){var l=new Date(be(c[r].from)).getTime(),o=new Date(be(c[r].to)).getTime();if(t>l&&t<=o)return!0;if(n>l&&n<=o)return!0;if(l>t&&n>=o)return!0}return!1},B=function(e){var a=_(e,0);a.min&&a.max&&a.min.getTime()===a.max.getTime()||((E&&a.selected.getTime()>E.getTime()||U(a.selected,E))&&y(void 0),b(a.selected),w(a.min),S(a.max),l(m(a.selected),m(E)))},q=function(e){var a=_(e,1);a.min&&a.max&&a.min.getTime()===a.max.getTime()||f&&a.selected.getTime()<=f.getTime()||U(f,a.selected)||(y(a.selected),L(a.min),M(a.max),l(m(f),m(a.selected)))},V=function(e){var a=e.getTime();if(!c.length)return!0;for(var t=0;t<c.length;t++){var n=new Date(be(c[t].from)).getTime(),r=new Date(be(c[t].to)).getTime();if(a>=n&&a<=r)return!1}return!0};return Object(n.useEffect)((function(){Object(He.a)(t[0],s[0])||(u((function(e){return[t[0],e[1]]})),function(){if(f){var e=_(f,0);b(void 0),w(e.min),S(e.max)}}()),Object(He.a)(t[1],s[1])||(u((function(e){return[e[0],t[1]]})),function(){if(E){var e=_(E,1);y(void 0),L(e.min),M(e.max)}}())}),[t]),r.a.createElement("div",{className:Je.a.container},r.a.createElement("div",{className:Je.a.item},r.a.createElement("div",{className:"label"},"Pick Up"),r.a.createElement(Ge.a,{onChange:function(e){return B(e)},selected:f,startDate:f,endDate:E,filterDate:V,selectsStart:!0,showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,minTime:j,maxTime:D,customInput:r.a.createElement(Ke,null),dateFormat:"MMM | dd | yyyy || HH:mm",locale:"en-GB"})),r.a.createElement("div",{className:Je.a.item},r.a.createElement("div",{className:"label"},"Return"),r.a.createElement(Ge.a,{onChange:function(e){return q(e)},selected:E,startDate:f,minDate:f,endDate:E,filterDate:V,selectsEnd:!0,showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,minTime:I,maxTime:P,customInput:r.a.createElement(Ke,null),dateFormat:"MMM | dd | yyyy || HH:mm",locale:"en-GB"})))},Ze=t(36),$e=t.n(Ze),ea=function(e){var a=e.date,t=e.location,n=e.onLocationClick,c=function(e){if(!e)return null;var a=new Date(be(e)),t=a.getHours(),n=a.getMinutes();return{day:a.getDate(),month:a.toLocaleString("en",{month:"short"}),year:a.getFullYear(),time:"".concat(t<10?"0".concat(t):t,":").concat(n<10?"0".concat(n):n)}}(a);if(!c)return null;return r.a.createElement("div",{className:$e.a.container},r.a.createElement("div",{className:$e.a.date},r.a.createElement("div",{className:$e.a.month},c.month),r.a.createElement("div",{className:$e.a.day},c.day),r.a.createElement("div",{className:$e.a.year},c.year)),r.a.createElement("div",null,r.a.createElement("div",{className:$e.a.location,onClick:function(e){n&&n()}},t),r.a.createElement("div",{className:$e.a.time},c.time)))},aa=t(93),ta=t(29),na=t.n(ta),ra=function(e){var a=e.driver,t=Object(n.useState)(!1),c=Object(x.a)(t,2),l=c[0],i=c[1],s=E((function(e){return e.driver})).loading,u=a.first_name,m=a.last_name,d=a.documents,_=Object(o.d)(),v=d.filter((function(e){return"Driver license"===e.type})).length>0;return r.a.createElement("div",{className:na.a.driver},r.a.createElement("div",{className:na.a.driver__name},u," ",m),!v&&r.a.createElement("div",{className:na.a.driver__docs},r.a.createElement("button",{type:"button",className:"".concat(na.a.driver__doc," ").concat(na.a["driver__license-btn"]),onClick:function(e){i(!1),_(re())}},"Add driver license",s&&r.a.createElement(Pe.a,{className:na.a["btn-skeleton"]})),l&&r.a.createElement("p",{className:na.a["driver__license-error"]},"Please, add driver license in"," ",r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"/account"},"your\xa0account"))),v&&r.a.createElement("div",{className:na.a.driver__docs},d.map((function(e){return r.a.createElement("div",{className:na.a.driver__doc,key:e.num},r.a.createElement("div",{className:na.a["driver__doc-label"]},e.title),r.a.createElement("div",{className:na.a["driver__doc-num"]},e.num))}))))},ca=function(e){var a=e.drivers,t=e.reservation;return r.a.createElement("div",{className:"card ".concat(na.a.dc)},r.a.createElement("div",{className:"column column--title"},r.a.createElement("div",{className:"column__row ai-c"},r.a.createElement("span",{className:"card__title"},"Drivers"))),r.a.createElement("div",{className:"column ".concat(na.a["column--drivers"])},a[0].first_name?a.map((function(e,a){return r.a.createElement(ra,{key:a,driver:e})})):r.a.createElement(wt,null)),r.a.createElement("div",{className:"column column--last"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"label-title"},"Rental period"," ",Object(aa.a)(new Date(be(t.date_to)),new Date(be(t.date_from)),{unit:"day",roundingMethod:"ceil"})),r.a.createElement("div",{className:"price"},t.prices.vehicle,"\xa0",t.currency.symbol)):r.a.createElement(kt,null)))},la=function(){var e=E((function(e){return e.reservations.reservation})),a=function(){var e=E((function(e){return e.driver})),a=e.data,t=e.loading,r=Object(o.d)();return Object(n.useEffect)((function(){r(re())}),[r]),{driver:a,loading:t}}().driver;return r.a.createElement(ca,{drivers:[a],reservation:e})},oa=t(24),ia=t.n(oa),sa=function(e){var a=e.blocked,t=e.checked,n=void 0!==t&&t,c=e.currency,l=e.damage_access,o=(e.damage,e.deposit_price),i=(e.deposit,e.editable),s=void 0!==i&&i,u=e.icon,m=e.id,d=e.price,_=e.title,v=e.value,p=e.onChange;return r.a.createElement("div",{className:ia.a.item},r.a.createElement("div",{className:ia.a.data},s&&r.a.createElement("input",{className:ia.a["hidden-input"],type:"radio",name:"insurance",defaultValue:v,id:String(m),defaultChecked:n,onChange:function(e){p(m)},disabled:a}),r.a.createElement("label",{className:Te()(ia.a.label,Object(ie.a)({},ia.a["label--radio"],s)),htmlFor:s?String(m):void 0},r.a.createElement("i",{className:"fico fico-".concat(u)}),_),r.a.createElement("ul",{className:ia.a["i-desc"]},r.a.createElement("li",null,"Damage access ",l,"\xa0",c),r.a.createElement("li",null,"Security deposit ",o,"\xa0",c))),r.a.createElement("div",{className:"price"},d,"\xa0",c))},ua=function(e){var a=e.blocked,t=e.currency,c=e.editable,l=e.icon,o=e.id,i=e.max_quantity,s=(e.price_day,e.price),u=e.quantity,m=void 0===u?0:u,d=e.title,_=(e.type,e.onChange),v=Object(n.useState)(m>0),p=Object(x.a)(v,2),f=p[0],b=p[1],g=Object(n.useState)(m),h=Object(x.a)(g,2),E=h[0],y=h[1],N=Object(n.useState)(m),O=Object(x.a)(N,2),j=O[0],w=O[1],k=function(e){return e<=0?0:i&&e>i?i:e},C=function(e){b(e>0)};return r.a.createElement("div",{className:ia.a.item},r.a.createElement("div",{className:ia.a.data},c&&r.a.createElement("input",{className:ia.a["hidden-input"],type:"checkbox",name:"extra_".concat(o),value:E,id:"extra_".concat(o),checked:f,onChange:function(e){var a=!f;a?(y(1),_(o,1),w(1)):(y(0),_(o,0),w(0)),b(a)},disabled:a}),r.a.createElement("label",{className:Te()(ia.a.label,Object(ie.a)({},ia.a["label--check"],c)),htmlFor:c?"extra_".concat(o):void 0},"".concat(c?"":"".concat(E," x ")),r.a.createElement("i",{className:"fico fico-".concat(l)}),d),c&&r.a.createElement("div",{className:ia.a.quantity},r.a.createElement("button",{className:"".concat(ia.a.quantity__button," ").concat(ia.a.left),type:"button",onClick:function(e){var a=k(E-1);a!==E&&(y(a),C(a),w(a),_(o,a))},disabled:a}),r.a.createElement("input",{className:ia.a.quantity__input,type:"text",value:j,onChange:function(e){var a=e.target.value.replace(/\D+/gi,""),t=k(+a);w(""===a?a:t),C(t)},onBlur:function(e){j!==E&&(""===j?(_(o,0),y(0),w(0)):(_(o,j),y(j)))},disabled:a}),r.a.createElement("button",{className:"".concat(ia.a.quantity__button," ").concat(ia.a.right),type:"button",onClick:function(e){var a=k(E+1);a!==E&&(y(a),C(a),w(a),_(o,a))},disabled:a}))),r.a.createElement("div",{className:"price"},s,"\xa0",t))},ma=function(){var e=oe(),a=e.open,t=e.toggleCard,n=E((function(e){return e.reservations})),c=n.reservation,l=function(e,a){var t=Object(o.d)(),n=e.extras_data,r=e.currency,c=a?Object(_.a)(n.insurances):n.insurances.filter((function(e){return!0===e.checked})),l=a?Object(_.a)(n.extras):n.extras.filter((function(e){return e.quantity>0}));return{insurances:c,extras:l,currency:r,changeInsurance:function(e){t(K(c.map((function(a){return a.checked=a.id===e,a})),l))},changeExtras:function(e,a){t(K(c,l.map((function(t){return t.id===e&&(t.quantity=a),t}))))}}}(c,a),i=l.insurances,s=l.extras,u=l.currency,m=l.changeInsurance,d=l.changeExtras,v=c.status.toLowerCase(),p="cancel"!==v&&"reject"!==v&&"done"!==v,f=function(e){t()};return r.a.createElement("div",{className:"card ".concat(ia.a.card)},r.a.createElement("div",{className:"column column--title"},r.a.createElement("div",{className:"column__row ai-c"},r.a.createElement("span",{className:"card__title"},"Extras"),p&&!a&&r.a.createElement(it,{text:"Change",size:"small",onClick:f}))),r.a.createElement("div",{className:"column column--2"},r.a.createElement("div",{className:"label-title"},"Insurance"),r.a.createElement("div",null,i.map((function(e){return r.a.createElement(sa,Object.assign({key:e.id,editable:a,blocked:n.loading},e,{currency:u.symbol,onChange:m}))}))),s.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"label-title"},"Extras"),r.a.createElement("div",null,s.map((function(e){return r.a.createElement(ua,Object.assign({key:e.id,editable:a,blocked:n.loading},e,{currency:u.symbol,onChange:d}))}))))),a&&r.a.createElement("button",{type:"button",className:"card__close",onClick:f},r.a.createElement("i",{className:"fico fico-right"})))},da=(t(169),t(34)),_a=t.n(da),va=function(e){var a,t=e.className,n=void 0===t?"":t,c=e.text,l=e.color,o=void 0===l?"":l,i=e.to,s=e.size,u=e.disabled,m=void 0!==u&&u;return r.a.createElement(y.b,{className:Te()(_a.a.button,(a={},Object(ie.a)(a,_a.a.small,"small"===s),Object(ie.a)(a,_a.a[o],!!o),Object(ie.a)(a,_a.a["is-disabled"],m),Object(ie.a)(a,n,!!n),a)),to:i},c)},pa=t(72),fa=t.n(pa),ba={type:{options:[{value:"",label:"All"},{value:"keyless",label:"Keyless"},{value:"standard",label:"Standard"}],placeholder:"Rental type"},reserved_status:{options:[{value:"",label:"All"},{value:"booking",label:"Booking"},{value:"reserved",label:"Reserved"},{value:"rental",label:"Rental"},{value:"done",label:"Done"},{value:"cancel",label:"Cancel"},{value:"reject",label:"Reject"}],placeholder:"Status"},period:{options:[{value:"",label:"All"},{value:"future",label:"Future"},{value:"past",label:"Past"}],placeholder:""}},ga=function(e){var a=e.filters,t=e.total,n=_e().updateLocationSearch,c=function(e,a){n([{name:a,value:e.value}])};return r.a.createElement("div",{className:fa.a.container},r.a.createElement("span",{className:fa.a.total},function(e){switch(e){case 0:case void 0:return"Not found";case 1:return"1 Reservation";default:return"".concat(e," Reservations")}}(t)),r.a.createElement("div",{className:fa.a.filters},Object.keys(ba).map((function(e){var t=ba[e],n=t.options,l=t.placeholder;return r.a.createElement(ft,{key:e,name:e,options:n,value:n.filter((function(t){return t.value===a[e]}))[0]||null,placeholder:l,onChange:c})}))))},ha=t(68),Ea=t.n(ha),ya=function(){return r.a.createElement("div",{className:Ea.a.overlay},r.a.createElement("div",{className:Ea.a.loader},r.a.createElement("div",{className:Ea.a.circle}),r.a.createElement("div",{className:Ea.a.circle}),r.a.createElement("div",{className:Ea.a.circle}),r.a.createElement("div",{className:Ea.a.circle})))},Na=t(46),Oa=t.n(Na),ja=function(e){var a=e.name,t=e.value,n=e.onChange,c=e.options;return r.a.createElement("div",{className:"".concat(Oa.a["control-wrap"]," ").concat(Oa.a["control-wrap--select"])},r.a.createElement("i",{className:"fico fico-place"}),r.a.createElement(ft,{className:Oa.a.select,name:a,options:c,value:t,placeholder:"Choose location",onChange:n}))},wa=function(e){var a=e.name,t=e.value,c=e.onChange,l=e.placeholder,o=void 0===l?"":l,i=Object(n.useRef)(null),s=Object(n.useState)(t||""),u=Object(x.a)(s,2),m=u[0],d=u[1];Object(n.useEffect)((function(){if(null!==i.current){var e=new google.maps.places.Autocomplete(i.current);window.google.maps.event.addListener(e,"place_changed",(function(){var a=e.getPlace();a.geometry&&(d(a.formatted_address||""),c(a.geometry.location.lat(),a.geometry.location.lng(),a.formatted_address||""))}))}}),[]);return r.a.createElement("div",{className:"".concat(Oa.a["control-wrap"]," ").concat(Oa.a["control-wrap--input"])},r.a.createElement("i",{className:"fico fico-place is-active",onClick:function(e){if(e.preventDefault(),window.google){var a=new google.maps.Geocoder;"geolocation"in navigator&&navigator.geolocation.getCurrentPosition((function(e){a.geocode({location:{lat:e.coords.latitude,lng:e.coords.longitude}},(function(e,a){if("OK"===a){var t=e[0];t&&t.geometry?(d(t.formatted_address||""),c(t.geometry.location.lat(),t.geometry.location.lng(),t.formatted_address||"")):console.error("No results found")}else console.error("Geocoder failed due to: "+a)}))}))}}}),r.a.createElement("input",{className:Oa.a.input,ref:i,type:"text",name:a,value:m,placeholder:o,onChange:function(e){d(e.target.value)}}))},xa=function(e){var a=e.vehicleID,t=e.initialLocations,c=e.availableLocations,l=e.sameReturn,o=e.customLocation,i=e.onChange,s=Object(n.useState)(t[0]),m=Object(x.a)(s,2),d=m[0],_=m[1],v=Object(n.useState)(t[1]),p=Object(x.a)(v,2),f=p[0],b=p[1],g=Object(n.useRef)(l),h=Object(n.useRef)(o),E=Object(n.useState)("system"===d.type),y=Object(x.a)(E,2),N=y[0],O=y[1],j=Object(n.useState)(l),w=Object(x.a)(j,2),k=w[0],C=w[1],D=Object(n.useMemo)((function(){return c.map((function(e){return{value:e.id,label:e.title}}))}),[]),T=function(){var e=Object(R.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",B.getVehicleOffice(a,t));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),I=function(e,a,t,n){var r=n&&a?c.filter((function(e){return e.id===a}))[0]:e.office;return t&&void 0!==t.work_time_enabled&&void 0!==t.working_time&&(r=Object(u.a)(Object(u.a)({},r),t)),Object(u.a)(Object(u.a)({},e),{},{office:r,address:n&&r.address?r.address:e.address,lat:n&&r.lat?r.lat:e.lat,lng:n&&r.lng?r.lng:e.lng})},L=function(){var e=Object(R.a)(S.a.mark((function e(a){var t,n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.value){e.next=3;break}return e.abrupt("return");case 3:return n=Object(u.a)({},d),e.prev=4,e.next=7,T({office_id:+t});case 7:r=e.sent,n=I(d,+t,r.data.data,N),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.warn("Office working times are not received"),n=I(d,+t,null,N);case 15:_(n),k?(b(n),i(n,n)):i(n,f);case 17:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(a){return e.apply(this,arguments)}}(),A=function(){var e=Object(R.a)(S.a.mark((function e(a){var t,n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=a.value)&&!k){e.next=3;break}return e.abrupt("return");case 3:return n=Object(u.a)({},f),e.prev=4,e.next=7,T({office_id:+t});case 7:r=e.sent,n=I(f,+t,r.data.data,N),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.warn("Office working times are not received"),n=I(f,+t,null,N);case 15:b(n),i(d,n);case 17:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(a){return e.apply(this,arguments)}}(),F=function(){var e=Object(R.a)(S.a.mark((function e(a,t,n){var r,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(u.a)(Object(u.a)({},d),{},{address:n,lat:a,lng:t}),e.prev=1,e.next=4,T({lat:a,lng:t,address:n});case 4:c=e.sent,r=I(r,null,c.data.data,N),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.warn("Office working times are not received"),r=I(r,null,null,N);case 12:_(r),k?(b(r),i(r,r)):i(r,f);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a,t,n){return e.apply(this,arguments)}}(),P=function(){var e=Object(R.a)(S.a.mark((function e(a,t,n){var r,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=2;break}return e.abrupt("return");case 2:return r=Object(u.a)(Object(u.a)({},f),{},{address:n,lat:a,lng:t}),e.prev=3,e.next=6,T({lat:a,lng:t,address:n});case 6:c=e.sent,r=I(r,null,c.data.data,N),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.warn("Office working times are not received"),r=I(r,null,null,N);case 14:b(r),i(d,r);case 16:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(a,t,n){return e.apply(this,arguments)}}(),M=function(){var e=Object(R.a)(S.a.mark((function e(a){var t,n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O((function(e){return!e})),t=Object(u.a)({},d),n=Object(u.a)({},f),e.prev=3,e.next=6,Promise.all([T(N?{lat:t.lat,lng:t.lng,addres:t.address}:{office_id:String(t.office.id)}),T(N?{lat:n.lat,lng:n.lng,addres:n.address}:{office_id:String(n.office.id)})]);case 6:r=e.sent,t=I(t,t.office.id,r[0].data.data,!N),n=I(n,n.office.id,r[1].data.data,!N),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),console.warn("Office working times are not received"),t=I(t,t.office.id,null,!N),n=I(n,n.office.id,null,!N);case 16:_(t),b(n),i(t,n);case 19:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:Oa.a.container},N?r.a.createElement(ja,{name:"location_from",value:{value:d.office.id,label:d.office.title},onChange:L,options:D}):r.a.createElement(wa,{name:"location_from",value:d.address,onChange:F}),r.a.createElement("div",{className:"column__row"},h.current&&r.a.createElement(mt,{check:!N,labelContent:"Custom location",labelClassName:Oa.a.checkbox__label,name:"custom_location",disabled:!h.current,onCheck:M}),r.a.createElement(mt,{check:k,labelContent:"Same return",labelClassName:Oa.a.checkbox__label,name:"same_return",disabled:g.current,onCheck:function(e){C((function(e){return!e})),i(d,k?f:d)}})),!k&&(N?r.a.createElement(ja,{name:"location_to",value:{value:f.office.id,label:f.office.title},onChange:A,options:D}):r.a.createElement(wa,{name:"location_to",value:f.address,onChange:P})))},ka=function(e){var a=e.center,t=e.marker,c=void 0!==t&&t,l=Object(n.useRef)(null),o=Object(n.useRef)(null),i=Object(n.useRef)(null);return Object(n.useEffect)((function(){null!==l.current&&(o.current=new google.maps.Map(l.current,{zoom:15,center:{lat:0,lng:0}}),c&&(i.current=new google.maps.Marker({position:{lat:0,lng:0}}),i.current.setMap(o.current)))}),[]),Object(n.useEffect)((function(){null!==o.current&&a&&(o.current.setCenter(a),c&&i.current&&i.current.setPosition(a))}),[a,c]),a?r.a.createElement("div",{ref:l,style:{width:"100%",height:"100%"}}):null},Ca=t(79),Da=t.n(Ca),Sa=[{title:"Reservation",link:"/reservations"},{title:"Payments",link:"/payments"},{title:"My account",link:"/account"}],Ra=function(){var e=Object(o.d)();return r.a.createElement("ul",{className:Da.a.list},Sa.map((function(e){var a=e.title,t=e.link;return r.a.createElement("li",{key:a},r.a.createElement(y.c,{to:t,className:Da.a.link,activeClassName:Da.a.active},a))})),r.a.createElement("li",{key:"Exit"},r.a.createElement("button",{type:"button",className:Da.a.link,onClick:function(a){e({type:"LOGOUT"})}},"Exit")))},Ta=t(170),Ia=t.n(Ta),La=t(171),Aa=t.n(La),Fa=function(e){var a=e.count_pages,t=e.per_page,n=e.page,c=_e().updateLocationSearch;return a?r.a.createElement("div",{className:Aa.a.pagination},r.a.createElement(Ia.a,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",pageCount:a,forcePage:--n,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){c([{name:"page",value:++e.selected},{name:"per_page",value:t}])},containerClassName:"pagination",activeClassName:"active"})):null},Pa=t(177),Ma=t(173),Ua=t(172),Ba=t.n(Ua),qa=function(e){var a=e.date,t=e.className,n=!!a,c=!!n&&Object(Ma.a)(new Date(be(a)));return r.a.createElement("div",{className:t},r.a.createElement("div",{className:"label"},c?"Your order has started: ":"Time to start rental: "),r.a.createElement("div",{className:Te()("".concat(Ba.a["time-left"]," time-left"),{"time-left--red":c})},n?Object(Pa.a)(new Date(be(a)),{addSuffix:!0}):"---"))},Va=t(70),Ga=t.n(Va),Ha=function(e){var a=e.icon,t=e.value,n=e.isTransmission,c=null;return void 0!==n&&n&&(c=String(t).match(/^([\s\S]*?)\s*\(([\s\S]*?)\)/i)),r.a.createElement("div",{className:Ga.a.param,"data-tip":c?c[1]:null},r.a.createElement("i",{className:"fico fico-".concat(a)}),c?c[2]:t)},za=t(8),Ya=t.n(za),Wa=function(e){var a=e.reservation,t=e.loading,n=_e().setLocationSearch,c=a.currency,l=a.date_from,o=a.date_to,i=a.id,s=a.insurance,u=a.location_from,m=a.location_to,d=a.mileage_limit,_=a.necessary_actions,v=a.prices,p=a.status,f=a.type,b=a.unique_number,g=a.vehicle,h=f.toLowerCase(),E=p.toLowerCase(),y="reject"===E||"cancel"===E,N=g.brand,O=g.mark,j=g.group,w=g.large_bags,x=g.number_seats,k=g.refill,C=g.transmission;return r.a.createElement("div",{className:Te()(Ya.a.reservation,{"is-rejected":y,"is-keyless":"keyless"===h,"is-standard":"standard"===h})},r.a.createElement("div",{className:Ya.a.reservation__header},r.a.createElement("span",{className:Ya.a.label},"Reservation: ",r.a.createElement("span",{className:Ya.a.number},b)),r.a.createElement("div",{className:Ya.a.status},r.a.createElement("span",{className:Ya.a.label},"Rental type:"," ",r.a.createElement("span",{className:Ya.a["type-val"],onClick:function(e){n([{name:"type",value:h}])}},fe(f))),r.a.createElement("span",{className:Ya.a.label},"Status:"," ",r.a.createElement("span",{className:Ya.a["status-val"],onClick:function(e){n([{name:"reserved_status",value:E}])}},fe(p))))),r.a.createElement("div",{className:Ya.a.reservation__body},r.a.createElement("div",{className:Ya.a.side},r.a.createElement("div",{className:Ya.a.vehicle},r.a.createElement("div",{className:Ya.a.vehicle__info},r.a.createElement("div",{className:Ya.a.vehicle__img},r.a.createElement("img",{src:g.thumbnail,alt:""})),r.a.createElement("div",{className:Ya.a.vehicle__group},j),r.a.createElement("div",{className:Ya.a.vehicle__title},N," ",O),r.a.createElement("div",{className:Ya.a.vehicle__similar},"or similar")),r.a.createElement("div",{className:Ya.a.vehicle__info},(x||w)&&r.a.createElement("div",{className:Ga.a.vp__group},x&&r.a.createElement(Ha,{icon:"driver",value:x}),w&&r.a.createElement(Ha,{icon:"profile",value:w})),C.name&&r.a.createElement(Ha,{icon:"transmission",value:C.name,isTransmission:!0}),d&&r.a.createElement(Ha,{icon:"gauge",value:d}),k&&r.a.createElement(Ha,{icon:"gas-station2",value:k})))),r.a.createElement("div",{className:Ya.a.side},r.a.createElement("div",{className:Ya.a.details},r.a.createElement("div",{className:"".concat(Ya.a.details__column," ").concat(Ya.a["details__column--mob"])},r.a.createElement("div",{className:Ya.a["mob-flex"]},r.a.createElement("div",{className:Ya.a.label},"Pick Up"),r.a.createElement(ea,{date:l,location:"custom"===u.type?u.address:u.office.title})),r.a.createElement("div",{className:Ya.a["mob-flex"]},r.a.createElement("div",{className:Ya.a.label},"Return"),r.a.createElement(ea,{date:o,location:"custom"===m.type?m.address:m.office.title}))),r.a.createElement("div",{className:Ya.a.details__column},r.a.createElement("div",{className:Ya.a.label},"Rental period"," ",Object(aa.a)(new Date(be(o)),new Date(be(l)),{unit:"day",roundingMethod:"ceil"})),r.a.createElement("div",{className:Ya.a.insurance},r.a.createElement("div",{className:Ya.a.label},"Insurnce"),s.name," with Damage access:"," ",r.a.createElement("span",{className:Ya.a.price},s.damage_excess,"\xa0",c.symbol)),r.a.createElement("div",{className:Ya.a.details__group},r.a.createElement("div",{className:Ya.a["details__group-item"]},r.a.createElement("div",{className:Ya.a.label},"Due balance:"),r.a.createElement("div",{className:"".concat(Ya.a.price," ").concat(Ya.a.bold)},v.balance,"\xa0",c.symbol)))))),t&&r.a.createElement(Pe.a,{width:"100%",height:"100%",className:Ya.a.reservation__loading})),r.a.createElement("div",{className:Ya.a.reservation__footer},!y&&"done"!==E&&r.a.createElement("div",{className:Ya.a["reservation__bottom-info"]},r.a.createElement(qa,{date:l,className:Ya.a["rental-time"]}),r.a.createElement(at,{className:Ya.a.reservation__todo,actions:_})),r.a.createElement("div",{className:Ya.a.reservation__btns},r.a.createElement(va,{text:"Detail",to:"/reservations/".concat(i),disabled:t}),!y&&"done"!==E&&"keyless"===h&&r.a.createElement(it,{text:"Start rental",color:"green",disabled:t,onClick:function(){}}))),r.a.createElement(G.a,null))},Xa=function(e){var a=e.loading,t=void 0!==a&&a,n=e.reservations;return r.a.createElement("div",{className:fa.a.list},t&&0===n.length?r.a.createElement(Ct,null):n.map((function(e){return r.a.createElement(Wa,{key:e.id,reservation:e,loading:t})})))},Ja=function(e){var a=e.preview,t=void 0===a?"":a,c=e.onConfirm,l=Object(n.useState)(!!t),o=Object(x.a)(l,2),i=o[0],s=o[1],u=function(){s(!1)},m=Ee({onDraw:u}),d=m.signRef,_=m.clearSignature,v=m.confirmSignature;return r.a.createElement("div",{className:Ue.a.sign},r.a.createElement("div",{className:Ue.a.sign__field},i&&r.a.createElement("img",{className:Ue.a.sign__preview,src:t,alt:""}),r.a.createElement("canvas",{ref:d})),r.a.createElement("div",{className:"".concat(Ue.a.sign__controls," rs-modal__controls")},r.a.createElement(it,{text:"Clear",onClick:function(e){_(),u()}}),r.a.createElement(it,{text:"Confirm",onClick:function(e){v((function(e,a){c&&c(e,a)}))}})))},Ka=t(54),Qa=t.n(Ka),Za=function(){var e=E((function(e){return e.reservations.reservation})),a=e.extras_data,t=e.prices,n=e.currency,c=a.taxes,l=c.vehicle,o=c.taxesTotal;return r.a.createElement("div",{className:"card ai-end"},r.a.createElement("div",{className:"column column--last ".concat(Qa.a.column)},r.a.createElement("div",{className:"column__row jc-sb ai-c ".concat(Qa.a.row)},r.a.createElement("span",null,l.name),r.a.createElement("div",{className:"price"},o,"\xa0",n.symbol)),r.a.createElement("div",{className:"column__row jc-sb ai-c ".concat(Qa.a.row)},r.a.createElement("span",{className:"label-title ".concat(Qa.a["label-title"])},"Subtotal:"),r.a.createElement("div",{className:"price bold"},t.total,"\xa0",n.symbol))))},$a=t(80),et=t.n($a),at=function(e){var a=e.actions,t=e.className,n=Object.keys(a);return r.a.createElement("div",{className:"".concat(et.a.container).concat(t?" ".concat(t):"")},r.a.createElement("div",{className:"".concat(et.a.label," todo__label")},function(e){switch(e){case 0:case void 0:return"";case 1:return"Necessary 1 action:";default:return"Necessary ".concat(e," actions:")}}(n.length)),r.a.createElement("div",{className:"".concat(et.a.actions," todo__actions")},n.map((function(e,t){return r.a.createElement("span",{key:e,className:et.a.action},a[e])}))))},tt=t(17),nt=t.n(tt),rt=function(e){var a=e.vehicle,t=e.mileage_limit,n=a.large_bags,c=a.number_seats,l=a.refill,o=a.transmission,i=a.group,s=a.brand,u=a.mark,m=a.thumbnail;return r.a.createElement("div",{className:"column ".concat(nt.a.vehicle)},r.a.createElement("div",{className:nt.a.vehicle__info},r.a.createElement("div",{className:nt.a.vehicle__img},r.a.createElement("img",{src:m,alt:"".concat(s," ").concat(u)})),r.a.createElement("div",{className:nt.a.vehicle__group},i),r.a.createElement("span",{className:nt.a.vehicle__title},"".concat(s," ").concat(u," "),r.a.createElement("span",{className:nt.a.vehicle__similar},"or similar"))),r.a.createElement("div",{className:nt.a.vehicle__info},(o.name||n||c)&&r.a.createElement("div",{className:Ga.a.vp__group},o.name&&r.a.createElement(Ha,{icon:"transmission",value:o.name,isTransmission:!0}),c&&r.a.createElement(Ha,{icon:"driver",value:c}),n&&r.a.createElement(Ha,{icon:"profile",value:n})),t&&r.a.createElement(Ha,{icon:"gauge",value:t}),l&&r.a.createElement(Ha,{icon:"gas-station2",value:l})))},ct=function(e){var a=e.reservation,t=e.onSave,c=Object(o.d)(),l=Object(n.useState)(!1),i=Object(x.a)(l,2),s=i[0],u=i[1],m=a.location_from,d=a.location_to,_=a.date_from,v=a.date_to,p=a.vehicle,f=Object(n.useState)([m,d]),b=Object(x.a)(f,2),g=b[0],h=b[1],E=Object(n.useState)([_,v]),y=Object(x.a)(E,2),N=y[0],O=y[1],j=Object(n.useState)([]),w=Object(x.a)(j,2),k=w[0],C=w[1];Object(n.useEffect)((function(){Object(R.a)(S.a.mark((function e(){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.getVehicleBusyDates(p.id);case 3:(a=e.sent).data.status&&C(a.data.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[p.id]);return r.a.createElement("div",{className:"".concat(nt.a["ld-edit"]," column__body")},r.a.createElement("div",{className:"column__row"},r.a.createElement("div",{className:nt.a["ld-edit__dates"]},r.a.createElement(Qe,{initialDates:N,availableTimes:[g[0].office.work_time_enabled?g[0].office.working_time:null,g[1].office.work_time_enabled?g[1].office.working_time:null],disabledDates:k,onChange:function(e,a){O([e,a])}})),r.a.createElement("div",{className:"column"},r.a.createElement(xa,{vehicleID:p.id,initialLocations:g,availableLocations:p.available_locations,sameReturn:p.same_return,customLocation:!1,onChange:function(e,a){h([e,a])}}))),r.a.createElement("div",{className:"column__row ".concat(nt.a["map-row"])},r.a.createElement("div",{className:"column"},r.a.createElement(qa,{date:N[0]})),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:nt.a["map-place"]},r.a.createElement(ka,{center:{lat:g[0].lat,lng:g[0].lng},marker:!0})))),r.a.createElement("div",{className:"card__actions ".concat(nt.a.actions)},r.a.createElement(it,{text:"Save",size:"small",onClick:function(e){if(!s){u(!0);var a=Object(x.a)(N,2),n=a[0],r=a[1],l=Object(x.a)(g,2),o=l[0],i=l[1];c(J({date_from:n,date_to:r,pickup_location:o.office.id,return_location:i.office.id},(function(){u(!1),t()}),(function(){u(!1)})))}},loading:s})))},lt=function(e){var a=e.reservation,t=e.changeLocation,c=ue(["(max-width: 575px)"],["xs"],"l"),l=a.location_from,o=a.location_to,i=a.date_from,s=a.date_to,u=a.status.toLowerCase(),m="cancel"!==u&&"reject"!==u&&"done"!==u,d=function(e){var a=e.location_from,t=e.location_to,r=Object(n.useState)(!1),c=Object(x.a)(r,2),l=c[0],o=c[1],i=l?t:a,s=i.lat,u=i.lng;return{mapCenter:s&&u?{lat:s,lng:u}:void 0,showPickupLocation:function(){o(!1)},showReturnLocation:function(){o(!0)}}}(a),_=d.mapCenter,v=d.showPickupLocation,p=d.showReturnLocation,f=function(e){t()},b=function(){return r.a.createElement("div",{className:"card__actions ".concat(nt.a.actions)},r.a.createElement(it,{text:"Change",size:"small",onClick:f}),r.a.createElement(ye,null))};return r.a.createElement("div",{className:"column__row jc-fs ai-fs column__body"},r.a.createElement("div",{className:nt.a["dl-cotainer"]},r.a.createElement("div",{className:nt.a["dl-item"]},r.a.createElement("div",{className:"label"},"Pick Up"),r.a.createElement(ea,{date:i,location:"custom"===l.type?l.address:l.office.title,onLocationClick:v})),r.a.createElement("div",{className:nt.a["dl-item"]},r.a.createElement("div",{className:"label"},"Return"),r.a.createElement(ea,{date:s,location:"custom"===o.type?o.address:o.office.title,onLocationClick:p})),m&&"l"===c&&b()),r.a.createElement("div",{className:"column column--last"},m&&r.a.createElement(qa,{date:i}),r.a.createElement("div",{className:Te()(nt.a["map-place"],Object(ie.a)({},nt.a["map-place--mt"],m))},r.a.createElement(ka,{center:_,marker:!0}))),m&&"xs"===c&&b())},ot=function(){var e=E((function(e){return e.reservations.reservation})),a=ue(["(max-width: 767px)"],["s"],"l"),t=oe(),n=t.open,c=t.openCard,l=t.closeCard,o=e.unique_number,i=e.status,s=e.type,u=e.vehicle,m=e.mileage_limit,d=function(){return r.a.createElement("div",{className:"".concat(nt.a["reserve-info"]," mob-full")},r.a.createElement("div",{className:"label"},"Reservation:"),r.a.createElement("div",{className:nt.a["reserve-num"]},o))};return r.a.createElement("div",{className:"card ".concat(nt.a.vc)},"s"===a&&d(),r.a.createElement(rt,{vehicle:u,mileage_limit:m}),r.a.createElement("div",{className:"column column--2"},r.a.createElement("div",{className:"column__row jc-fs ai-fs column__head"},"l"===a&&d(),r.a.createElement("div",{className:nt.a["reserve-info"]},r.a.createElement("div",{className:"label"},"Retal type:"),r.a.createElement("div",{className:nt.a["reserve-type"]},fe(s))),r.a.createElement("div",{className:Te()(nt.a["reserve-info"],Object(ie.a)({},nt.a["reserve-info--status"],"l"===a))},r.a.createElement("div",{className:"label"},"Status:"),r.a.createElement("div",{className:nt.a["reserve-status"]},fe(i)))),n?r.a.createElement(ct,{reservation:e,onSave:l}):r.a.createElement(lt,{reservation:e,changeLocation:c})))},it=function(e){var a,t=e.className,n=void 0===t?"":t,c=e.text,l=e.color,o=void 0===l?"":l,i=e.size,s=e.onClick,u=e.disabled,m=void 0!==u&&u,d=e.type,_=void 0===d?"button":d,v=e.loading,p=void 0!==v&&v;return r.a.createElement("button",{className:Te()(_a.a.button,(a={},Object(ie.a)(a,_a.a.small,"small"===i),Object(ie.a)(a,_a.a[o],!!o),Object(ie.a)(a,n,!!n),a)),type:_,onClick:s,disabled:m},c,p&&r.a.createElement(Pe.a,{className:_a.a.button__loader}))},st=t(99),ut=t.n(st),mt=function(e){var a=e.check,t=e.className,n=e.disabled,c=void 0!==n&&n,l=e.labelClassName,o=e.labelContent,i=e.name,s=e.onCheck;return r.a.createElement("div",{className:"".concat(ut.a.container).concat(t?" ".concat(t):"")},r.a.createElement("input",{className:ut.a.checkbox,type:"checkbox",name:i,id:i,disabled:c,checked:a,onChange:s}),r.a.createElement("label",{htmlFor:i,className:"".concat(ut.a.label).concat(l?" ".concat(l):"")},o))},dt=t(21),_t=t(124),vt=t(123),pt=t.n(vt),ft=function(e){var a=e.className,t=void 0===a?"":a,n=e.id,c=e.isSearchable,l=void 0!==c&&c,o=e.name,i=e.onChange,s=e.options,u=e.placeholder,m=void 0===u?"":u,d=e.value,_=e.withIcon,v=void 0!==_&&_,p=e.onFocus,f=function(e){return r.a.createElement(dt.f.SingleValue,e,r.a.createElement("img",{src:e.data.icon,alt:""}),r.a.createElement("span",null,e.data.label))},b=function(e){return r.a.createElement(dt.f.Option,e,r.a.createElement("img",{src:e.data.icon,alt:""}),r.a.createElement("span",null,e.data.label))},g=function(e){i(e,o)};return r.a.createElement(r.a.Fragment,null,p?r.a.createElement(_t.a,{className:"".concat(pt.a.select," ").concat(t),classNamePrefix:"rs",isSearchable:l,onChange:g,components:v?{SingleValue:f,Option:b}:void 0,options:s,placeholder:m,value:d,inputProps:{id:n},onFocus:p}):r.a.createElement(_t.a,{className:"".concat(pt.a.select," ").concat(t),classNamePrefix:"rs",isSearchable:l,onChange:g,components:v?{SingleValue:f,Option:b}:void 0,options:s,placeholder:m,value:d,inputProps:{id:n}}))},bt=t(55),gt=t.n(bt);C.a.setAppElement("#rentsyst_personal");var ht=function(e){var a=e.question,t=e.text,n=e.onConfirm,c=e.children,l=e.modalOpen,o=e.toggleModal,i=function(){o(!1)};return r.a.createElement("div",{className:gt.a.modal},c,r.a.createElement(C.a,{className:"rs-modal rs-modal--md ".concat(gt.a.modal__content),isOpen:l,contentLabel:"Confirmation Modal",onRequestClose:i,style:{overlay:{backgroundColor:"rgba(0, 0, 0, .5)"}}},r.a.createElement("div",{className:"rs-modal__body"},r.a.createElement("p",{className:gt.a["modal__icon-wrapper"]},r.a.createElement("span",{className:gt.a.modal__icon},"?")),r.a.createElement("p",{className:gt.a.modal__title},a),t&&r.a.createElement("p",null,t),r.a.createElement("div",{className:gt.a.modal__controls},r.a.createElement(it,{text:"No",color:"red",onClick:i,className:gt.a.modal__btn}),r.a.createElement(it,{text:"Yes",color:"green",onClick:n,className:gt.a.modal__btn})))))},Et=t(81),yt=t.n(Et);C.a.setAppElement("#rentsyst_personal");var Nt=function(e){var a=e.imageURL,t=e.modalOpen,n=e.toggleModal,c=e.children,l=function(){n(!1)};return r.a.createElement("div",{className:yt.a.modal},c,r.a.createElement(C.a,{className:"rs-modal rs-modal--lg ".concat(yt.a.modal__content),isOpen:t,contentLabel:"Images Modal",onRequestClose:l,style:{overlay:{backgroundColor:"rgba(30, 30, 30, .9)"}}},r.a.createElement("button",{className:"rs-modal__close ".concat(yt.a.modal__close),onClick:l},r.a.createElement("span",null,"\xd7")),r.a.createElement("img",{className:yt.a.modal__image,src:a,alt:"Pic"})))},Ot=function(){return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"column"}),r.a.createElement("div",{className:"column column--2"},r.a.createElement("div",{className:"column__row jc-fe ai-fs ".concat(nt.a.btns)},r.a.createElement(Pe.a,{width:120,height:37}),r.a.createElement(Pe.a,{width:120,height:37,style:{marginLeft:"15px"}}))))},jt=function(){return r.a.createElement("div",{className:"card ".concat(je.a.bc)},r.a.createElement("div",{className:"column column--title"},r.a.createElement("div",{className:"card__title"},"Billing information"),r.a.createElement(Pe.a,{width:70,height:14,style:{display:"block",marginTop:"15px"}}),r.a.createElement(Pe.a,{width:70,height:14,style:{display:"block",marginTop:"14px",marginBottom:"20px"}}),r.a.createElement("div",{className:je.a.sign__place},r.a.createElement(Pe.a,{width:"100%",height:"100%"}))),r.a.createElement("div",{className:"column"},r.a.createElement(Pe.a,{width:90,height:12,style:{display:"block",marginBottom:"7px"}}),r.a.createElement(Pe.a,{width:183,height:38}),r.a.createElement(Pe.a,{width:110,height:17,style:{display:"block",marginTop:"10px"}})),r.a.createElement("div",{className:"column column--last ".concat(je.a.prices)},r.a.createElement("div",{className:"column__row jc-sb ai-b"},r.a.createElement(Pe.a,{width:30,height:12}),r.a.createElement(Pe.a,{width:100,height:18})),r.a.createElement("div",{className:"column__row jc-sb ai-b ".concat(je.a["total-row"]),style:{justifyContent:"space-between"}},r.a.createElement(Pe.a,{width:100,height:18}),r.a.createElement(Pe.a,{width:100,height:20}))))},wt=function(){return r.a.createElement("div",{className:na.a.driver},r.a.createElement("div",{className:na.a.driver__name}),r.a.createElement(Pe.a,{width:180,height:14}),r.a.createElement("div",{className:na.a.driver__docs},r.a.createElement(Pe.a,{width:85,height:30,count:2,style:{marginRight:"15px",marginTop:"10px"}})))},xt=function(){return r.a.createElement("div",{className:"card ".concat(ia.a.card)},r.a.createElement("div",{className:"column column--title"},r.a.createElement("div",{className:"column__row ai-c"},r.a.createElement("span",{className:"card__title"},"Extras"))),r.a.createElement("div",{className:"column column--2"},r.a.createElement(Pe.a,{width:65,height:12,style:{display:"block",marginBottom:"7px"}}),r.a.createElement("div",null,r.a.createElement("div",{className:ia.a.item},r.a.createElement("div",{className:ia.a.data},r.a.createElement(Pe.a,{width:170,height:18,style:{display:"block"}})),r.a.createElement(Pe.a,{width:70,height:18}))),r.a.createElement(Pe.a,{width:65,height:12,style:{display:"block",marginBottom:"7px",marginTop:"20px"}}),r.a.createElement("div",null,r.a.createElement("div",{className:ia.a.item},r.a.createElement("div",{className:ia.a.data},r.a.createElement(Pe.a,{width:170,height:18,style:{display:"block"}})),r.a.createElement(Pe.a,{width:70,height:18})))))},kt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe.a,{width:125,height:12,className:"label-title",style:{display:"block"}}),r.a.createElement(Pe.a,{width:60,height:18}))},Ct=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dt,null),r.a.createElement(Dt,null))},Dt=function(){return r.a.createElement("div",{className:Ya.a.reservation},r.a.createElement("div",{className:Ya.a.reservation__header},r.a.createElement(Pe.a,{width:160,height:14,style:{marginBottom:5,marginRight:15}}),r.a.createElement(Pe.a,{width:285,height:14,style:{marginBottom:5}})),r.a.createElement("div",{className:Ya.a.reservation__body},r.a.createElement("div",{className:Ya.a.side},r.a.createElement("div",{className:Ya.a.vehicle},r.a.createElement("div",{className:Ya.a.vehicle__info,style:{width:150}},r.a.createElement("div",{className:Ya.a.vehicle__img},r.a.createElement("img",{src:"/img/img-place.svg",alt:"",style:{objectFit:"unset"}})),r.a.createElement(Pe.a,{width:130,height:13,style:{marginTop:10}}),r.a.createElement(Pe.a,{width:150,height:23,style:{marginTop:5}}),r.a.createElement(Pe.a,{width:50,height:11,style:{marginTop:2}})),r.a.createElement("div",{className:Ya.a.vehicle__info,style:{width:110}},r.a.createElement(Pe.a,{width:90,height:12}),r.a.createElement(Pe.a,{width:90,height:12,count:3,style:{marginTop:10,marginRight:20}})))),r.a.createElement("div",{className:Ya.a.side},r.a.createElement("div",{className:Ya.a.details},r.a.createElement("div",{className:"".concat(Ya.a.details__column," ").concat(Ya.a["details__column--mob"])},r.a.createElement("div",{className:Ya.a["mob-flex"]},r.a.createElement(Pe.a,{width:120,height:14,style:{marginBottom:10}}),r.a.createElement("div",{className:$e.a.container},r.a.createElement(Pe.a,{width:33,height:38,style:{marginRight:7}}),r.a.createElement("div",null,r.a.createElement(Pe.a,{width:80,height:12,style:{display:"block"}}),r.a.createElement(Pe.a,{width:80,height:12,style:{display:"block",marginTop:5}})))),r.a.createElement("div",{className:Ya.a["mob-flex"]},r.a.createElement(Pe.a,{width:120,height:14,style:{marginBottom:10}}),r.a.createElement("div",{className:$e.a.container},r.a.createElement(Pe.a,{width:33,height:38,style:{marginRight:7}}),r.a.createElement("div",null,r.a.createElement(Pe.a,{width:80,height:12,style:{display:"block"}}),r.a.createElement(Pe.a,{width:80,height:12,style:{display:"block",marginTop:5}}))))),r.a.createElement("div",{className:Ya.a.details__column},r.a.createElement(Pe.a,{width:180,height:14}),r.a.createElement("div",null,r.a.createElement(Pe.a,{width:50,height:14,style:{marginTop:15,marginBottom:5}})),r.a.createElement(Pe.a,{width:180,height:14}),r.a.createElement("div",{className:Ya.a.details__group},r.a.createElement("div",{className:Ya.a["details__group-item"],style:{width:80}},r.a.createElement(Pe.a,{width:80,height:14,style:{marginBottom:5}}),r.a.createElement(Pe.a,{width:70,height:18}))))))),r.a.createElement("div",{className:Ya.a.reservation__footer},r.a.createElement("div",{className:Ya.a["reservation__bottom-info"]},r.a.createElement(Pe.a,{width:200,height:14,style:{display:"block",marginTop:10,marginRight:15}}),r.a.createElement(Pe.a,{width:270,height:14,style:{display:"block",marginTop:10,marginRight:15}})),r.a.createElement("div",{className:Ya.a.reservation__btns},r.a.createElement(Pe.a,{width:130,height:37}),r.a.createElement(Pe.a,{width:130,height:37}))))},St=function(){return r.a.createElement("div",{className:"card ai-end"},r.a.createElement("div",{className:"column column--last ".concat(Qa.a.column)},r.a.createElement("div",{className:"column__row jc-sb ai-c ".concat(Qa.a.row)},r.a.createElement(Pe.a,{width:35,height:18}),r.a.createElement(Pe.a,{width:60,height:18})),r.a.createElement("div",{className:"column__row jc-sb ai-c ".concat(Qa.a.row)},r.a.createElement(Pe.a,{width:60,height:18}),r.a.createElement(Pe.a,{width:90,height:18}))))},Rt=function(){var e=ue(["(max-width: 575px)","(max-width: 767px)"],["xs","s"],"l"),a=function(){return r.a.createElement("div",{className:"".concat(nt.a["reserve-info"]," mob-full")},r.a.createElement("div",{className:"label",style:{verticalAlign:"bottom",marginRight:"10px"}},r.a.createElement(Pe.a,{width:70,height:13})),r.a.createElement(Pe.a,{width:80,height:24}))},t=function(){return r.a.createElement("div",{className:"card__actions ".concat(nt.a.actions)},r.a.createElement(Pe.a,{width:72,height:20}),r.a.createElement(Pe.a,{width:72,height:20}))};return r.a.createElement("div",{className:"card ".concat(nt.a.vc)},"l"!==e&&a(),r.a.createElement("div",{className:"column ".concat(nt.a.vehicle)},r.a.createElement("div",{className:nt.a.vehicle__info},r.a.createElement("div",{className:nt.a.vehicle__img},r.a.createElement("img",{src:"/img/img-place.svg",alt:"",style:{objectFit:"unset"}})),r.a.createElement("div",{className:nt.a.vehicle__group},r.a.createElement(Pe.a,{width:180,height:14})),r.a.createElement("span",{className:nt.a.vehicle__title},r.a.createElement(Pe.a,{width:180,height:46}))),r.a.createElement("div",{className:nt.a.vehicle__info},r.a.createElement(Pe.a,{width:180,height:12,style:{display:"block",marginTop:5}}),r.a.createElement(Pe.a,{width:100,height:12,count:2,style:{display:"block",marginTop:10}}))),r.a.createElement("div",{className:"column column--2"},r.a.createElement("div",{className:"column__row jc-fs ai-fs column__head"},"l"===e&&a(),r.a.createElement("div",{className:nt.a["reserve-info"]},r.a.createElement("div",{className:"label"},r.a.createElement(Pe.a,{width:70,height:13})),r.a.createElement(Pe.a,{width:100,height:24})),r.a.createElement("div",{className:Te()(nt.a["reserve-info"],Object(ie.a)({},nt.a["reserve-info--status"],"l"===e))},r.a.createElement("div",{className:"label"},r.a.createElement(Pe.a,{width:70,height:13})),r.a.createElement(Pe.a,{width:100,height:24}))),r.a.createElement("div",{className:"column__row jc-fs ai-fs column__body"},r.a.createElement("div",{className:nt.a["dl-cotainer"]},r.a.createElement("div",{className:nt.a["dl-item"]},r.a.createElement(Pe.a,{width:120,height:13,style:{marginBottom:10}}),r.a.createElement("div",{className:$e.a.container},r.a.createElement(Pe.a,{width:33,height:38,style:{marginRight:7}}),r.a.createElement("div",null,r.a.createElement(Pe.a,{width:80,height:11,style:{display:"block"}}),r.a.createElement(Pe.a,{width:80,height:12,style:{display:"block",marginTop:5}})))),r.a.createElement("div",{className:nt.a["dl-item"]},r.a.createElement(Pe.a,{width:120,height:13,style:{marginBottom:10}}),r.a.createElement("div",{className:$e.a.container},r.a.createElement(Pe.a,{width:33,height:38,style:{marginRight:7}}),r.a.createElement("div",null,r.a.createElement(Pe.a,{width:80,height:11,style:{display:"block"}}),r.a.createElement(Pe.a,{width:80,height:12,style:{display:"block",marginTop:5}})))),"xs"!==e&&t()),r.a.createElement("div",{className:"column column--last"},r.a.createElement(Pe.a,{width:180,height:13,style:{marginBottom:10}}),r.a.createElement(Pe.a,{width:180,height:18}),r.a.createElement(Pe.a,{width:220,height:124,style:{marginTop:15}})),"xs"===e&&t())))},Tt=t(44),It=t.n(Tt),Lt=function(){var e=se({email:""}),a=e.hasError,t=e.loading,n=e.onSubmitForm,c=e.onValueChange,l=e.values;return r.a.createElement("form",{className:It.a.form,onSubmit:n},r.a.createElement("div",{className:Te()(It.a.input__wrap,Object(ie.a)({},It.a.error,a))},r.a.createElement("input",{className:It.a.input,type:"email",name:"email",value:l.email,onChange:c,placeholder:"email"})),r.a.createElement("div",{className:It.a.form__buttons},r.a.createElement(it,{type:"submit",text:"Sign in",color:"green",loading:t})))},At=function(){var e,a=E((function(e){return e.auth}),o.c),t=a.mailIsSended,n=a.message;return r.a.createElement("div",{className:It.a.wrapper},n&&r.a.createElement("p",{className:Te()(It.a.info,(e={},Object(ie.a)(e,It.a["is-success"],t),Object(ie.a)(e,It.a["is-error"],!t),e))},n),r.a.createElement("div",{className:It.a.inner},r.a.createElement("h1",{className:It.a.title},"Sign in"),r.a.createElement(Lt,null)))},Ft=t(82),Pt=t.n(Ft),Mt=function(e){var a=e.error,t=e.value,n=e.label,c=e.id,l=e.name,o=e.renderInput,i=e.mask,s=e.type,m=void 0===s?"text":s,d=e.required,_=void 0!==d&&d,v=e.placeholder,p=void 0===v?"":v,f=e.containerProps,b=void 0===f?{}:f,g=e.inputProps,h=void 0===g?{}:g,E=e.onChange,y=void 0===E?function(){}:E,N=e.onFocus,O=void 0===N?function(){}:N,j=e.onBlur,w=void 0===j?function(){}:j,x=(new Date).getTime(),k=Object(u.a)({className:Te()(Pt.a.input,Object(ie.a)({},Pt.a.input__error,!!a)),type:m,id:c+x,name:l,required:_,value:t,placeholder:p,onChange:y,onFocus:O,onBlur:w},h);return r.a.createElement("div",b,r.a.createElement("label",{className:Pt.a.label,htmlFor:c+x},n),o?o(c+x,l):i?r.a.createElement(De.a,Object.assign({},k,{mask:i})):r.a.createElement("input",k),a&&r.a.createElement("span",{className:Pt.a.error},a))},Ut=t(179),Bt=function(e){var a,t=e.className,n=void 0===t?"":t,c=e.color,l=void 0===c?"":c,o=e.size,i=e.disabled,s=void 0!==i&&i,u=e.href,m=e.text,d=Object(Ut.a)(e,["className","color","size","disabled","href","text"]);return r.a.createElement("a",Object.assign({href:u,className:Te()(_a.a.button,(a={},Object(ie.a)(a,_a.a.small,"small"===o),Object(ie.a)(a,_a.a[l],!!l),Object(ie.a)(a,_a.a["is-disabled"],s),Object(ie.a)(a,n,!!n),a))},d),m)},qt=function(){var e=Object(N.h)().search,a=E((function(e){return e.reservations})),t=a.filters,c=a.data,l=a.loading,i=Object(o.d)(),s=c.reservations,u=c.pagination;return Object(n.useEffect)((function(){var a;i((a=e,function(){var e=Object(R.a)(S.a.mark((function e(t){var n,r,c,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(o.b)((function(){t(Y(!0)),t({type:"UPDATE_FILTERS",payload:z.a.parse(a)})})),e.prev=1,e.next=4,B.getReservations(a);case 4:(n=e.sent).data.status&&(r=n.data.data,c=r.items,l=r.pagination,Object(o.b)((function(){t({type:"SET_RESERVATIONS",payload:{reservations:c,pagination:l}}),t(Y(!1))})),G.a.rebuild()),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Get reservations list server error"),t(Y(!1));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}())),window.scroll(0,0)}),[e,i]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"page-content"},r.a.createElement(ga,{total:u.total_count,filters:t}),r.a.createElement(Xa,{loading:l,reservations:s}),r.a.createElement(Fa,u)))},Vt=t(94),Gt=t.n(Vt),Ht=function(){var e=Object(N.i)().id,a=de(e).reservation;Object(n.useEffect)((function(){window.scroll(0,0)}),[]);var t=a&&a.id===+e,c=a&&a.type.toLowerCase(),l=a&&a.status.toLowerCase(),o="reject"===l||"cancel"===l;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"page-content"},r.a.createElement("div",{className:Te()(Gt.a.reservation,{"is-rejected":o,"is-keyless":"keyless"===c,"is-standard":"standard"===c})},t?r.a.createElement(ot,null):r.a.createElement(Rt,null),r.a.createElement(la,null),t&&a.extras_data?r.a.createElement(r.a.Fragment,null,r.a.createElement(ma,null),r.a.createElement(Za,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(xt,null),r.a.createElement(St,null)),t&&a.payment_methods?r.a.createElement(qe,null):r.a.createElement(jt,null),t?r.a.createElement(r.a.Fragment,null,o&&r.a.createElement(Ne,null),r.a.createElement(w,null)):r.a.createElement(Ot,null),r.a.createElement(G.a,null))))},zt=t(174),Yt=t.n(zt),Wt=t(15),Xt=t.n(Wt),Jt=function(){var e=E((function(e){return e.driver.data}),o.c).avatar,a=me(),t=Object(x.a)(a,2),n=t[0],c=t[1];return r.a.createElement(r.a.Fragment,null,null!==e&&r.a.createElement(Nt,{modalOpen:n,toggleModal:c,imageURL:e.imageURL},r.a.createElement("img",{src:e.imageURL,className:Xt.a.avatar__preview,onClick:function(e){c(!0)},alt:"Avatar"})))},Kt=t(175);t(324);C.a.setAppElement("#rentsyst_personal");var Qt=function(e){var a=e.setIsUpdatedAvatar,t=e.isUpdatedAvatar,c=e.onAvatarChange,l=Object(n.useState)({id:"",imageURL:""}),i=Object(x.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(),d=Object(x.a)(m,2),_=d[0],v=d[1],p=me(),f=Object(x.a)(p,2),b=f[0],g=f[1],h=Object(o.d)(),E=Object(n.useRef)(null),y=function(e){E.current&&(E.current.inputElement?(E.current.inputElement.value="",E.current.value=""):E.current.value=""),g(!1),_.destroy(),v(null)};return r.a.createElement("div",{className:Xt.a.modal},r.a.createElement("label",{htmlFor:"avatar_input",className:"".concat(Xt.a.avatar__btn," ").concat(Xt.a["avatar__btn-edit"]," ai-c jc-c")},r.a.createElement("i",{className:"fico fico-edit"}),r.a.createElement("input",{id:"avatar_input",className:Xt.a.avatar__file,type:"file",accept:"image/*",name:"avatar",onChange:function(e){e.preventDefault();var a=e.target.files;if(a){var t=a[0];if(t.type.startsWith("image/")&&t.size<5e6){var n=new FileReader;n.readAsDataURL(t),n.onload=function(){u({id:"",imageURL:n.result}),g(!0)}}}},ref:E,multiple:!1})),t&&s.id.length>0&&r.a.createElement("input",{type:"hidden",name:"avatarId",value:s.id}),r.a.createElement(C.a,{className:"rs-modal rs-modal--md ".concat(Xt.a.modal__content),isOpen:b,contentLabel:"Crop Modal",style:{overlay:{backgroundColor:"rgba(0, 0, 0, .5)"}}},r.a.createElement("div",{className:"rs-modal__header"},r.a.createElement("span",{className:"rs-modal__title"},"Edit image"),r.a.createElement("button",{className:"rs-modal__close",onClick:y},r.a.createElement("span",null,"\xd7"))),r.a.createElement("div",{className:"rs-modal__body"},s.imageURL.length>0&&r.a.createElement(Kt.a,{style:{maxWidth:"100%"},initialAspectRatio:1,preview:".img-preview",src:s.imageURL,viewMode:1,guides:!0,minCropBoxHeight:10,minCropBoxWidth:10,background:!1,responsive:!0,autoCropArea:1,checkOrientation:!1,onInitialized:function(e){v(e)}})),r.a.createElement("div",{className:"rs-modal__footer rs-modal__controls"},r.a.createElement(it,{text:"Save changes",color:"blue",onClick:function(e){if("undefined"!==typeof _){var t=_.getCroppedCanvas({fillColor:"#fff"}).toDataURL("image/jpeg");h((n=pe(t),r=function(e){e&&(u(e),c(e)),a(!0)},function(){var e=Object(R.a)(S.a.mark((function e(a,t){var c,i,s,u;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t().driver,i=c.data,!c.loading&&i){e.next=3;break}return e.abrupt("return");case 3:return a(ae(!0)),e.prev=4,e.next=7,B.postAvatar(n);case 7:(s=e.sent).data.status&&(u=s.data.data,Object(o.b)((function(){a(ne(u)),a(ae(!1))})),r(u)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),a(ae(!1)),l&&l(e.t0.response.data);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(a,t){return e.apply(this,arguments)}}())),E.current&&(E.current.inputElement?(E.current.inputElement.value="",E.current.value=""):E.current.value=""),g(!1),_.destroy(),v(null)}var n,r,l}}),r.a.createElement(it,{text:"Close",color:"black",onClick:y}))))},Zt=function(e){var a=e.onAvatarChange,t=Object(n.useState)(!1),c=Object(x.a)(t,2),l=c[0],i=c[1],s=E((function(e){return e.driver.data}),o.c).avatar,u=me(),m=Object(x.a)(u,2),d=m[0],_=m[1],v=Object(o.d)(),p=function(e,t){v(function(e,a,t){return function(){var n=Object(R.a)(S.a.mark((function n(r,c){var l,i;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=c().driver,i=l.data,!l.loading&&i){n.next=3;break}return n.abrupt("return");case 3:return r(ae(!0)),n.prev=4,n.next=7,B.deleteAvatar(e);case 7:n.sent.status&&(Object(o.b)((function(){r(ne(null)),r(ae(!1))})),a()),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(4),r(ae(!1)),t&&t(n.t0.response.data);case 15:case"end":return n.stop()}}),n,null,[[4,11]])})));return function(e,a){return n.apply(this,arguments)}}()}(t,(function(){i(!1),a(null)}))),_(!1)};return r.a.createElement("div",{className:Xt.a.avatar},null!==s&&r.a.createElement(Jt,null),r.a.createElement(Qt,{setIsUpdatedAvatar:i,isUpdatedAvatar:l,onAvatarChange:a}),null!==s&&r.a.createElement(ht,{modalOpen:d,question:"Are you sure?",toggleModal:_,text:"Press yes if you want to remove photo",onConfirm:function(e){return p(0,s.id)}},r.a.createElement("p",{className:"".concat(Xt.a.avatar__btn," ").concat(Xt.a["avatar__btn-remove"]," ai-c jc-c"),onClick:function(e){_(!0)}},r.a.createElement("i",{className:"fico fico-remove"}))))},$t=t(330),en=function(e){return Object($t.a)(e,"yyyy-MM-dd")},an=function(e){var a=e.driverData,t=e.errors,n=e.countries,c=e.onInputFocus,l=e.onFieldChange,o=e.onCountryChange,i=e.onAvatarChange,s=function(e){var n;return{id:e,name:e,value:a[e],onChange:function(a){return l(e,a.target.value)},onFocus:function(){return c(e)},error:null===(n=t[e])||void 0===n?void 0:n.join("\n"),containerProps:{className:Xt.a["account__form-group"]}}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Xt.a["account__personal-data-wrapper"]},r.a.createElement(Zt,{onAvatarChange:i}),r.a.createElement("div",null,r.a.createElement("div",{className:Xt.a["account__form-row"]},r.a.createElement(Mt,Object.assign({label:"Name",required:!0},s("first_name"))),r.a.createElement(Mt,Object.assign({label:"Last name",required:!0},s("last_name"))),r.a.createElement(Mt,{id:"birthday",name:"birthday",label:"Birthday",containerProps:{className:Xt.a["account__form-group"]},renderInput:function(e){return r.a.createElement(Ge.a,{onChange:function(e){if(e){var a=en(e);l("birthday",a)}},selected:ge(a.birthday||""),filterDate:function(e){var a=e;a.setHours(0,0,0,0);var t=A;return t.setHours(0,0,0,0),a<=t},customInput:r.a.createElement(Ke,{value:"",onClick:function(){}}),required:!0,dateFormat:"MMM | dd | yyyy",locale:"en-GB",showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",popperPlacement:"top",id:e,onInputClick:function(){return c(e)}})}})),r.a.createElement("div",{className:Xt.a["account__form-row"]},r.a.createElement(Mt,Object.assign({label:"Email",required:!0,mask:Yt.a},s("email"))),r.a.createElement(Mt,Object.assign({label:"Phone",required:!0,type:"tel"},s("phone")))))),r.a.createElement("div",{className:"".concat(Xt.a["account__form-row"]," ai-c")},r.a.createElement(Mt,{id:"country",name:"country",label:"Country",containerProps:{className:Xt.a["account__form-group"]},renderInput:function(e,t){var l,i;return r.a.createElement(ft,{name:t,onChange:function(e){o(e)},options:n.map((function(e){return{value:e.id,label:e.name}})),placeholder:"Country",value:{value:(null===(l=a.country)||void 0===l?void 0:l.id)||null,label:(null===(i=a.country)||void 0===i?void 0:i.name)||""},id:e,onFocus:function(){return c("country")}})}}),r.a.createElement(Mt,Object.assign({label:"Zip"},s("zip"))),r.a.createElement(Mt,Object.assign({label:"State"},s("state"))),r.a.createElement(Mt,Object.assign({label:"City"},s("city"))),r.a.createElement(Mt,Object.assign({label:"Street"},s("street"))),r.a.createElement(Mt,Object.assign({label:"Building"},s("building"),{containerProps:{className:Te()(Xt.a["account__form-group"],Xt.a["account__form-group-s"])}}))))},tn=[{value:"Driver license",label:"Driver license"},{value:"Passport",label:"Passport"},{value:"Card ID",label:"Card ID"},{value:"Tax Identification Number",label:"Tax Identification Number"}],nn=function(e){var a,t,c,l=e.initialData,i=e.savePressed,s=Object(n.useRef)(null),m=Object(n.useState)(null),d=Object(x.a)(m,2),v=d[0],p=d[1],f=Object(n.useState)(!1),b=Object(x.a)(f,2),g=b[0],y=b[1],N=Object(n.useState)(null),O=Object(x.a)(N,2),j=O[0],w=O[1],k=function(e){var a=e.photosInputRef,t=e.initialData,r=E((function(e){return e.driver}),o.c).data,c=Object(n.useState)(),l=Object(x.a)(c,2),i=l[0],s=l[1],m=Object(n.useState)({}),d=Object(x.a)(m,2),v=d[0],p=d[1],f=Object(n.useState)(t||{expDate:null,issueDate:null,num:"",type:"",notes:""}),b=Object(x.a)(f,2),g=b[0],y=b[1],N=Object(n.useState)(null),O=Object(x.a)(N,2),j=O[0],w=O[1],k=Object(n.useState)(!0),C=Object(x.a)(k,2),D=C[0],T=C[1],I=Object(n.useState)([]),L=Object(x.a)(I,2),A=L[0],F=L[1],P=Object(o.d)();Object(n.useEffect)((function(){var e;t&&(y(t),(null===(e=t.photos)||void 0===e?void 0:e.length)&&F(t.photos))}),[t]),Object(n.useEffect)((function(){t&&!D&&G(t.id,{photos:[]})}),[g.issueDate,g.expDate]),Object(n.useEffect)((function(){i&&y(Object(u.a)(Object(u.a)({},g),{},{type:i.value}))}),[i]);var M=function(e,a){y(Object(u.a)(Object(u.a)({},g),{},Object(ie.a)({},e,a)))},U=function(e){return e.type.startsWith("image/")&&e.size<5e6},q=function(){var e=Object(R.a)(S.a.mark((function e(a){var n,r,c,l,o,i,s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=a.target.files)){e.next=14;break}for(r=[],c=0;c<n.length;c++)l=n[c],U(l)&&function(){var e=new FileReader;e.readAsDataURL(l);var a=new Promise((function(a,t){e.onload=function(){var e=Object(R.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(null===(n=t.target)||void 0===n?void 0:n.result);case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()}));r.push(a)}();return e.next=6,Promise.all(r);case 6:return o=e.sent,i=o.map(function(){var e=Object(R.a)(S.a.mark((function e(a){var t,n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.postDocumentFile(pe(a));case 3:return t=e.sent,n=t.data,r=n.data,e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}()),e.next=10,Promise.all(i);case 10:s=e.sent,F((function(e){return[].concat(Object(_.a)(e),Object(_.a)(s))})),h.b.success("New files attached"),t&&G(t.id,{photos:s.map((function(e){return e.id}))});case 14:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),V=function(){var e=Object(R.a)(S.a.mark((function e(){var a,t,n,c,l,o,i,m;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=A.map((function(e){return e.id})),e.next=4,B.postSendDocument(Object(u.a)(Object(u.a)({},g),{},{photos:a}));case 4:t=e.sent,n=t.data,c=n.data,l=Object(u.a)(Object(u.a)({},r),{},{documents:[].concat(Object(_.a)(r.documents),[c])}),P(te(l)),y({expDate:null,issueDate:null,num:"",type:"",notes:""}),s(null),F([]),h.b.success("New document successfully added"),e.next=20;break;case 13:throw e.prev=13,e.t0=e.catch(0),o=e.t0.response,i=o.data,m=i.data,p(m),new Error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(R.a)(S.a.mark((function e(a,t){var n,r,c,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=A.map((function(e){return e.id})),e.next=4,B.updateDocument(a,Object(u.a)(Object(u.a)({},g),{},{photos:n},t));case 4:h.b.success("Document successfully updated"),e.next=14;break;case 7:throw e.prev=7,e.t0=e.catch(0),r=e.t0.response,c=r.data,l=c.data,p(l),new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a,t){return e.apply(this,arguments)}}(),H=function(){var e=Object(R.a)(S.a.mark((function e(a){var t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.deleteDocument(a);case 3:t=r.documents.filter((function(e){return e.id!==a})),n=Object(u.a)(Object(u.a)({},r),{},{documents:t}),P(te(n)),h.b.success("Document removed"),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}(),z=function(){var e=Object(R.a)(S.a.mark((function e(a,t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=7;break}return e.next=4,B.deleteDocumentPhoto(a.id,t);case 4:n=A.filter((function(e){return e.id!==a.id})),F(n),h.b.success("Document photo removed");case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a,t){return e.apply(this,arguments)}}();return{type:i,data:g,errors:v,uploadImages:A,setType:s,onDateChange:function(e,a){var t=en(a);T(!1),M(e,t)},onInputFocus:function(e){t&&(T(!0),w(g[e])),p((function(a){return Object(u.a)(Object(u.a)({},a),{},Object(ie.a)({},e,null))}))},onFieldBlur:function(e){if(t){var a=g[e];T(!1),a!==j&&G(t.id,{photos:[]})}},onFieldChange:M,onUploadPhotoClick:function(e){var t;null===(t=a.current)||void 0===t||t.click()},onAddDocument:V,onDocumentFileInputChange:q,onDocumentRemove:H,onDocumentPhotoRemove:z}}({photosInputRef:s,initialData:l}),C=k.type,D=k.data,T=k.errors,I=k.uploadImages,L=k.setType,A=k.onDateChange,F=k.onInputFocus,P=k.onFieldBlur,M=k.onFieldChange,U=k.onUploadPhotoClick,q=k.onAddDocument,V=k.onDocumentFileInputChange,G=k.onDocumentRemove,H=k.onDocumentPhotoRemove;Object(n.useEffect)((function(){i&&C&&q()}),[i,C]);var z=function(e){var a;return{id:e,name:e,onChange:function(a){return M(e,a.target.value)},onFocus:function(){return F(e)},onBlur:function(){return P(e)},error:null===(a=T[e])||void 0===a?void 0:a.join("\n"),containerProps:{className:Xt.a["account__form-group"]}}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"".concat(Xt.a.document," ").concat(Xt.a.document__styled)},r.a.createElement("div",{className:"".concat(Xt.a["account__form-row"])},l?r.a.createElement("div",{className:"".concat(Xt.a["account__form-group"]," ").concat(Xt.a["account__form-group-s"])},r.a.createElement("p",{className:Xt.a.document__label},"Type"),r.a.createElement("p",{className:Xt.a.document__text},r.a.createElement("span",null,D.type))):r.a.createElement(Mt,{id:"type",name:"type",label:"Type",containerProps:{className:Xt.a["account__form-group"]},error:null===(a=T.type)||void 0===a?void 0:a.join("\n"),required:!0,renderInput:function(e,a){return r.a.createElement(ft,{name:a,onChange:function(e){L(e)},options:tn,placeholder:"Type",value:C,id:e,onFocus:function(){return F(a)}})}}),(C||l)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Mt,Object.assign({label:"Number",required:!0},z("num"),{value:D.num})),r.a.createElement(Mt,{id:"issueDate",name:"issueDate",label:"Issue date",containerProps:{className:Xt.a["account__form-group"]},error:null===(t=T.issueDate)||void 0===t?void 0:t.join("\n"),renderInput:function(e,a){return r.a.createElement(Ge.a,{onChange:function(e){e&&A("issueDate",e)},customInput:r.a.createElement(Ke,{value:"",onClick:function(){}}),required:!0,selected:ge(D.issueDate||""),dateFormat:"MMM | dd | yyyy",locale:"en-GB",showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",id:e,onInputClick:function(){return F(a)}})}}),r.a.createElement(Mt,{id:"expDate",name:"expDate",label:"Exp date",error:null===(c=T.expDate)||void 0===c?void 0:c.join("\n"),containerProps:{className:Xt.a["account__form-group"]},renderInput:function(e,a){return r.a.createElement(Ge.a,{onChange:function(e){e&&A("expDate",e)},customInput:r.a.createElement(Ke,{value:"",onClick:function(){}}),required:!0,selected:ge(D.expDate||""),dateFormat:"MMM | dd | yyyy",locale:"en-GB",showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",id:e,onInputClick:function(){return F(a)}})}})),("Passport"===(null===C||void 0===C?void 0:C.value)||"Passport"===(null===l||void 0===l?void 0:l.type))&&r.a.createElement(Mt,Object.assign({label:"Notes"},z("notes"),{value:D.notes||"",containerProps:{className:Te()(Xt.a["account__form-group"],Xt.a["account__form-group-m"])}})),I.map((function(e){return r.a.createElement("div",{key:e.id,className:Xt.a.document__thumb},r.a.createElement("p",{className:"".concat(Xt.a["document__photo-remove"]," ai-c jc-c"),onClick:function(){w(e)}},r.a.createElement("i",{className:"fico fico-remove"})),r.a.createElement("img",{className:Xt.a.document__photo,src:e.imageURL,alt:"Document",onClick:function(){p(e)}}))})),(C||l)&&r.a.createElement("p",{className:"".concat(Xt.a.document__upload," ai-c"),onClick:U},r.a.createElement("i",{className:"fico fico-upload"}),r.a.createElement("span",null,"Upload"),r.a.createElement("input",{type:"file",ref:s,onChange:V,accept:"image/*",multiple:!0,name:"photos",className:"".concat(Xt.a["document__form-photo-input"])}))),l&&r.a.createElement(ht,{modalOpen:g,question:"Are you sure?",toggleModal:y,text:"Press yes if you want to remove ".concat(l.type," ").concat(l.num),onConfirm:function(){y(!1),G(l.id)}},r.a.createElement("i",{onClick:function(){y(!0)},className:"fico fico-remove ".concat(Xt.a["document__item-remove"])}))),C&&!l&&r.a.createElement("button",{className:Xt.a.document__btn,onClick:q},"+ Add document"),v&&r.a.createElement(Nt,{modalOpen:!!v,toggleModal:function(){return p(null)},imageURL:v.imageURL}),j&&r.a.createElement(ht,{modalOpen:!!j,question:"Are you sure?",toggleModal:function(){return w(null)},text:"Press yes if you want to remove photo",onConfirm:function(){w(null),H(j,null===l||void 0===l?void 0:l.id)}}))},rn=function(){var e=function(){var e=Object(n.useState)([]),a=Object(x.a)(e,2),t=a[0],r=a[1],c=function(){var e=Object(R.a)(S.a.mark((function e(){var a,t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.getAccountCountries();case 3:a=e.sent,t=a.data,n=t.data,r(n),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){c()}),[]),{countries:t}}().countries,a=function(){var e=E((function(e){return e.driver}),o.c),a=e.data,t=e.loading,r=Object(n.useState)({}),c=Object(x.a)(r,2),l=c[0],i=c[1],s=Object(o.d)(),m=function(){var e=Object(R.a)(S.a.mark((function e(){var a,t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(ae(!0)),e.prev=1,e.next=4,B.getDriverInfo();case 4:a=e.sent,t=a.data,n=t.data,s(te(n)),s(ae(!1)),e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(1),s(ae(!1)),new Error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){m()}),[]);var d=function(e){var a;return Object(He.b)(Object(u.a)(Object(u.a)({},e),{},{country:(null===(a=e.country)||void 0===a?void 0:a.id)||null}),"documents")};return{driverData:a,errors:l,loading:t,onInputFocus:function(e){i((function(a){return Object(u.a)(Object(u.a)({},a),{},Object(ie.a)({},e,null))}))},onFieldChange:function(e,t){var n=Object(u.a)(Object(u.a)({},a),{},Object(ie.a)({},e,t));s(te(n))},onCountryChange:function(e){var t={id:e.value,name:e.label};s(te(Object(u.a)(Object(u.a)({},a),{},{country:t})))},onFormSubmit:function(){var e=Object(R.a)(S.a.mark((function e(t){var n,r,c,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,s(ae(!0)),n=d(a),e.next=6,B.postSendAccountData(n);case 6:h.b.success("Account data successfully updated"),s(ae(!1)),e.next=18;break;case 10:throw e.prev=10,e.t0=e.catch(1),r=e.t0.response,c=r.data,l=c.data,i(l),s(ae(!1)),new Error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}(),onAvatarChange:function(e){s(te(Object(u.a)(Object(u.a)({},a),{},{avatar:e})))}}}(),t=a.driverData,c=a.errors,l=a.loading,i=a.onInputFocus,s=a.onFieldChange,m=a.onCountryChange,d=a.onFormSubmit,_=a.onAvatarChange,v=Object(n.createRef)(),p=Object(n.useState)(!1),f=Object(x.a)(p,2),b=f[0],g=f[1];return r.a.createElement("div",{className:"page-content ".concat(Xt.a.container)},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:Xt.a["account-wrap"]},r.a.createElement("form",{className:Xt.a.account,onSubmit:function(e){return d(e).then((function(){g(!1)})).catch((function(){g(!1)}))},ref:v},r.a.createElement(an,{driverData:t,errors:c,countries:e,onInputFocus:i,onFieldChange:s,onCountryChange:m,onAvatarChange:_})),r.a.createElement("h3",{className:Xt.a.documents__title},"Documents"),t.documents.map((function(e){return r.a.createElement(nn,{initialData:e,key:e.id})})),r.a.createElement(nn,{savePressed:b}),r.a.createElement("div",{className:Xt.a.account__button},r.a.createElement(it,{text:"Save",color:"blue",loading:l,onClick:function(e){var a;e.preventDefault(),null===(a=v.current)||void 0===a||a.dispatchEvent(new Event("submit",{cancelable:!0})),g(!0)}})))))},cn=function(){return r.a.createElement("div",{className:"overlay"},r.a.createElement(At,null))},ln=function(){var e,a=Object(N.h)().search,t=z.a.parse(a).token,c=Object(o.d)(),l=Object(n.useRef)((e=t,Array.isArray(e)?e.find((function(e){return!!e})):e));return Object(n.useEffect)((function(){l.current&&c(function(e){return function(){var a=Object(R.a)(S.a.mark((function a(t,n){return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!n().auth.loading){a.next=3;break}return a.abrupt("return");case 3:return t(q(!0)),a.prev=4,a.next=7,B.postLogin(e);case 7:Object(o.b)((function(){t({type:"LOGIN"}),t(q(!1))})),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(4),t(q(!1)),window.location.href="/login";case 14:case"end":return a.stop()}}),a,null,[[4,10]])})));return function(e,t){return a.apply(this,arguments)}}()}(l.current))}),[c]),l.current?r.a.createElement(ya,null):r.a.createElement(N.a,{to:"/login"})},on=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h3",{className:Gt.a.coming},"Page in development. Coming soon"))},sn=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement(Ra,null)),r.a.createElement(N.d,null,r.a.createElement(N.b,{exact:!0,path:"/account",component:rn}),r.a.createElement(N.b,{exact:!0,path:"/reservations/:id",component:Ht}),r.a.createElement(N.b,{exact:!0,path:"/reservations",component:qt}),r.a.createElement(N.b,{exact:!0,path:"/payments",component:on}),r.a.createElement(N.a,{exact:!0,from:"/(login)?",to:"/reservations"})))},un=function(){return r.a.createElement(N.d,null,r.a.createElement(N.b,{exact:!0,path:"/",component:ln}),r.a.createElement(N.b,{exact:!0,path:"/login",component:cn}),r.a.createElement(N.a,{to:"/login"}))},mn=function(){var e=E((function(e){return e.auth}),o.c).isLoggedIn;return r.a.createElement(y.a,null,e?r.a.createElement(sn,null):r.a.createElement(un,null))};Object(Ve.registerLocale)("en-GB",ze.a);t(325);l.a.render(r.a.createElement(o.a,{store:g},r.a.createElement(h.a,null),r.a.createElement(mn,null)),document.getElementById("rentsyst_personal"))},34:function(e,a,t){e.exports={button:"button_button__1U9Ux","is-disabled":"button_is-disabled__1obop",green:"button_green__3Rkc5",blue:"button_blue__3pDOt",red:"button_red___N-sA",small:"button_small__1JDfI",button__loader:"button_button__loader__3smGf"}},36:function(e,a,t){e.exports={container:"dl_container__37MKY",date:"dl_date__2Q_5E",month:"dl_month__3agjE",day:"dl_day__2rH5B",year:"dl_year__2uiDd",location:"dl_location__3s9lp",time:"dl_time__lRXvy"}},44:function(e,a,t){e.exports={wrapper:"login_wrapper__2-ioz",info:"login_info__2RO-X","is-success":"login_is-success__1-_3g","is-error":"login_is-error__37hDy",inner:"login_inner__3iNzB",title:"login_title__34F2n",form:"login_form__2bD_A",form__buttons:"login_form__buttons__g0Pyd",input:"login_input__16wc9",input__wrap:"login_input__wrap__F85-i",error:"login_error__3T6zb",input__error:"login_input__error__1Gsit"}},46:function(e,a,t){e.exports={container:"le_container__lDVMd","control-wrap":"le_control-wrap__2AuHg",input:"le_input__3OmRK",select:"le_select__3pBX3","control-wrap--input":"le_control-wrap--input___r_07","control-wrap--select":"le_control-wrap--select__nb0YJ",checkbox__label:"le_checkbox__label__r3O2d"}},53:function(e,a,t){e.exports={container:"de_container__2Q9ZW",item:"de_item__3HYVB","control-wrap":"de_control-wrap__1LFA_","date-val":"de_date-val__JzSu9",time:"de_time__vAmLP"}},54:function(e,a,t){e.exports={column:"taxes_column__27PYy","label-title":"taxes_label-title__2FiwU",row:"taxes_row__3Lw8a"}},55:function(e,a,t){e.exports={modal:"cm_modal__3vsPl",modal__content:"cm_modal__content__wATJ8","modal__icon-wrapper":"cm_modal__icon-wrapper__3jPp7",modal__icon:"cm_modal__icon__4smJj",modal__title:"cm_modal__title__3MQKF",modal__controls:"cm_modal__controls__1qTtu",modal__btn:"cm_modal__btn__1sliK"}},62:function(e,a,t){e.exports={message:"annul_message__3DT5M",annual__modal:"annul_annual__modal__130ho",annual__title:"annul_annual__title__220Ct",annual__text:"annul_annual__text__2GLRk",annual__error:"annul_annual__error__1rvL4","text-column":"annul_text-column__2KpAl"}},67:function(e,a,t){e.exports={sign:"signature_sign__3N4kj",sign__controls:"signature_sign__controls__SmSvb",sign__field:"signature_sign__field__24KoE",sign__preview:"signature_sign__preview__362RL"}},68:function(e,a,t){e.exports={overlay:"loader_overlay__1XuFC",loader:"loader_loader__9KUMn",circle:"loader_circle__ZUXdd",ldsEllipsis1:"loader_ldsEllipsis1__1N_SX",ldsEllipsis2:"loader_ldsEllipsis2__3xvso",ldsEllipsis3:"loader_ldsEllipsis3__VCmSg"}},70:function(e,a,t){e.exports={param:"vp_param__2gNoF",vp__group:"vp_vp__group__Ev2Ud"}},72:function(e,a,t){e.exports={container:"filters_container__1yTRI",total:"filters_total__28n04",filters:"filters_filters__1kMZs"}},79:function(e,a,t){e.exports={list:"nav_list__Ec62-",link:"nav_link__1QiWu",active:"nav_active__1dR0M"}},8:function(e,a,t){e.exports={list:"rslist_list__3hFBK",reservation:"rslist_reservation__1orhF",label:"rslist_label__2M6PX",reservation__header:"rslist_reservation__header__3RCXk",number:"rslist_number__12lso",status:"rslist_status__2tVvQ","status-val":"rslist_status-val__1Zip6","type-val":"rslist_type-val__jr2jN",reservation__body:"rslist_reservation__body__sBw_a",side:"rslist_side__2BfbL",reservation__footer:"rslist_reservation__footer__1y0va","rental-time":"rslist_rental-time__2aav8","reservation__bottom-info":"rslist_reservation__bottom-info__2GbS_",reservation__todo:"rslist_reservation__todo__1PYjy",reservation__btns:"rslist_reservation__btns__2_Gg-",reservation__loading:"rslist_reservation__loading__29m9m",vehicle:"rslist_vehicle__1HwLb",vehicle__info:"rslist_vehicle__info__UnIUt",vehicle__img:"rslist_vehicle__img__EY47F",vehicle__inner:"rslist_vehicle__inner__xyuLp",vehicle__group:"rslist_vehicle__group__1j-U9",vehicle__title:"rslist_vehicle__title__1WL6Y",vehicle__similar:"rslist_vehicle__similar__3WlJm",details:"rslist_details__vwBDw",details__group:"rslist_details__group__i1pRs","details__group-item":"rslist_details__group-item___F_cH",details__column:"rslist_details__column__3I4yw","mob-flex":"rslist_mob-flex__-_8Jo","details__column--mob":"rslist_details__column--mob__rKPmW",insurance:"rslist_insurance__2PliO",price:"rslist_price__1Tv5N",bold:"rslist_bold__1Ku7a"}},80:function(e,a,t){e.exports={container:"todo_container__2sYFw",label:"todo_label__wfjxq",actions:"todo_actions__jK3tX",action:"todo_action__3C57c"}},81:function(e,a,t){e.exports={modal:"im_modal__2awar",modal__content:"im_modal__content__29XuW",modal__close:"im_modal__close__2HMSC",modal__image:"im_modal__image__3khkG"}},82:function(e,a,t){e.exports={label:"forminput_label__2V6IP",input:"forminput_input__1kjac",input__error:"forminput_input__error__2IMCj",error:"forminput_error__3k5cf"}},94:function(e,a,t){e.exports={reservation:"pages_reservation__oz2F0",coming:"pages_coming__20cOf"}},99:function(e,a,t){e.exports={container:"checkbox_container__2cHUS",label:"checkbox_label__2X3u_",checkbox:"checkbox_checkbox__28akA"}}},[[180,1,2]]]);